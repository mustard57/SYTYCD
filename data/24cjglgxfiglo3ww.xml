<message message-id="20090701072434.GB7647@sprite" list="org.kernel.vger.linux-wireless" id="24cjglgxfiglo3ww" type="development" date="2009-06-30T21:24:34-10:00" year="2009-01-01" year-month="2009-07-01" year-month-day="2009-07-01" thread-id="gg47yecsjjb3cww3"><headers><envelope-from-line>Tue Jun 30 23:27:45 2009</envelope-from-line><from personal="Joel Roth" address="joelz@pobox.com">Joel Roth &lt;joelz@pobox.com&gt;</from><to personal="Nick Kossifidis" address="mickflemm@gmail.com">Nick Kossifidis &lt;mickflemm@gmail.com&gt;</to><cc personal="linux-wireless@vger.kernel.org" address="linux-wireless@vger.kernel.org">linux-wireless@vger.kernel.org</cc><subject normal="ath5k and Atheros AR242x - No scan results">Re: ath5k and Atheros AR242x - No scan results</subject><received>from srv-117c-be06.markmail.marklogic.com ([172.19.8.46])
          by mail-1.a.markmail.int (JAMES SMTP Server 2.3.1) with SMTP ID 35
          for &lt;archive.user.28595@a.markmail.org&gt;;
          Tue, 30 Jun 2009 23:27:44 -0800 (GMT-08:00)</received><received>from vger.kernel.org (slb-117n.markmail.marklogic.com [172.19.8.33])
	by mgw-1.public.markmail.int (Postfix) with ESMTP id 4DB75290830E
	for &lt;archive.user.28595@a.markmail.org&gt;; Wed,  1 Jul 2009 00:27:20 -0700 (PDT)</received><received>(majordomo@vger.kernel.org) by vger.kernel.org via listexpand
	id S1752852AbZGAH1i (ORCPT
	&lt;rfc822;archive.user.28595@a.markmail.org&gt;);
	Wed, 1 Jul 2009 03:27:38 -0400</received><received>(majordomo@vger.kernel.org) by vger.kernel.org id S1752171AbZGAH1i
	(ORCPT &lt;rfc822;linux-wireless-outgoing&gt;);
	Wed, 1 Jul 2009 03:27:38 -0400</received><received>from b-sasl-quonix.sasl.smtp.pobox.com ([208.72.237.35]:44114 "EHLO
	sasl.smtp.pobox.com" rhost-flags-OK-OK-OK-FAIL) by vger.kernel.org
	with ESMTP id S1752852AbZGAH1h (ORCPT
	&lt;rfc822;linux-wireless@vger.kernel.org&gt;);
	Wed, 1 Jul 2009 03:27:37 -0400</received><received>from localhost.localdomain (unknown [127.0.0.1])
	by b-sasl-quonix.pobox.com (Postfix) with ESMTP id 9C6DB2FCCE;
	Wed,  1 Jul 2009 03:27:40 -0400 (EDT)</received><received>from sprite (unknown [72.234.43.214]) (using TLSv1 with cipher
 AES256-SHA (256/256 bits)) (No client certificate requested) by
 b-sasl-quonix.pobox.com (Postfix) with ESMTPSA id 0EC9F2FCCD; Wed,  1 Jul
 2009 03:27:38 -0400 (EDT)</received><received>from jroth by sprite with local (Exim 4.69) (envelope-from
 &lt;joelz@pobox.com&gt;) id 1MLuBG-00023I-LH; Tue, 30 Jun 2009 21:24:34 -1000</received><date>Tue, 30 Jun 2009 21:24:34 -1000</date><message-id>20090701072434.GB7647@sprite</message-id><reply-to>Joel Roth &lt;joelz@pobox.com&gt;</reply-to><references>&lt;20090630170916.GB5137@sprite&gt;
 &lt;40f31dec0906301416m39e6943ewef8d9c5bc5591880@mail.gmail.com&gt;</references><mime-version>1.0</mime-version><content-type>text/plain; charset=iso-8859-1</content-type><content-disposition>inline</content-disposition><in-reply-to>&lt;40f31dec0906301416m39e6943ewef8d9c5bc5591880@mail.gmail.com&gt;</in-reply-to><user-agent>Mutt/1.5.18 (2008-05-17)</user-agent><x-pobox-relay-id>A8DD2436-6610-11DE-B749-DA7A2FBFAAF1-04347428!b-sasl-quonix.pobox.com</x-pobox-relay-id><sender>linux-wireless-owner@vger.kernel.org</sender><precedence>bulk</precedence><list-id>&lt;linux-wireless.vger.kernel.org&gt;</list-id><x-mailing-list>linux-wireless@vger.kernel.org</x-mailing-list><content-transfer-encoding>quoted-printable</content-transfer-encoding></headers><normalized-references><normalized-message-id>20090701072434.GB7647@sprite</normalized-message-id><normalized-in-reply-to>40f31dec0906301416m39e6943ewef8d9c5bc5591880@mail.gmail.com</normalized-in-reply-to><normalized-reference>20090630170916.GB5137@sprite</normalized-reference><normalized-reference>40f31dec0906301416m39e6943ewef8d9c5bc5591880@mail.gmail.com</normalized-reference></normalized-references><body type="text/plain; charset=iso-8859-1"><para depth="0">On Wed, Jul 01, 2009 at 12:16:47AM +0300, Nick Kossifidis wrote:
</para><quote depth="1"><quotepara depth="1">2009/6/30 Joel Roth &lt;<email>joelz@pobox.com</email>&gt;:
</quotepara><quote depth="2"><quotepara depth="2">Hello all,

</quotepara><quotepara depth="2">I'd appreciate some help troubleshooting my wireless connection.

</quotepara><quotepara depth="2">I have a Toshiba Satellite L305 series laptop running Debian
sid with a recent, stock Debian kernel version 2.6.29-2-486.

</quotepara><quotepara depth="2">$ lspci | grep Atheros

</quotepara><quotepara depth="2">05:00.0 Ethernet controller: Atheros Communications Inc. AR242x 802.11abg<br/>Wireless PCI Express Adapter (rev 01)

</quotepara><quotepara depth="2">I am seeking to connect to a D-Link 614+ wireless router.
For initial testing, the AP is unencrypted, unsecured.

</quotepara><quotepara depth="2">My wife's G3 i-Book with AfterTheMac USB wireless adapter
connected just fine, on the first try.

</quotepara><quotepara depth="2">I believe I have the modules I should have:

</quotepara><quotepara depth="2">$ lsmod | grep 80211
mac80211              139680  1 ath5k
cfg80211               21576  2 ath5k,mac80211

</quotepara><quotepara depth="2">My wireless network interface is present:

</quotepara><quotepara depth="2">$ iwconfig wlan0

</quotepara><quotepara depth="2">wlan0     IEEE 802.11  ESSID:""
         Mode:Managed  Frequency:2.412 GHz  Access Point: Not-Associated
         Tx-Power=0 dBm
         Retry min limit:7   RTS thr:off   Fragment thr=2352 B
         Link Quality:0  Signal level:0  Noise level:0
         Rx invalid nwid:0  Rx invalid crypt:0  Rx invalid frag:0
         Tx excessive retries:0  Invalid misc:0   Missed beacon:0

</quotepara><quotepara depth="2">$ ifconfig wlan0

</quotepara><quotepara depth="2">wlan0     Link encap:Ethernet  HWaddr 00:21:63:82:82:40
         UP BROADCAST MULTICAST  MTU:1500  Metric:1
         RX packets:0 errors:0 dropped:0 overruns:0 frame:0
         TX packets:0 errors:0 dropped:0 overruns:0 carrier:0
         collisions:0 txqueuelen:1000
         RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)

</quotepara><quotepara depth="2">However, I don't find the D-Link 614+:

</quotepara><quotepara depth="2">$ iwlist wlan0 scan

</quotepara><quotepara depth="2">wlan0     No scan results

</quotepara><quotepara depth="2">And of course, dhclient fails to find a server.

</quotepara><quotepara depth="2">Am I missing something? What could I try next?
I'd appreciate any pointers.

</quotepara><quotepara depth="2">Thanks.

</quotepara><quotefooter type="signature" depth="2" hash="16962406628022979298">--
Joel Roth
</quotefooter></quote><quotepara depth="1">
Hello ;-)

</quotepara><quotepara depth="1">Can you please sent the dmesg output when ath5k loads ?
Also do you see any messages on dmesg while scaning ?
</quotepara></quote><para depth="0">
Hi :-)

</para><para depth="0">On loading the ath5k driver, dmesg reports:

</para><para depth="0">[83838.020161] ath5k 0000:05:00.0: PCI INT A disabled
[83852.364249] cfg80211: Using static regulatory domain info
[83852.364253] cfg80211: Regulatory domain: US
[83852.364255]  (start_freq - end_freq @ bandwidth), (max_antenna_gain,<br/>max_eirp)
[83852.364258]  (2402000 KHz - 2472000 KHz @ 40000 KHz), (600 mBi, 2700 mBm)
[83852.364261]  (5170000 KHz - 5190000 KHz @ 40000 KHz), (600 mBi, 2300 mBm)
[83852.364264]  (5190000 KHz - 5210000 KHz @ 40000 KHz), (600 mBi, 2300 mBm)
[83852.364266]  (5210000 KHz - 5230000 KHz @ 40000 KHz), (600 mBi, 2300 mBm)
[83852.364269]  (5230000 KHz - 5330000 KHz @ 40000 KHz), (600 mBi, 2300 mBm)
[83852.364271]  (5735000 KHz - 5835000 KHz @ 40000 KHz), (600 mBi, 3000 mBm)
[83852.364274] cfg80211: Calling CRDA for country: US
[83852.427844] ath5k 0000:05:00.0: PCI INT A -&gt; GSI 18 (level, low) -&gt; IRQ 18
[83852.427858] ath5k 0000:05:00.0: setting latency timer to 64
[83852.427916] ath5k 0000:05:00.0: registered as 'phy0'
[83852.620221] wmaster0 (ath5k): not using net_device_ops yet
[83852.620896] phy0: Selected rate control algorithm 'minstrel'
[83852.620913] wlan0 (ath5k): not using net_device_ops yet
[83852.621565] ath5k phy0: Atheros AR2425 chip found (MAC: 0xe2, PHY: 0x70)

</para><para depth="0">On attempting to scan:

</para><para depth="0">[84202.916169] ADDRCONF(NETDEV_UP): wlan0: link is not ready

</para><para depth="0">Thanks!

</para><footer type="signature" depth="0" hash="9491061434297755480">-- 
Joel Roth
</footer><footer type="list-management" depth="0">--
To unsubscribe from this list: send the line "unsubscribe linux-wireless" in
the body of a message to <email>majordomo@vger.kernel.org</email>
More majordomo info at  <url>http://vger.kernel.org/majordomo-info.html</url>
</footer></body></message>