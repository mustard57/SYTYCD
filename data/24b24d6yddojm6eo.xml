<message message-id="200012200427.eBK4R7d40265@freefall.freebsd.org" list="org.freebsd.freebsd-bugs" id="24b24d6yddojm6eo" type="bugs" date="2000-12-19T20:27:07-08:00" year="2000-01-01" year-month="2000-12-01" year-month-day="2000-12-19" thread-id="24b24d6yddojm6eo"><headers><envelope-from-line>From owner-freebsd-bugs@FreeBSD.ORG  Tue Dec 19 20:30:02 2000</envelope-from-line><from personal="andy@silverbrook.com.au" address="andy@silverbrook.com.au">andy@silverbrook.com.au</from><to personal="freebsd-gnats-submit@FreeBSD.org" address="freebsd-gnats-submit@FreeBSD.org">freebsd-gnats-submit@FreeBSD.org</to><subject normal="gnu/23678: gdb won't exit if attached process disappears">gnu/23678: gdb won't exit if attached process disappears</subject><return-path>owner-freebsd-bugs@FreeBSD.ORG</return-path><delivered-to>freebsd-bugs@hub.freebsd.org</delivered-to><received>from freefall.freebsd.org (freefall.FreeBSD.org [216.136.204.21])
	by hub.freebsd.org (Postfix) with ESMTP id EDE4837B402
	for &lt;freebsd-bugs@hub.freebsd.org&gt;; Tue, 19 Dec 2000 20:30:01 -0800 (PST)</received><received>(from gnats@localhost)
	by freefall.freebsd.org (8.11.1/8.11.1) id eBK4U1q40422;
	Tue, 19 Dec 2000 20:30:01 -0800 (PST)
	(envelope-from gnats)</received><resent-date>Tue, 19 Dec 2000 20:30:01 -0800 (PST)</resent-date><resent-message-id>&lt;200012200430.eBK4U1q40422@freefall.freebsd.org&gt;</resent-message-id><resent-from>gnats-admin@FreeBSD.org (GNATS Management)</resent-from><resent-to>freebsd-bugs@FreeBSD.org</resent-to><resent-reply-to>gnats-admin@FreeBSD.org, andy@silverbrook.com.au</resent-reply-to><received>from freefall.freebsd.org (freefall.FreeBSD.org [216.136.204.21])
	by hub.freebsd.org (Postfix) with ESMTP id 1D9F737B400
	for &lt;freebsd-gnats-submit@FreeBSD.org&gt;; Tue, 19 Dec 2000 20:27:07 -0800 (PST)</received><received>(from nobody@localhost)
	by freefall.freebsd.org (8.11.1/8.11.1) id eBK4R7d40265;
	Tue, 19 Dec 2000 20:27:07 -0800 (PST)
	(envelope-from nobody)</received><message-id>200012200427.eBK4R7d40265@freefall.freebsd.org</message-id><date>Tue, 19 Dec 2000 20:27:07 -0800 (PST)</date><sender>nobody@FreeBSD.org</sender><x-send-pr-version>www-1.0</x-send-pr-version><resent-sender>gnats@FreeBSD.org</resent-sender><sender>owner-freebsd-bugs@FreeBSD.ORG</sender><precedence>bulk</precedence><x-loop>FreeBSD.org</x-loop></headers><normalized-references><normalized-message-id>200012200427.eBK4R7d40265@freefall.freebsd.org</normalized-message-id></normalized-references><body type="text/plain"><para depth="0">
</para><quote depth="1"><quotepara depth="1">Number:         23678
Category:       gnu
Synopsis:       gdb won't exit if attached process disappears
Confidential:   no
Severity:       serious
Priority:       low
Responsible:    freebsd-bugs
State:          open
Quarter:        
Keywords:       
Date-Required:
Class:          sw-bug
Submitter-Id:   current-users
Arrival-Date:   Tue Dec 19 20:30:01 PST 2000
Closed-Date:
Last-Modified:
Originator:     Andy Newman
Release:        RELENG_4
Organization:
Silverbrook Research
Environment:
</quotepara></quote><para depth="0">FreeBSD bebop.silverbrook.com.au 4.2-STABLE FreeBSD 4.2-STABLE #0: Wed Nov 22<br/>08:52:41 EST 2000     <email>toor@bebop.silverbrook.com.au</email>:/usr/obj/usr/src/sys/bebop<br/>i386

</para><quote depth="1"><quotepara depth="1">Description:
</quotepara></quote><para depth="0">If gdb is attached to a process and that process subsequently exits
prior to gdb detaching then gdb fails to detach, issues an error
message and won't exit.  You have to kill gdb to quit.

</para><para depth="0">Here's a sample of gdb's output at such a time,
(gdb) Quit
(gdb) The program is running.  Quit anyway (and detach it)? (y or n) y
Detaching from program: /home/andy/tmp/tstp, process 25834, thread 1
ptrace: No such process.
(gdb)

</para><quote depth="1"><quotepara depth="1">How-To-Repeat:
</quotepara></quote><para depth="0">Attach to process in gdb. Have process exit. Then try to quit gdb.

</para><quote depth="1"><quotepara depth="1">Fix:
</quotepara></quote><para depth="0">Seems likely to be a simple test of errno at the appropriate point.

</para><quote depth="1"><quotepara depth="1">Release-Note:
Audit-Trail:
Unformatted:
</quotepara></quote><para depth="0">
To Unsubscribe: send mail to <email>majordomo@FreeBSD.org</email>
with "unsubscribe freebsd-bugs" in the body of the message

</para></body></message>