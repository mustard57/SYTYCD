<message message-id="BED4E217.3176%paul@kitebird.com" list="org.oasis-open.lists.docbook-apps" id="24b4hqpz7ae5jo2d" type="general" date="2005-06-15T00:36:12Z" year="2005-01-01" year-month="2005-06-01" year-month-day="2005-06-14" thread-id="qsm7xl3xgckffaud"><headers><envelope-from-line>From paul@kitebird.com 15 Jun 2005 00:36:12 -0000</envelope-from-line><from personal="Paul DuBois" address="paul@kitebird.com">Paul DuBois &lt;paul@kitebird.com&gt;</from><to personal="Jason Novotny" address="novotny@aei.mpg.de">Jason Novotny &lt;novotny@aei.mpg.de&gt;</to><subject normal="[docbook-apps] using qandaentry">Re: [docbook-apps] using qandaentry</subject><x-spam-checker-version>SpamAssassin 3.2.4 (2008-01-01) on
	spam-1.dev.markmail.int</x-spam-checker-version><x-spam-level/><x-spam-status>No, score=-0.6 required=5.0 tests=BAYES_00,HTML_MESSAGE,
	HTML_MIME_NO_HTML_TAG,MIME_HTML_ONLY,NO_RECEIVED,NO_RELAYS autolearn=disabled
	version=3.2.4</x-spam-status><date>15 Jun 2005 00:36:12 -0000</date><in-reply-to>&lt;42AF6F6F.2050104@aei.mpg.de&gt;</in-reply-to><message-id>BED4E217.3176%paul@kitebird.com</message-id><mime-version>1.0</mime-version><content-type>text/html; charset=utf8</content-type></headers><normalized-references><normalized-message-id>BED4E217.3176%paul@kitebird.com</normalized-message-id><normalized-in-reply-to>42AF6F6F.2050104@aei.mpg.de</normalized-in-reply-to></normalized-references><body html2text="elinks" type="text/html; charset=utf8"><para depth="0">You're tickling a bug in FOP that has bitten many of us.  I get around it by
running a preprocessing step that maps the qanda tags to something else:

</para><para depth="0">&lt;xsl:template match="qandaset"&gt;
  &lt;xsl:apply-templates
select="qandadiv/qandaentry/question|qandaentry/question"/&gt;
  &lt;para&gt;&lt;emphasis&gt;Answers to Exercises&lt;/emphasis&gt;&lt;/para&gt;
  &lt;xsl:apply-templates
select="qandadiv/qandaentry/answer|qandaentry/answer"/&gt;
&lt;/xsl:template&gt;

</para><para depth="0">&lt;xsl:template match="question"&gt;
  &lt;para&gt;Question &lt;xsl:number count="qandaentry" from="qandaset"
level="any"/&gt;:&lt;/para&gt;
  &lt;xsl:apply-templates/&gt;
&lt;/xsl:template&gt;

</para><para depth="0">&lt;xsl:template match="answer"&gt;
  &lt;para&gt;Answer &lt;xsl:number count="qandaentry" from="qandaset"
level="any"/&gt;:&lt;/para&gt;
  &lt;xsl:apply-templates/&gt;
&lt;/xsl:template&gt;

</para><para depth="0">This pulls out all the questions, followed by all the answers.
(In my application, I don't want each answer to be immediately visible below
it's question.)

</para><para depth="0">The numbering is done as it is to cause exercise numbering to reset for each
chapter.

</para><para depth="0">On 6/14/05 18:59, "Jason Novotny" &lt;<email>novotny@aei.mpg.de</email>&gt; wrote:

</para><quote depth="1"><quotepara depth="1">    I'm using Fop 0.20.5 (has anyone touched this code since 2003??) and
docbook-xsl-1.68.1

</quotepara><quotepara depth="1">    Thanks, Jason

</quotepara><quotefooter type="signature" depth="1" hash="12454384339335109762">Jason Novotny wrote:

</quotefooter><quote depth="2"><quotepara depth="2">Hi,

</quotepara><quotepara depth="2">  All I did was add a new qandaentry in my docbook in between some
other qandaentry's-- the XML is fine and valid, but when using FOP I
get this:

</quotepara><quotepara depth="2"> [java] [INFO] [4]
   [java] [ERROR]
file:/Users/novotny/gridsphere-docs/docs/docbook/FAQ/html/FAQ.fop:135:219
The id "N10095" already exists in this document
   [java] org.apache.fop.apps.FOPException:
file:/Users/novotny/gridsphere-docs/docs/docbook/FAQ/html/FAQ.fop:135:219
The id "N10095" already exists in this document
   [java]     at
org.apache.fop.datatypes.IDReferences.createID(IDReferences.java:119)
   [java]     at
org.apache.fop.datatypes.IDReferences.initializeID(IDReferences.java:99)
   [java]     at
org.apache.fop.fo.flow.ListItemLabel.layout(ListItemLabel.java:99)

</quotepara><quotepara depth="2">  This is so weird since if I add the qandaentry as the very last one
before /qandaset I don't get this error. Why should the ordering matter?

</quotepara><quotepara depth="2">  Thanks, Jason

</quotepara><quotefooter type="list-management" depth="2">---------------------------------------------------------------------
To unsubscribe, e-mail: <email>docbook-apps-unsubscribe@lists.oasis-open.org</email>
For additional commands, e-mail: <email>docbook-apps-help@lists.oasis-open.org</email>

</quotefooter></quote><quotefooter type="list-management" depth="1">---------------------------------------------------------------------
To unsubscribe, e-mail: <email>docbook-apps-unsubscribe@lists.oasis-open.org</email>
For additional commands, e-mail: <email>docbook-apps-help@lists.oasis-open.org</email>

</quotefooter></quote></body></message>