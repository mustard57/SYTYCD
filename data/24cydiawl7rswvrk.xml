<message message-id="1208882462.12717.72.camel@localhost.localdomain" list="com.redhat.fedora-packaging" id="24cydiawl7rswvrk" type="general" date="2008-04-22T12:41:02-04:00" year="2008-01-01" year-month="2008-04-01" year-month-day="2008-04-22" thread-id="di7a5y7q7o5fv5tu"><headers><envelope-from-line>From tcallawa@redhat.com Tue Apr 22 12:41:20 2008</envelope-from-line><from personal="Tom &quot;spot&quot; Callaway" address="tcallawa@redhat.com">"Tom \"spot\" Callaway" &lt;tcallawa@redhat.com&gt;</from><to personal="Discussion of RPM packaging standards and practices for Fedora" address="fedora-packaging@redhat.com">Discussion of RPM packaging standards and practices for Fedora &lt;fedora-packaging@redhat.com&gt;</to><subject normal="[Fedora-packaging] Static Library Policy Draft Changes">Re: [Fedora-packaging] Static Library Policy Draft Changes</subject><received>from int-mx1.corp.redhat.com (int-mx1.corp.redhat.com
	[172.16.52.254])
	by listman.util.phx.redhat.com (8.13.1/8.13.1) with ESMTP id
	m3MGfJbi029906 for &lt;fedora-packaging@listman.util.phx.redhat.com&gt;;
	Tue, 22 Apr 2008 12:41:19 -0400</received><received>from pobox.corp.redhat.com (pobox.corp.redhat.com [10.11.255.20])
	by int-mx1.corp.redhat.com (8.13.1/8.13.1) with ESMTP id m3MGfIr4003126
	for &lt;fedora-packaging@redhat.com&gt;; Tue, 22 Apr 2008 12:41:18 -0400</received><received>from [10.13.248.18] (vpn-248-18.boston.redhat.com [10.13.248.18])
	by pobox.corp.redhat.com (8.13.1/8.13.1) with ESMTP id m3MGfIHa006020
	for &lt;fedora-packaging@redhat.com&gt;; Tue, 22 Apr 2008 12:41:18 -0400</received><in-reply-to>&lt;1207797436.22822.51.camel@localhost.localdomain&gt;</in-reply-to><references>&lt;1207691491.3065.101.camel@localhost.localdomain&gt;
	&lt;20080409031252.GA27678@nostromo.devel.redhat.com&gt;
	&lt;1207741027.11614.10.camel@localhost.localdomain&gt;
	&lt;1207744746.24618.162.camel@beck.corsepiu.local&gt;
	&lt;1207747665.11614.27.camel@localhost.localdomain&gt;
	&lt;1207748857.3000.16.camel@localhost.localdomain&gt;
	&lt;1207750229.24618.169.camel@beck.corsepiu.local&gt;
	&lt;1207794933.22822.47.camel@localhost.localdomain&gt;
	&lt;20080410025447.GB30323@nostromo.devel.redhat.com&gt;
	&lt;1207797436.22822.51.camel@localhost.localdomain&gt;</references><content-type>text/plain; charset=iso-8859-1</content-type><date>Tue, 22 Apr 2008 12:41:02 -0400</date><message-id>1208882462.12717.72.camel@localhost.localdomain</message-id><mime-version>1.0</mime-version><x-mailer>Evolution 2.22.1 (2.22.1-1.fc9) </x-mailer><content-transfer-encoding>7bit</content-transfer-encoding><x-scanned-by>MIMEDefang 2.58 on 172.16.52.254</x-scanned-by><x-loop>fedora-packaging@redhat.com</x-loop><x-beenthere>fedora-packaging@redhat.com</x-beenthere><x-mailman-version>2.1.5</x-mailman-version><precedence>junk</precedence><reply-to>Discussion of RPM packaging standards and practices for Fedora
	&lt;fedora-packaging@redhat.com&gt;</reply-to><list-id>Discussion of RPM packaging standards and practices for Fedora
	&lt;fedora-packaging.redhat.com&gt;</list-id><list-unsubscribe>&lt;https://www.redhat.com/mailman/listinfo/fedora-packaging&gt;, 
	&lt;mailto:fedora-packaging-request@redhat.com?subject=unsubscribe&gt;</list-unsubscribe><list-archive>&lt;https://www.redhat.com/archives/fedora-packaging&gt;</list-archive><list-post>&lt;mailto:fedora-packaging@redhat.com&gt;</list-post><list-help>&lt;mailto:fedora-packaging-request@redhat.com?subject=help&gt;</list-help><list-subscribe>&lt;https://www.redhat.com/mailman/listinfo/fedora-packaging&gt;,
	&lt;mailto:fedora-packaging-request@redhat.com?subject=subscribe&gt;</list-subscribe><x-list-received-date>Tue, 22 Apr 2008 16:41:20 -0000</x-list-received-date></headers><normalized-references><normalized-message-id>1208882462.12717.72.camel@localhost.localdomain</normalized-message-id><normalized-in-reply-to>1207797436.22822.51.camel@localhost.localdomain</normalized-in-reply-to><normalized-reference>1207691491.3065.101.camel@localhost.localdomain</normalized-reference><normalized-reference>20080409031252.GA27678@nostromo.devel.redhat.com</normalized-reference><normalized-reference>1207741027.11614.10.camel@localhost.localdomain</normalized-reference><normalized-reference>1207744746.24618.162.camel@beck.corsepiu.local</normalized-reference><normalized-reference>1207747665.11614.27.camel@localhost.localdomain</normalized-reference><normalized-reference>1207748857.3000.16.camel@localhost.localdomain</normalized-reference><normalized-reference>1207750229.24618.169.camel@beck.corsepiu.local</normalized-reference><normalized-reference>1207794933.22822.47.camel@localhost.localdomain</normalized-reference><normalized-reference>20080410025447.GB30323@nostromo.devel.redhat.com</normalized-reference><normalized-reference>1207797436.22822.51.camel@localhost.localdomain</normalized-reference></normalized-references><body type="text/plain; charset=iso-8859-1"><para depth="0">On Wed, 2008-04-09 at 23:17 -0400, Jesse Keating wrote:
</para><quote depth="1"><quotepara depth="1">On Wed, 2008-04-09 at 22:54 -0400, Bill Nottingham wrote:
</quotepara><quote depth="2"><quotepara depth="2">The only way this can happen (AFAIK) is if they're linked by:

</quotepara><quotepara depth="2">- explicitly listing %{_libdir}/libfoo.a on the link line
- explicitly passing -Wl,-bstatic

</quotepara><quotepara depth="2">Either of these things should be auditable.
</quotepara></quote><quotepara depth="1">
Ok, if that's the case, we can relax the need for the -noshared
subpackage.  I'm really just going on the word of others here.
</quotepara></quote><para depth="0">
I've rewritten it to remove the need for the -noshared subpackage:

</para><para depth="0"><url>http://fedoraproject.org/wiki/PackagingDrafts/StaticLibraryPolicy</url>

</para><para depth="0">In plain English:

</para><para depth="0">When shared libraries exist, static libraries go into -static (whether
they have a shared library counterpart or not). Any packages which link
against static libraries must BuildRequire: the -static subpackage. If
(and only if) there are no shared libraries provided, then the static
libraries can go in -devel, but -devel must also provide -static.

</para><para depth="0">It is worth noting that this draft is no longer significantly different
from the current policies, but is a clarification to try and eliminate
confusion.

</para><para depth="0">~spot
</para></body></message>