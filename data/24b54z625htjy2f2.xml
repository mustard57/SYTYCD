<message message-id="44314dd8$1@nntp0.pdx.net" list="org.python.python-list" id="24b54z625htjy2f2" type="general" date="2006-04-03T09:42:51-07:00" year="2006-01-01" year-month="2006-04-01" year-month-day="2006-04-03" thread-id="zddpdrbtjjzjuhe7"><headers><envelope-from-line>From scott.daniels@acm.org  Mon Apr  3 18:42:51 2006</envelope-from-line><from personal="Scott David Daniels" address="scott.daniels@acm.org">Scott David Daniels &lt;scott.daniels@acm.org&gt;</from><subject normal="Oserror: [Errno 20]">Oserror:  [Errno 20]</subject><date>Mon, 03 Apr 2006 09:42:51 -0700</date><in-reply-to>&lt;mailman.4016.1144064731.27775.python-list@python.org&gt;</in-reply-to><references>&lt;e0r165$g9d$1@heffalump.dur.ac.uk&gt;
	&lt;mailman.4016.1144064731.27775.python-list@python.org&gt;</references><message-id>44314dd8$1@nntp0.pdx.net</message-id><content-type>text/plain; charset=iso-8859-1</content-type><mime-version>1.0</mime-version></headers><normalized-references><normalized-message-id>44314dd8$1@nntp0.pdx.net</normalized-message-id><normalized-in-reply-to>mailman.4016.1144064731.27775.python-list@python.org</normalized-in-reply-to><normalized-reference>e0r165$g9d$1@heffalump.dur.ac.uk</normalized-reference><normalized-reference>mailman.4016.1144064731.27775.python-list@python.org</normalized-reference></normalized-references><body type="text/plain; charset=iso-8859-1"><para depth="0">Peter Hansen wrote:
</para><quote depth="1"><quotepara depth="1">k r fry wrote:
</quotepara><quote depth="2"><quotepara depth="2">Hi, I am new to this list and also programming with python.
I have an error: oserror [errno 20] not a directory "katiescint.py"
The piece of code causing the problem is:
[code]

</quotepara><quotepara depth="2">for subdir in os.listdir(DATADIR):              #loop through list of 
strings

</quotepara><quotepara depth="2">     file=FITS.Read(DATADIR+'/'+subdir+'/flux.fits')     #opens 
flux.fits file and reads
</quotepara></quote><quotepara depth="1">
os.listdir() returns a list of all files and directories inside the 
directory specified (DATADIR), so you can't assume that "subdir" is 
always going to be a directory.  Use os.path.isdir() to confirm that it 
is and ignore those items for which that function returns False.
</quotepara></quote><para depth="0">
I'd guess you might want to go with something like:

</para><para depth="0">     for root, dirs, files in os.walk(DATADIR):
         if 'flux.fits' in files:
             file = FITS.Read(os.path.join(root, 'flux.fits'))

</para><para depth="0">read up on:
     os.path.join
and
     os.walk

</para><para depth="0">The previous code will do lots of recursive walking in a deeply nested
directory structure.  If you only want to look at single-level subdirs,
you could either do:

</para><para depth="0">     root, dirs, files = iter(os.walk(DATADIR)).next()
     for subdir in dirs:
         file = FITS.Read(os.path.join(root, subdir, 'flux.fits'))

</para><para depth="0">or:
     for root, dirs, files in os.walk(DATADIR):
         if 'flux.fits' in files:
             file = FITS.Read(os.path.join(root, 'flux.fits'))
         if root != DATADIR:
             del dirs[:]  # Stop recursing after the first descent)

</para><para depth="0">depending on whether you know 'flux.fits' should be there or
you only want to work on subdirs where it is in the directory.

</para><footer type="signature" hash="10724021813663094076" depth="0">-Scott David Daniels
scott.daniels at acm.org
</footer></body></message>