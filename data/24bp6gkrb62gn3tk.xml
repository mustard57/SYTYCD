<message message-id="type=project&amp;nid=29141&amp;cid=74418&amp;host=@drupal.org" list="org.drupal.documentation" id="24bp6gkrb62gn3tk" type="general" date="2006-02-19T06:09:28" year="2006-01-01" year-month="2006-02-01" year-month-day="2006-02-19" thread-id="eiynnr7jdm4kxasp"><headers><envelope-from-line>From drupal-docs@drupal.org  Sun Feb 19 06:09:25 2006</envelope-from-line><from personal="nedjo" address="drupal-docs@drupal.org">nedjo &lt;drupal-docs@drupal.org&gt;</from><subject normal="[documentation] [feature] Theme developers guide updates on new regioning system">[documentation] [feature] Theme developers guide updates on new regioning system</subject><date>Sun Feb 19 06:09:28 2006</date><in-reply-to>&lt;type=project&amp;nid=29141&amp;host=@drupal.org&gt;</in-reply-to><references>&lt;type=project&amp;nid=29141&amp;host=@drupal.org&gt;
	&lt;type=project&amp;nid=29141&amp;cid=39935&amp;host=@drupal.org&gt;
	&lt;type=project&amp;nid=29141&amp;revcount=1&amp;host=@drupal.org&gt;</references><message-id>type=project&amp;nid=29141&amp;cid=74418&amp;host=@drupal.org</message-id><content-type>text/plain; charset=iso-8859-1</content-type><mime-version>1.0</mime-version></headers><normalized-references><normalized-message-id>type=project&amp;nid=29141&amp;cid=74418&amp;host=@drupal.org</normalized-message-id><normalized-in-reply-to>type=project&amp;nid=29141&amp;host=@drupal.org</normalized-in-reply-to><normalized-reference>type=project&amp;nid=29141&amp;host=@drupal.org</normalized-reference><normalized-reference>type=project&amp;nid=29141&amp;cid=39935&amp;host=@drupal.org</normalized-reference><normalized-reference>type=project&amp;nid=29141&amp;revcount=1&amp;host=@drupal.org</normalized-reference></normalized-references><body type="text/plain; charset=iso-8859-1"><para depth="0">Issue status update for 
<url>http://drupal.org/node/29141</url>
Post a follow up: 
<url>http://drupal.org/project/comments/add/29141</url>

</para><para depth="0"> Project:      Documentation
 Version:      &lt;none&gt;
 Component:    Developer Guide
 Category:     feature requests
 Priority:     normal
 Assigned to:  Anonymous
 Reported by:  nedjo
 Updated by:   nedjo
-Status:       active
+Status:       fixed

</para><para depth="0">Documentation has been updated.

</para><para depth="0">nedjo

</para><para depth="0">Previous comments:
</para><para depth="0">------------------------------------------------------------------------

</para><para depth="0">Thu, 18 Aug 2005 18:40:23 +0000 : nedjo

</para><para depth="0">The following updates to various pages are intended to I've also created
two new pages on regioning:

</para><para depth="0"><url>http://drupal.org/node/29140</url>, Regions in themes, and
<url>http://drupal.org/node/29139</url>, Regioning in PHPTemplate themes

</para><para depth="0">both of which I believe need to be reviewed and approved.

</para><para depth="0">===================
Additions to page <url>http://drupal.org/node/25297</url>, Home ? Developing for
Drupal ? Theme developer's guide ? Updating your themes ? Converting
4.6 themes to HEAD
===================

</para><para depth="0">Regions
Drupal theme authors can now define and implement any number of
'regions' for content to be rendered into.  This regioning system
replaces the previous 'left' and 'right' sidebar regions and should
enable much more flexible layout and design, and requires changes to
every theme and theme engine.

</para><para depth="0">At a minimum, all plain PHP themes must now include a mytheme_regions()
function in their .theme file, defining the available regions.  If left
and right sidebars were already available and no new regions were
introduced, a plain PHP theme could be upgraded simply by adding the
following function:

</para><para depth="0">&lt;?php
function mytheme_regions() {
??return array(
???????'left' =&gt; t('left sidebar'),
???????'right' =&gt; t('right sidebar')
??);
}
?&gt;

</para><para depth="0">Want to do more?  Look to the regioning information in the plain PHP
theme [1] author's guide.

</para><para depth="0">To upgrade PHPTemplate-based themes, the minimum change needed is to
add a "header" region to the page.tpl.php page (a region below the top
of page banner).  In bluemarine, the added region looked like this:

</para><para depth="0">&lt;?php
?print $header 
?&gt;

</para><para depth="0">See the page on regioning in PHPTemplate themes [2] for tips on how to
introduce your own custom regions.

</para><para depth="0">Like plain PHP themes, template engines besides the core PHPTemplate
one can be minimally upgraded simply by adding a
mythemeengine_regions() function defining the already-available left
and right regions.  But full support for regioning will require more
extensive changes.  The phptemplate.engine section of the
recently-applied regioning patch [3] should be a partial guide for
what's needed.

</para><para depth="0">===================
Changes to page <url>http://drupal.org/node/11812</url>, Home ? Developing for
Drupal ? Theme developer's guide ? PHPTemplate theme engine ?
Page.tpl.php
===================

</para><para depth="0">[insert after: [is_front: True if the front page is currently being
displayed. Used to toggle the mission.]]
header: the HTML for the header region.

</para><para depth="0">===================
Changes to page <url>http://drupal.org/node/11795</url>, Home ? Developing for
Drupal ? Theme developer's guide ? Plain PHP themes
===================

</para><para depth="0">[replace [Aside from theme functions, there is one function that you
need to include, called mytheme_features().], with:]

</para><para depth="0">Required functions.
Aside from theme functions, there are two functions that you need to
include.

</para><para depth="0">The first is mytheme_features().

</para><para depth="0">[Insert after "function chameleon_features()" code block:]

</para><para depth="0">The second required function is mytheme_regions(), which defines the
available regions in the theme.

</para><para depth="0">Here's the chameleon.theme _regions() function:

</para><para depth="0">[?

</para><para depth="0">function chameleon_regions() {
  return array(
       'left' =&gt; t('left sidebar'),
       'right' =&gt; t('right sidebar')
  );
}

</para><para depth="0">?]

</para><para depth="0">For each region you define, you'll want to include a code block
including the region's content in the page output.  Typically, this
might look something like:

</para><para depth="0">&lt;?php
??if ($blocks = theme_blocks('regionname')) {
????$output .= '[wrapping content]' . $blocks . '[/wrapping
content]';
??}
?&gt;

</para><para depth="0">Note that 'regionname' here is the array key, not it's text description
(that is, 'left' and not 'left sidebar').  By 'wrapping content' we just
mean any div, td, text, or other elements you might want to enclose your
region's content in.

</para><para depth="0">So, to introduce additional regions beyond just the standard 'left' and
'right' ones, you simply (a) add your region to the list defined in your
_regions() function and (b) render the resulting content to the output
as shown.  So the coding part's quick and easy, don't hesitate to be
creative!

</para><para depth="0">[1] <url>http://drupal.org/node/11795</url>
[2] <url>http://drupal.org/node/29139</url>
[3] <url>http://drupal.org/files/issues/regions4.patch</url>

</para><para depth="0">------------------------------------------------------------------------

</para><para depth="0">Fri, 19 Aug 2005 20:44:13 +0000 : nedjo

</para><para depth="0">Okay, done, except I couldn't make the small update to the page 
<url>http://drupal.org/node/11812</url> [4] (generated warning of suspicious
input, probably arising from PHP code in page).
[4] <url>http://drupal.org/node/11812</url>

</para><para depth="0">------------------------------------------------------------------------

</para><para depth="0">Fri, 19 Aug 2005 21:33:41 +0000 : chx

</para><para depth="0"><url>http://drupal.org/node/29139</url> Is this correct? The nice thing about
phptemplate and it's template.php was that function names were not
theme name dependent.
</para></body></message>