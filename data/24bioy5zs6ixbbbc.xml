<message message-id="4DA93DEC.1070400@gmail.com" list="org.openlaszlo.laszlo-user" id="24bioy5zs6ixbbbc" type="users" date="2011-04-16T02:57:48-04:00" year="2011-01-01" year-month="2011-04-01" year-month-day="2011-04-15" thread-id="trzusvjv2v6iqjes"><headers><envelope-from-line>Fri Apr 15 22:58:12 2011</envelope-from-line><from personal="Terrence Brannon" address="schemelab@gmail.com">Terrence Brannon &lt;schemelab@gmail.com&gt;</from><to personal="laszlo-user@openlaszlo.org" address="laszlo-user@openlaszlo.org">laszlo-user@openlaszlo.org</to><subject normal="[Laszlo-user] class instancing via dataset iteration">Re: [Laszlo-user] class instancing via dataset iteration</subject><received>from srv-117c-be06.markmail.marklogic.com ([172.19.8.46])
          by mail-1.a.markmail.int (JAMES SMTP Server 2.3.1) with SMTP ID 521
          for &lt;liza.woodward.witt@a.markmail.org&gt;;
          Fri, 15 Apr 2011 22:58:12 -0800 (GMT-08:00)</received><received>from openlaszlo.org (slb-117n.markmail.marklogic.com [172.19.8.33])
	by mgw-1.public.markmail.int (Postfix) with ESMTP id A2C1F2908005
	for &lt;liza.woodward.witt@a.markmail.org&gt;; Fri, 15 Apr 2011 23:57:49 -0700 (PDT)</received><received>from openlaszlo.org (openlaszlo.org [127.0.0.1])
	by openlaszlo.org (8.13.4/8.13.4) with ESMTP id p3G6w7Bh022929;
	Fri, 15 Apr 2011 23:58:09 -0700</received><received>from hemicuda.laszlosystems.com (hemicuda.laszlosystems.com
	[204.197.219.18])
	by openlaszlo.org (8.13.4/8.13.4) with ESMTP id p3G6w6gD022926
	for &lt;laszlo-user@openlaszlo.org&gt;; Fri, 15 Apr 2011 23:58:06 -0700</received><x-asg-debug-id>1302937082-2d5f82300001-R37UGP</x-asg-debug-id><received>from mail-yx0-f181.google.com (mail-yx0-f181.google.com
	[209.85.213.181]) by hemicuda.laszlosystems.com with ESMTP id
	ddw8sL6XKWycqNT3 for &lt;laszlo-user@openlaszlo.org&gt;;
	Fri, 15 Apr 2011 23:58:02 -0700 (PDT)</received><x-barracuda-envelope-from>schemelab@gmail.com</x-barracuda-envelope-from><received>by yxm8 with SMTP id 8so1570113yxm.12
	for &lt;laszlo-user@openlaszlo.org&gt;; Fri, 15 Apr 2011 23:58:02 -0700 (PDT)</received><dkim-signature>v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=gamma;
	h=domainkey-signature:message-id:date:from:user-agent:mime-version:to
	:subject:references:in-reply-to:content-type
	:content-transfer-encoding;
	bh=/2DSUbWflKc9rRyPz0Z+eqtq9qO8BpIURnoPQWe2jxc=;
	b=gtMBCnd9oIgr6TTms2rxAulnPuLPTz5TMXEIiRc+EQc6tt/Cv0fKDvMoxgv/7ZfdeH
	lAfCt4ebWyIUW4WgvolIsU8O89KpuYSTe4nPjbKq/NJs4Z6+ROosXFAeHY6zSDxsWg7A
	IODZQOhWu9zQUb8PucLRmCN1LEapODfQsTuto=</dkim-signature><domainkey-signature>a=rsa-sha1; c=nofws; d=gmail.com; s=gamma;
	h=message-id:date:from:user-agent:mime-version:to:subject:references
	:in-reply-to:content-type:content-transfer-encoding;
	b=Cy3phs8rEdscwL3E8W7boUd5e2PvXBq7IMrPvqLTYqd0wygLFPIKhV735CNJ1ZFCZr
	FA2I5WSnNsQYvYRaEkdfQM10xSbaD1n46nf0pF7IRzHT1zkunv+dYpEh91IMn3NB2mMU
	NqXeJGfCkagptJLVSH+RFzHdRd0XY8/w0iq+Q=</domainkey-signature><received>by 10.91.5.40 with SMTP id h40mr3097219agi.106.1302937081222;
	Fri, 15 Apr 2011 23:58:01 -0700 (PDT)</received><received>from [192.168.1.171] (adsl-32-157-86.mia.bellsouth.net
	[184.32.157.86])
	by mx.google.com with ESMTPS id c24sm3341652ana.47.2011.04.15.23.57.59
	(version=SSLv3 cipher=OTHER); Fri, 15 Apr 2011 23:58:00 -0700 (PDT)</received><message-id>4DA93DEC.1070400@gmail.com</message-id><date>Sat, 16 Apr 2011 02:57:48 -0400</date><user-agent>Mozilla/5.0 (Windows; U; Windows NT 6.1; en-US;
	rv:1.9.2.15) Gecko/20110303 Thunderbird/3.1.9</user-agent><mime-version>1.0</mime-version><x-asg-orig-subj>Re: [Laszlo-user] class instancing via dataset iteration</x-asg-orig-subj><references>&lt;BANLkTin8N8K3dwXyMQqtAooYQ9utY_NTKQ@mail.gmail.com&gt;
	&lt;08F68F82-F686-4DF8-8DC3-187197FA6C77@pobox.com&gt;</references><in-reply-to>&lt;08F68F82-F686-4DF8-8DC3-187197FA6C77@pobox.com&gt;</in-reply-to><content-type>text/plain; charset=ISO-8859-1; format=flowed</content-type><content-transfer-encoding>7bit</content-transfer-encoding><x-barracuda-connect>mail-yx0-f181.google.com[209.85.213.181]</x-barracuda-connect><x-barracuda-start-time>1302937082</x-barracuda-start-time><x-barracuda-url>http://204.197.219.18:80/cgi-mod/mark.cgi</x-barracuda-url><x-virus-scanned>by bsmtpd at laszlosystems.com</x-virus-scanned><x-barracuda-spam-score>0.00</x-barracuda-spam-score><x-barracuda-spam-status>No, SCORE=0.00 using global scores of TAG_LEVEL=2.5
	QUARANTINE_LEVEL=1000.0 KILL_LEVEL=1000.0 tests=</x-barracuda-spam-status><x-barracuda-spam-report>Code version 3.2, rules version 3.2.2.61000
	Rule breakdown below
	pts rule name              description
	---- ----------------------
	--------------------------------------------------</x-barracuda-spam-report><x-beenthere>laszlo-user@openlaszlo.org</x-beenthere><x-mailman-version>2.1.6</x-mailman-version><precedence>list</precedence><list-id>OpenLaszlo user community discussion &lt;laszlo-user.openlaszlo.org&gt;</list-id><list-unsubscribe>&lt;http://www.openlaszlo.org/mailman/listinfo/laszlo-user&gt;,
	&lt;mailto:laszlo-user-request@openlaszlo.org?subject=unsubscribe&gt;</list-unsubscribe><list-archive>&lt;http://www.openlaszlo.org/pipermail/laszlo-user&gt;</list-archive><list-post>&lt;mailto:laszlo-user@openlaszlo.org&gt;</list-post><list-help>&lt;mailto:laszlo-user-request@openlaszlo.org?subject=help&gt;</list-help><list-subscribe>&lt;http://www.openlaszlo.org/mailman/listinfo/laszlo-user&gt;,
	&lt;mailto:laszlo-user-request@openlaszlo.org?subject=subscribe&gt;</list-subscribe><sender>laszlo-user-bounces@openlaszlo.org</sender><errors-to>laszlo-user-bounces@openlaszlo.org</errors-to></headers><normalized-references><normalized-message-id>4DA93DEC.1070400@gmail.com</normalized-message-id><normalized-in-reply-to>08F68F82-F686-4DF8-8DC3-187197FA6C77@pobox.com</normalized-in-reply-to><normalized-reference>BANLkTin8N8K3dwXyMQqtAooYQ9utY_NTKQ@mail.gmail.com</normalized-reference><normalized-reference>08F68F82-F686-4DF8-8DC3-187197FA6C77@pobox.com</normalized-reference></normalized-references><body type="text/plain; charset=iso-8859-1; format=flowed"><para depth="0">Just an update. Chris Janik has been helping me off-list and I can now 
render the dataset:

</para><para depth="0">&lt;canvas&gt;

</para><para depth="0">&lt;dataset name="dset" request="true" type="http" 
src="<url>http://static.livingcosmos.org/tmp/asanas.xml</url>"/&gt;

</para><para depth="0">&lt;class name="asanaview" bgcolor="blue" &gt;

</para><para depth="0">&lt;attribute name="asana" type="string" /&gt;
&lt;attribute name="imgurl" type="string"/&gt;

</para><para depth="0">&lt;simplelayout axis="y" spacing="4"/&gt;

</para><para depth="0">&lt;text bgcolor="green" text="${classroot.asana}" /&gt;
&lt;view resource="${classroot.imgurl}"/&gt;

</para><para depth="0">&lt;/class&gt;

</para><para depth="0">&lt;window&gt;

</para><para depth="0">&lt;view height="400"&gt;
&lt;simplelayout axis="x" spacing="4"/&gt;
&lt;view&gt;
&lt;simplelayout axis="y" spacing="4"/&gt;

</para><para depth="0">&lt;asanaview name="av" datapath="dset:/asanas/asana/" 
asana="$path{'name/text()'}" imgurl="$path{'img_url/text()'}" /&gt;
&lt;/view&gt;
&lt;scrollbar/&gt;
&lt;/view&gt;

</para><para depth="0">&lt;/window&gt;

</para><para depth="0">&lt;/canvas&gt;

</para><para depth="0">On 4/15/2011 5:17 PM, P T Withington wrote:
</para><quote depth="1"><quotepara depth="1">Have a look here:  <url>http://bit.ly/dFVIe7</url> which says:

</quotepara><quote depth="2"><quotepara depth="2">When a view's datapath matches more than one data node, one instance of the view<br/>is created for each match.
</quotepara></quote><quotepara depth="1">OpenLaszlo makes it very easy to automatically map over your dataset creating an<br/>instance for each match.

</quotepara><quotepara depth="1">On 2011-04-15, at 13:13, Terrence Brannon wrote:

</quotepara><quote depth="2"><quotepara depth="2">Hello, the examples in "Laszlo in 10 minutes" do not apply to my case. I am
trying to create instances of a class where the binding of the instance
attributes occur via an XML dataset.

</quotepara><quotepara depth="2">I have developed code that renders a single instance of my data:

</quotepara><quotepara depth="2">&lt;canvas&gt;

</quotepara><quotepara depth="2">&lt;class name="asanaview" bgcolor="blue" width="300" height="200"&gt;
&lt;attribute name="asana" type="string" /&gt;
&lt;attribute name="imgurl" type="string"/&gt;

</quotepara><quotepara depth="2">&lt;simplelayout axis="y" spacing="4"/&gt;

</quotepara><quotepara depth="2">&lt;text bgcolor="green" text="${classroot.asana}" /&gt;
&lt;view width="${parent.width}" stretches="both"
resource="${classroot.imgurl}"/&gt;

</quotepara><quotepara depth="2">&lt;/class&gt;

</quotepara><quotepara depth="2">&lt;window&gt;

</quotepara><quotepara depth="2">  &lt;asanaview asana="Creeping Swan" imgurl="
<url>http://www.yinyga.com/images/asana_swan_sleeping.gif</url>" /&gt;
&lt;scrollbar/&gt;
&lt;/window&gt;

</quotepara><quotepara depth="2">&lt;/canvas&gt;

</quotepara><quotepara depth="2">but I'd like to have it iterate over a data structure with several instances
of that data:

</quotepara><quotepara depth="2">&lt;asanas&gt;

</quotepara><quotepara depth="2">&lt;asana&gt;
&lt;img_url&gt;<url>http://www.yinyoga.com/images/asana_swan.gif</url>&lt;/img_url&gt;
&lt;name&gt;Swan&lt;/name&gt;
&lt;page_url&gt;<url>http://www.yinyoga.com/ys2_2.0_asanas_swan.php</url>&lt;/page_url&gt;
&lt;/asana&gt;

</quotepara><quotepara depth="2">&lt;asana&gt;
&lt;img_url&gt;<url>http://www.yinyoga.com/images/asana_swan_sleeping.gif</url>&lt;/img_url&gt;
&lt;name&gt;Sleeping Swan&lt;/name&gt;
&lt;page_url&gt;<url>http://www.yinyoga.com/ys2_2.0_asanas_swan_sleeping.php</url>&lt;/page_url&gt;
&lt;/asana&gt;

</quotepara><quotepara depth="2">&lt;asana&gt;
&lt;img_url&gt;<url>http://www.yinyoga.com/images/asana_toe_squat.gif</url>&lt;/img_url&gt;
&lt;name&gt;Toe Squat&lt;/name&gt;
&lt;page_url&gt;<url>http://www.yinyoga.com/ys2_2.0_asanas_toe_squat.php</url>&lt;/page_url&gt;
&lt;/asana&gt;

</quotepara><quotepara depth="2">&lt;/asanas&gt;

</quotepara><quotepara depth="2">and render each one... the trick is that these two lines:

</quotepara><quotepara depth="2">&lt;text bgcolor="green" text="${classroot.asana}" /&gt;
&lt;view width="${parent.width}" stretches="both"
resource="${classroot.imgurl}"/&gt;

</quotepara><quotepara depth="2">must be rewritten to be sensitve to which instance they are in and the class
instancing must be done as a function of the dataset.
</quotepara></quote></quote><footer type="noise" depth="0">
</footer></body></message>