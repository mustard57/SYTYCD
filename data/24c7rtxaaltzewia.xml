<message message-id="486CCB13.7080305@xored.com" list="org.eclipse.dltk-dev" id="24c7rtxaaltzewia" type="development" date="2008-07-03T19:50:27+07:00" year="2008-01-01" year-month="2008-07-01" year-month-day="2008-07-03" thread-id="razrk5tcsr4cx5mu"><headers><envelope-from-line>Thu Jul 03 05:51:07 2008</envelope-from-line><from personal="Alex Panchenko" address="alex@xored.com">Alex Panchenko &lt;alex@xored.com&gt;</from><to personal="DLTK Developer Discussions" address="dltk-dev@eclipse.org">DLTK Developer Discussions &lt;dltk-dev@eclipse.org&gt;</to><subject normal="[Dltk-dev] Re: The timeout in the&#9;DbgpDebuggingEngineCommunicator.communicate()">Re: [Dltk-dev] Re: The timeout in the	DbgpDebuggingEngineCommunicator.communicate()</subject><received>from srv-117d-be06.markmail.marklogic.com ([172.19.8.66])
          by mail-1.a.markmail.int (JAMES SMTP Server 2.3.1) with SMTP ID 15
          for &lt;diann.york.coffey@a.markmail.org&gt;;
          Thu, 3 Jul 2008 05:51:06 -0700 (PDT)</received><received>from mail.eclipse.org (slb-117n.markmail.marklogic.com [172.19.8.33])
	by mgw-2.public.markmail.int (Postfix) with ESMTP id 850723B300C2
	for &lt;diann.york.coffey@a.markmail.org&gt;; Thu,  3 Jul 2008 05:51:06 -0700 (PDT)</received><received>from node5.eclipse.org (localhost [127.0.0.1])
	by mail.eclipse.org (Postfix) with ESMTP id 01A1D52342;
	Thu,  3 Jul 2008 08:51:05 -0400 (EDT)</received><x-original-to>dltk-dev@eclipse.org</x-original-to><delivered-to>dltk-dev@eclipse.org</delivered-to><received>from mail.xored.com (unknown [91.201.73.196])
	by mail.eclipse.org (Postfix) with SMTP id 9BF111489B8
	for &lt;dltk-dev@eclipse.org&gt;; Thu,  3 Jul 2008 08:51:01 -0400 (EDT)</received><received>from localhost (localhost [127.0.0.1])
	by mail.xored.com (Postfix) with ESMTP id 8C4B181035E
	for &lt;dltk-dev@eclipse.org&gt;; Thu,  3 Jul 2008 19:51:26 +0700 (NOVST)</received><x-virus-scanned>amavisd-new at </x-virus-scanned><x-spam-flag>NO</x-spam-flag><x-spam-score>-4.103</x-spam-score><x-spam-level/><x-spam-status>No, score=-4.103 tagged_above=-10 required=6.6
	tests=[ALL_TRUSTED=-1.8, AWL=0.296, BAYES_00=-2.599]</x-spam-status><received>from mail.xored.com ([127.0.0.1])
	by localhost (mail.xored.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id XU-T1X-Dy3lW for &lt;dltk-dev@eclipse.org&gt;;
	Thu,  3 Jul 2008 19:51:13 +0700 (NOVST)</received><received>from [192.168.3.135] (unknown [91.201.73.197])
	by mail.xored.com (Postfix) with ESMTP id 87257810346
	for &lt;dltk-dev@eclipse.org&gt;; Thu,  3 Jul 2008 19:51:13 +0700 (NOVST)</received><message-id>486CCB13.7080305@xored.com</message-id><date>Thu, 03 Jul 2008 19:50:27 +0700</date><user-agent>Thunderbird 2.0.0.14 (Windows/20080421)</user-agent><mime-version>1.0</mime-version><references>&lt;2e1ce7cd0807030433m382faedha3340e1d762c069e@mail.gmail.com&gt;	&lt;2e1ce7cd0807030512u122d71cbmbc7aa3ffb9295808@mail.gmail.com&gt;	&lt;486CC8B0.8090004@xored.com&gt;
	&lt;2e1ce7cd0807030542w1b1129b4we444c85bc2b0f263@mail.gmail.com&gt;</references><in-reply-to>&lt;2e1ce7cd0807030542w1b1129b4we444c85bc2b0f263@mail.gmail.com&gt;</in-reply-to><content-type>text/plain; charset=ISO-8859-1; format=flowed</content-type><content-transfer-encoding>7bit</content-transfer-encoding><x-beenthere>dltk-dev@eclipse.org</x-beenthere><x-mailman-version>2.1.5</x-mailman-version><precedence>list</precedence><reply-to>DLTK Developer Discussions &lt;dltk-dev@eclipse.org&gt;</reply-to><list-id>DLTK Developer Discussions &lt;dltk-dev.eclipse.org&gt;</list-id><list-unsubscribe>&lt;https://dev.eclipse.org/mailman/listinfo/dltk-dev&gt;,
	&lt;mailto:dltk-dev-request@eclipse.org?subject=unsubscribe&gt;</list-unsubscribe><list-archive>&lt;https://dev.eclipse.org/mailman/private/dltk-dev&gt;</list-archive><list-post>&lt;mailto:dltk-dev@eclipse.org&gt;</list-post><list-help>&lt;mailto:dltk-dev-request@eclipse.org?subject=help&gt;</list-help><list-subscribe>&lt;https://dev.eclipse.org/mailman/listinfo/dltk-dev&gt;,
	&lt;mailto:dltk-dev-request@eclipse.org?subject=subscribe&gt;</list-subscribe><sender>dltk-dev-bounces@eclipse.org</sender><errors-to>dltk-dev-bounces@eclipse.org</errors-to></headers><normalized-references><normalized-message-id>486CCB13.7080305@xored.com</normalized-message-id><normalized-in-reply-to>2e1ce7cd0807030542w1b1129b4we444c85bc2b0f263@mail.gmail.com</normalized-in-reply-to><normalized-reference>2e1ce7cd0807030433m382faedha3340e1d762c069e@mail.gmail.com</normalized-reference><normalized-reference>2e1ce7cd0807030512u122d71cbmbc7aa3ffb9295808@mail.gmail.com</normalized-reference><normalized-reference>486CC8B0.8090004@xored.com</normalized-reference><normalized-reference>2e1ce7cd0807030542w1b1129b4we444c85bc2b0f263@mail.gmail.com</normalized-reference></normalized-references><body type="text/plain; charset=iso-8859-1; format=flowed"><para depth="0">Yes, you are right - if those fields are already in the preferences 
dialog - the code should be fixed to use them.

</para><para depth="0">Johan Compagner wrote:
</para><quote depth="1"><quotepara depth="1">i just checked for preferences and there are already preferences 
specified for that
but never used (as far as i see)

</quotepara><quotepara depth="1">    // Time to wait of connection debugging engine to the IDE
    public static final String PREF_DBGP_CONNECTION_TIMEOUT = 
"dbgp_connection_timeout"; //$NON-NLS-1$

</quotepara><quotepara depth="1">    // Time to wait after sending DBGP request to the debugging engine
    public static final String PREF_DBGP_RESPONSE_TIMEOUT = 
"dbgp_response_timeout"; //$NON-NLS-1$

</quotepara><quotepara depth="1">        prefs.setDefault(
                DLTKDebugPreferenceConstants.PREF_DBGP_CONNECTION_TIMEOUT,
                10000);

</quotepara><quotepara depth="1">        prefs.setDefault(

</quotepara><quotepara depth="1">DLTKDebugPreferenceConstants.PREF_DBGP_RESPONSE_TIMEOUT, 10000);

</quotepara><quotepara depth="1">shouldnt these just be used?

</quotepara><quotepara depth="1">johan

</quotepara><quotepara depth="1">On Thu, Jul 3, 2008 at 2:40 PM, Alex Panchenko &lt;<email>alex@xored.com</email> 
&lt;mailto:<email>alex@xored.com</email>&gt;&gt; wrote:

</quotepara><quotepara depth="1">    Hi Johan,

</quotepara><quotepara depth="1">    Johan Compagner wrote:

</quotepara><quotepara depth="1">        i guess the better code would be this:

</quotepara><quotepara depth="1">                   long endTime = 0;
                   if (timeout &gt; 0) {
                       endTime = System.currentTimeMillis() + timeout;
                   }
                   while (!terminated &amp;&amp; !map.containsKey(key)) {
                       long current = System.currentTimeMillis();
                       if (endTime != 0 &amp;&amp; current &gt;= endTime) {
                           break;
                       }
                       if (endTime == 0)
                           wait();
                       else
                           wait(endTime - current);
                   }

</quotepara><quotepara depth="1">         Then it really waits for ever if timeout == 0
        else it will wait until the endTime which is current time +
        timeout.

</quotepara><quotepara depth="1">    Yes, please commit your code.

</quotepara><quotepara depth="1">        The problem is that this still doesnt fix my problem :)
        Can i make a preference of that timeout? That i can then set
        in my plugin_customization.ini?

</quotepara><quotepara depth="1">    May be we can just increase the timeout to about 1 hour for now? I
    have committed that line.

</quotepara><quotepara depth="1">    Alex
    _______________________________________________
    dltk-dev mailing list
    <email>dltk-dev@eclipse.org</email> &lt;mailto:<email>dltk-dev@eclipse.org</email>&gt;
    <url>https://dev.eclipse.org/mailman/listinfo/dltk-dev</url>

</quotepara><quotepara depth="1">------------------------------------------------------------------------

</quotepara><quotefooter type="list-management" hash="6598987647809436712" depth="1">_______________________________________________
dltk-dev mailing list
<email>dltk-dev@eclipse.org</email>
<url>https://dev.eclipse.org/mailman/listinfo/dltk-dev</url>

</quotefooter></quote><footer type="list-management" depth="0">_______________________________________________
dltk-dev mailing list
<email>dltk-dev@eclipse.org</email>
<url>https://dev.eclipse.org/mailman/listinfo/dltk-dev</url>
</footer></body></message>