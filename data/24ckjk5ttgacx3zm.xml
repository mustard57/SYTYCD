<message message-id="20101112232538.B83B942ED77C@gamma.macosforge.org" list="org.webkit.lists.webkit-unassigned" id="24ckjk5ttgacx3zm" type="bugs" date="2010-11-12T15:25:17.58919-08:00" year="2010-01-01" year-month="2010-11-01" year-month-day="2010-11-12" thread-id="pobmu2g742fq6keo"><headers><envelope-from-line>Fri Nov 12 15:25:40 2010</envelope-from-line><from personal="bugzilla-daemon@webkit.org" address="bugzilla-daemon@webkit.org">bugzilla-daemon@webkit.org</from><to personal="webkit-unassigned@lists.webkit.org" address="webkit-unassigned@lists.webkit.org">webkit-unassigned@lists.webkit.org</to><subject normal="[Webkit-unassigned] [Bug 38044] QWebFrame::render() clips content right of 640 pixels wide when rendering to a QImage">[Webkit-unassigned] [Bug 38044] QWebFrame::render() clips content right of 640 pixels wide when rendering to a QImage</subject><received>from srv-117c-be06.markmail.marklogic.com ([172.19.8.46])
          by mail-1.a.markmail.int (JAMES SMTP Server 2.3.1) with SMTP ID 861
          for &lt;paula.ryan.christensen@a.markmail.org&gt;;
          Fri, 12 Nov 2010 15:25:40 -0800 (GMT-08:00)</received><received>from bz1.apple.com (slb-117n.markmail.marklogic.com [172.19.8.33])
	by mgw-1.public.markmail.int (Postfix) with ESMTP id 2F10829081F8
	for &lt;paula.ryan.christensen@a.markmail.org&gt;; Fri, 12 Nov 2010 15:25:17 -0800 (PST)</received><received>from lists.macosforge.org (epsilon.macosforge.org [17.254.20.231])
	by bz1.apple.com (Postfix) with SMTP id 03BE41F29B624;
	Fri, 12 Nov 2010 15:25:40 -0800 (PST)</received><received>from epsilon.macosforge.org (localhost [127.0.0.1])
	by lists.macosforge.org (Postfix) with ESMTP id EF412CF06C8;
	Fri, 12 Nov 2010 15:25:39 -0800 (PST)</received><x-original-to>webkit-unassigned@lists.webkit.org</x-original-to><delivered-to>webkit-unassigned@lists.webkit.org</delivered-to><received>from mail-in12.apple.com (mail-in12.apple.com [17.254.13.10])
	by lists.macosforge.org (Postfix) with ESMTP id 42659CF06C5
	for &lt;webkit-unassigned@lists.webkit.org&gt;;
	Fri, 12 Nov 2010 15:25:39 -0800 (PST)</received><x-auditid>11fe0d0a-b7bc8ae000003734-75-4cddccf2440e</x-auditid><received>from bz3.apple.com (bz3.apple.com [17.254.13.38])
	(using TLS with cipher AES256-SHA (AES256-SHA/256 bits))
	(Client did not present a certificate)
	by mail-in12.apple.com (Apple Secure Mail Relay) with SMTP id
	69.C6.14132.2FCCDDC4; Fri, 12 Nov 2010 15:25:39 -0800 (PST)</received><received>from gamma.macosforge.org (gamma.macosforge.org [17.254.20.229])
	by bz3.apple.com (Postfix) with SMTP id BCAC21FBB185E
	for &lt;webkit-unassigned@lists.webkit.org&gt;;
	Fri, 12 Nov 2010 15:25:38 -0800 (PST)</received><received>by gamma.macosforge.org (Postfix, from userid 70)
	id B83B942ED77C; Fri, 12 Nov 2010 15:25:38 -0800 (PST)</received><x-bugzilla-reason>AssignedTo</x-bugzilla-reason><x-bugzilla-type>newchanged</x-bugzilla-type><x-bugzilla-watch-reason>None</x-bugzilla-watch-reason><x-bugzilla-product>WebKit</x-bugzilla-product><x-bugzilla-component>WebKit Qt</x-bugzilla-component><x-bugzilla-keywords>Qt, QtTriaged</x-bugzilla-keywords><x-bugzilla-severity>Normal</x-bugzilla-severity><x-bugzilla-who>ostapenko.viatcheslav@nokia.com</x-bugzilla-who><x-bugzilla-status>NEW</x-bugzilla-status><x-bugzilla-priority>P2</x-bugzilla-priority><x-bugzilla-assigned-to>webkit-unassigned@lists.webkit.org</x-bugzilla-assigned-to><x-bugzilla-target-milestone>---</x-bugzilla-target-milestone><x-bugzilla-changed-fields>CC</x-bugzilla-changed-fields><in-reply-to>&lt;bug-38044-2851@https.bugs.webkit.org/&gt;</in-reply-to><references>&lt;bug-38044-2851@https.bugs.webkit.org/&gt;</references><auto-submitted>auto-generated</auto-submitted><mime-version>1.0</mime-version><message-id>20101112232538.B83B942ED77C@gamma.macosforge.org</message-id><date>Fri, 12 Nov 2010 15:25:38 -0800 (PST)</date><x-brightmail-tracker>AAAAARagsm0=</x-brightmail-tracker><x-beenthere>webkit-unassigned@lists.webkit.org</x-beenthere><x-mailman-version>2.1.12</x-mailman-version><precedence>list</precedence><list-id>WebKit unassigned bugs &lt;webkit-unassigned.lists.webkit.org&gt;</list-id><list-unsubscribe>&lt;http://lists.webkit.org/mailman/options.cgi/webkit-unassigned&gt;,
	&lt;mailto:webkit-unassigned-request@lists.webkit.org?subject=unsubscribe&gt;</list-unsubscribe><list-archive>&lt;http://lists.webkit.org/pipermail/webkit-unassigned&gt;</list-archive><list-post>&lt;mailto:webkit-unassigned@lists.webkit.org&gt;</list-post><list-help>&lt;mailto:webkit-unassigned-request@lists.webkit.org?subject=help&gt;</list-help><list-subscribe>&lt;http://lists.webkit.org/mailman/listinfo.cgi/webkit-unassigned&gt;,
	&lt;mailto:webkit-unassigned-request@lists.webkit.org?subject=subscribe&gt;</list-subscribe><content-type>text/plain; charset="us-ascii"</content-type><content-transfer-encoding>7bit</content-transfer-encoding><sender>webkit-unassigned-bounces@lists.webkit.org</sender><errors-to>webkit-unassigned-bounces@lists.webkit.org</errors-to></headers><normalized-references><normalized-message-id>20101112232538.B83B942ED77C@gamma.macosforge.org</normalized-message-id><normalized-in-reply-to>bug-38044-2851@https.bugs.webkit.org/</normalized-in-reply-to><normalized-reference>bug-38044-2851@https.bugs.webkit.org/</normalized-reference></normalized-references><body type="text/plain; charset=&quot;us-ascii&quot;"><para depth="0"><url>https://bugs.webkit.org/show_bug.cgi?id=38044</url>

</para><para depth="0">Viatcheslav Ostapenko &lt;<email>ostapenko.viatcheslav@nokia.com</email>&gt; changed:

</para><para depth="0">           What    |Removed                     |Added
</para><para depth="0">----------------------------------------------------------------------------
                 CC|                            |ostapenko.viatcheslav@nokia
                   |                            |.com

</para><para depth="0">--- Comment #10 from Viatcheslav Ostapenko &lt;<email>ostapenko.viatcheslav@nokia.com</email>&gt;<br/>2010-11-12 15:25:38 PST ---
(In reply to comment #8)
</para><quote depth="1"><quotepara depth="1">(In reply to comment #7)
</quotepara><quote depth="2"><quotepara depth="2">(In reply to comment #6)
</quotepara><quote depth="3"><quotepara depth="3">
you might be getting the QWebElement from an existing view, so in that case you<br/>do not want to change the viewport, unless you would somewhat clone the element.
</quotepara></quote><quotepara depth="2">
So do you think the bug is invalid, or just hard to fix? ;-)
</quotepara></quote><quotepara depth="1">
invalid to me.
</quotepara></quote><para depth="0">
No, I don't think it's invalid.
Generally, there is now no _right_ way to render contents without clipping to<br/>viewport. Suggested QWebElement::render is not very usable in this case, because<br/>it doesn't have any clipping paramter and will traverse the whole webkit render<br/>tree if only part of the page (different from viewport) been rendered.

</para><para depth="0">I think QWebFramePrivate::renderRelativeCoords unnecessarily clips rendered<br/>content to viewport (framerect). It used in 3 places (variants of<br/>QWebFrame::render method) and those places all default to framerect, if clipping<br/>was not specified or empty. IMHO, if clipping _was_ specified, than it should be<br/>used as it is (well, may be clipped to contents rect). 

</para><para depth="0">So far clipping in QWebFramePrivate::renderRelativeCoords contradicts to the<br/>code written in QWebFrame::render(QPainter* painter, RenderLayer layer, const<br/>QRegion&amp; clip) .

</para><footer type="signature" depth="0" hash="7587865278882035605">-- 
Configure bugmail: <url>https://bugs.webkit.org/userprefs.cgi?tab=email</url>
------- You are receiving this mail because: -------
You are the assignee for the bug.
</footer><footer type="list-management" depth="0">_______________________________________________
webkit-unassigned mailing list
<email>webkit-unassigned@lists.webkit.org</email>
<url>http://lists.webkit.org/mailman/listinfo.cgi/webkit-unassigned</url>
</footer></body></message>