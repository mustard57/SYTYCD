<message message-id="AANLkTinJFmURtfe6_VpYkUZXkTOGnMf5eaivJjo0V...@mail.gmail.com" list="com.googlegroups.msysgit" id="24cndqwujojt7v4j" type="general" date="2011-02-18T12:54:32Z" year="2011-01-01" year-month="2011-02-01" year-month-day="2011-02-18" thread-id="jb54o4rmeliup5aw"><headers><envelope-from-line>Fri Feb 18 11:13:52 2011</envelope-from-line><from personal="Ciaran" address="&quot;ciar...&quot;@gmail.com">Ciaran &lt;"ciar..."@gmail.com&gt;</from><to personal="&quot;kusmab...&quot;@gmail.com" address="&quot;kusmab...&quot;@gmail.com">&lt;"kusmab..."@gmail.com&gt;</to><cc personal="Johannes Schindelin" address="&quot;Johannes.Schinde...&quot;@gmx.de">Johannes Schindelin &lt;"Johannes.Schinde..."@gmx.de&gt;</cc><subject normal="[msysGit] [PATCH] Git.pm: Use stream-like writing in cat_blob()">Re: [msysGit] [PATCH] Git.pm: Use stream-like writing in cat_blob()</subject><received>from srv-117d-be06.markmail.marklogic.com ([172.19.8.66])
          by mail-1.a.markmail.int (JAMES SMTP Server 2.3.1) with SMTP ID 821
          for &lt;marissa.sampson.anderson@a.markmail.org&gt;;
          Fri, 18 Feb 2011 11:13:52 -0800 (GMT-08:00)</received><received>from crawl-1.a.markmail.int (slb-117n.markmail.marklogic.com [172.19.8.33])
	by mgw-2.public.markmail.int (Postfix) with ESMTP id 63CEC3B300C1
	for &lt;marissa.sampson.anderson@a.markmail.org&gt;; Fri, 18 Feb 2011 11:13:29 -0800 (PST)</received><received>from crawl-1.a.markmail.int (localhost.localdomain [127.0.0.1])
	by crawl-1.a.markmail.int (Postfix) with ESMTP id 4131263B014E
	for &lt;marissa.sampson.anderson@a.markmail.org&gt;; Fri, 18 Feb 2011 11:13:29 -0800 (PST)</received><received>(from crawler@localhost)
	by crawl-1.a.markmail.int (8.13.8/8.13.8/Submit) id p1IJDSWB032344
	for marissa.sampson.anderson@a.markmail.org; Fri, 18 Feb 2011 11:13:28 -0800</received><x-authentication-warning>crawl-1.a.markmail.int: crawler set sender to root@localhost using -r</x-authentication-warning><x-markmail-googlegroups-list>com.googlegroups.msysgit</x-markmail-googlegroups-list><x-markmail-googlegroups-mid>95e7e27ed40d597c</x-markmail-googlegroups-mid><received>by 10.100.190.18 with SMTP id n18mr232187anf.32.1298033676213;
        Fri, 18 Feb 2011 04:54:36 -0800 (PST)</received><x-beenthere>msysgit@googlegroups.com</x-beenthere><received>by 10.100.75.33 with SMTP id x33ls465357ana.4.p; Fri, 18 Feb 2011
 04:54:34 -0800 (PST)</received><received>by 10.100.231.10 with SMTP id d10mr228661anh.18.1298033674428;
        Fri, 18 Feb 2011 04:54:34 -0800 (PST)</received><received>by 10.100.231.10 with SMTP id d10mr228660anh.18.1298033674407;
        Fri, 18 Feb 2011 04:54:34 -0800 (PST)</received><received>from mail-gw0-f50.google.com (mail-gw0-f50.google.com [74.125.83.50])
        by gmr-mx.google.com with ESMTPS id e31si641771ana.11.2011.02.18.04.54.33
        (version=TLSv1/SSLv3 cipher=OTHER);
        Fri, 18 Feb 2011 04:54:33 -0800 (PST)</received><received-spf>pass (google.com: domain of ciar...@gmail.com designates 74.125.83.50 as permitted sender) client-ip=74.125.83.50;</received-spf><authentication-results>gmr-mx.google.com; spf=pass (google.com: domain of ciar...@gmail.com designates 74.125.83.50 as permitted sender) smtp.mail=ciar...@gmail.com; dkim=pass (test mode) header...@gmail.com</authentication-results><received>by gwaa20 with SMTP id a20so1698824gwa.23
        for &lt;msysgit@googlegroups.com&gt;; Fri, 18 Feb 2011 04:54:33 -0800 (PST)</received><dkim-signature>v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:cc:content-type;
        bh=7KEG9F52h66MfKJpvqdHDQh85XJJ43GdLypx6DX1lBY=;
        b=J3WTt+wdvw+6n4UqSPj8J79FDe1ss7JfriRy82ZecnixtJpiFW9PRZCUQ79ZvXuzq4
         YibTD6Q5ijVBwqEkDt+ZgZp5qk1TIXaNHK+hcnOojqXPDRj7b0oKfsFKvt2hmEhekPt9
         eDUF8wIWYhOfQ/Hlz2CKdW50lvTUIhiAn8cY0=</dkim-signature><domainkey-signature>a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :cc:content-type;
        b=t/Ft4NrsgJst2vWB+NnDViaMVYJq7NHNWUWK2mC+aCiYw2JY7UMWSzopyScRLnEmNK
         ekf1YswTqMww4e9N0wRBBp+DJI03WZKK2S42qX3kohSf7r4bNRedVmsKzvGhDxUQz0tM
         BUsAQNcH8TQruCAFrUHR0cjiSSqIhTMLy37TI=</domainkey-signature><mime-version>1.0</mime-version><received>by 10.146.73.35 with SMTP id v35mr1094037yaa.30.1298033672193; Fri,
 18 Feb 2011 04:54:32 -0800 (PST)</received><received>by 10.147.171.4 with HTTP; Fri, 18 Feb 2011 04:54:32 -0800 (PST)</received><in-reply-to>&lt;AANLkTinSfgE3K0g4UoF9BxyoQGHCZrrCUG_nF5_4m...@mail.gmail.com&gt;</in-reply-to><references>&lt;5feb3bd8-9637-4aeb-8e23-5126bdd2e...@q36g2000yqn.googlegroups.com&gt;
	&lt;AANLkTik3AO1k8LLRT8+kP8VmXNy3KMd=zTaTAQu=k...@mail.gmail.com&gt;
	&lt;1111d2c2-ee36-4a2b-a723-b6d819a2e...@w6g2000vbo.googlegroups.com&gt;
	&lt;AANLkTimTjA=v-xmz2LuARVEnhdcjDjxS983V7Djgf...@mail.gmail.com&gt;
	&lt;3215f3c5-316d-4184-ad56-c6d637fbd...@v16g2000vbq.googlegroups.com&gt;
	&lt;AANLkTi=s0t7OzbEh5fGsO2+rGZgOXxM7+=A32jy9W...@mail.gmail.com&gt;
	&lt;alpine.DEB.1.00.1102011001540.1541@bonsai2&gt;
	&lt;AANLkTi=QW5m0jPJg9ukZPcaMgVOf7w0j6tBidNDAF...@mail.gmail.com&gt;
	&lt;AANLkTikVEcLL_qvXRACha-s7dZrbjkFXVruhDk5qb...@mail.gmail.com&gt;
	&lt;e1d4b9bc-3d57-4fc5-8431-ee2bbdd91...@f30g2000yqa.googlegroups.com&gt;
	&lt;e94bd0ab-f4cf-4e90-9e66-bb8ea7b77...@p16g2000vbs.googlegroups.com&gt;
	&lt;alpine.DEB.1.00.1102171306050.1541@bonsai2&gt;
	&lt;AANLkTikT5sGjHsAZ_Z8dtpuWxr9VaMZ-DfVq0fW86...@mail.gmail.com&gt;
	&lt;alpine.DEB.1.00.1102181137100.1541@bonsai2&gt;
	&lt;AANLkTinSfgE3K0g4UoF9BxyoQGHCZrrCUG_nF5_4m...@mail.gmail.com&gt;</references><date>Fri, 18 Feb 2011 12:54:32 +0000</date><message-id>AANLkTinJFmURtfe6_VpYkUZXkTOGnMf5eaivJjo0V...@mail.gmail.com</message-id><content-type>text/plain; charset=ISO-8859-1</content-type></headers><normalized-references><normalized-message-id>AANLkTinJFmURtfe6_VpYkUZXkTOGnMf5eaivJjo0V...@mail.gmail.com</normalized-message-id><normalized-in-reply-to>AANLkTinSfgE3K0g4UoF9BxyoQGHCZrrCUG_nF5_4m...@mail.gmail.com</normalized-in-reply-to><normalized-reference>5feb3bd8-9637-4aeb-8e23-5126bdd2e...@q36g2000yqn.googlegroups.com</normalized-reference><normalized-reference>AANLkTik3AO1k8LLRT8+kP8VmXNy3KMd=zTaTAQu=k...@mail.gmail.com</normalized-reference><normalized-reference>1111d2c2-ee36-4a2b-a723-b6d819a2e...@w6g2000vbo.googlegroups.com</normalized-reference><normalized-reference>AANLkTimTjA=v-xmz2LuARVEnhdcjDjxS983V7Djgf...@mail.gmail.com</normalized-reference><normalized-reference>3215f3c5-316d-4184-ad56-c6d637fbd...@v16g2000vbq.googlegroups.com</normalized-reference><normalized-reference>AANLkTi=s0t7OzbEh5fGsO2+rGZgOXxM7+=A32jy9W...@mail.gmail.com</normalized-reference><normalized-reference>alpine.DEB.1.00.1102011001540.1541@bonsai2</normalized-reference><normalized-reference>AANLkTi=QW5m0jPJg9ukZPcaMgVOf7w0j6tBidNDAF...@mail.gmail.com</normalized-reference><normalized-reference>AANLkTikVEcLL_qvXRACha-s7dZrbjkFXVruhDk5qb...@mail.gmail.com</normalized-reference><normalized-reference>e1d4b9bc-3d57-4fc5-8431-ee2bbdd91...@f30g2000yqa.googlegroups.com</normalized-reference><normalized-reference>e94bd0ab-f4cf-4e90-9e66-bb8ea7b77...@p16g2000vbs.googlegroups.com</normalized-reference><normalized-reference>alpine.DEB.1.00.1102171306050.1541@bonsai2</normalized-reference><normalized-reference>AANLkTikT5sGjHsAZ_Z8dtpuWxr9VaMZ-DfVq0fW86...@mail.gmail.com</normalized-reference><normalized-reference>alpine.DEB.1.00.1102181137100.1541@bonsai2</normalized-reference><normalized-reference>AANLkTinSfgE3K0g4UoF9BxyoQGHCZrrCUG_nF5_4m...@mail.gmail.com</normalized-reference></normalized-references><body type="text/plain; charset=iso-8859-1"><para depth="0">On Fri, Feb 18, 2011 at 12:49 PM, Erik Faye-Lund &lt;<email>kusmab...@gmail.com</email>&gt; wrote:
</para><quote depth="1"><quotepara depth="1">On Fri, Feb 18, 2011 at 11:42 AM, Johannes Schindelin
&lt;<email>Johannes.Schinde...@gmx.de</email>&gt; wrote:
</quotepara><quote depth="2"><quotepara depth="2">From: Gregor Uhlenheuer &lt;<email>kongo2...@googlemail.com</email>&gt;

</quotepara><quotepara depth="2">This commit fixes the issue with the handling of large files causing an
'Out of memory' perl exception. Instead of reading and writing the whole
blob at once now the blob is written in small pieces.

</quotepara><quotepara depth="2">The problem was raised and discussed in this mail to the msysGit mailing
list: <url>http://thread.gmane.org/gmane.comp.version-control.msysgit/12080</url>

</quotepara><quotepara depth="2">Signed-off-by: Gregor Uhlenheuer &lt;<email>kongo2...@googlemail.com</email>&gt;
</quotepara></quote><quotepara depth="1">
Isn't this patch also suitable for mainline Git? Wouldn't Unices etc
benefit from this change?
</quotepara></quote><para depth="0">Fwiw, when I originally found this problem and did a similar fix it
was when I moved repo from my unix box
to my windows box,the unix box had been fine, but the windows one failed.

</para><para depth="0">The reason was that on Unix I could use 64bit git so it didn't bust
out the memory (and was by default using the 64 bit version)
, but using msysgit on windows (obviously) was 32bit so exhibited the problem.

</para><para depth="0">I would expect the problem to still occur on 64bit system however,
when I looked into this the prevailing
view in the Git-land was that 'big files are a known problem' and we
don't care ;)   .... I even looked at this project:
<url>http://caca.zoy.org/wiki/git-bigfiles</url> to see what options there were

</para><para depth="0">I *am* interested in storing big files, as I'm considering using git
an artefact store in my build pipeline, my solutions
so far have involved making the files smaller &lt;g&gt;
- Cj.
</para></body></message>