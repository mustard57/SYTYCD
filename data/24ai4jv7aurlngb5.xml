<message message-id="15521.15136.643851.483671@notabene.cse.unsw.edu.au" list="org.kernel.vger.linux-kernel" id="24ai4jv7aurlngb5" type="development" date="2002-03-27T14:23:12+11:00" year="2002-01-01" year-month="2002-03-01" year-month-day="2002-03-26" thread-id="3ziorpurip3rry7i"><headers><envelope-from-line>From linux-kernel-owner@vger.kernel.org  Tue Mar 26 19:34:24 2002</envelope-from-line><from personal="Neil Brown" address="neilb@cse.unsw.edu.au">Neil Brown &lt;neilb@cse.unsw.edu.au&gt;</from><to personal="Mike Fedyk" address="mfedyk@matchmail.com">Mike Fedyk &lt;mfedyk@matchmail.com&gt;</to><cc personal="linux-kernel@vger.kernel.org" address="linux-kernel@vger.kernel.org">linux-kernel@vger.kernel.org</cc><subject normal="Linux 2.4.19pre4-ac1">Re: Linux 2.4.19pre4-ac1</subject><received>from localhost.localdomain [127.0.0.1]
	by localhost with POP3 (fetchmail-5.7.4)
	for akpm@localhost (single-drop); Tue, 26 Mar 2002 19:34:24 -0800 (PST)</received><received>by mangalore (mbox akpm)
 (with Cubic Circle's cucipop (v1.31 1998/05/13) Wed Mar 27 14:36:00 2002)</received><x-from_>linux-kernel-owner@vger.kernel.org  Wed Mar 27 14:33:56 2002</x-from_><return-path>linux-kernel-owner@vger.kernel.org</return-path><received>from vger.kernel.org (vger.kernel.org [209.116.70.75])
	by mangalore.zipworld.com.au (8.9.3/8.9.3) with ESMTP id OAA26172;
	Wed, 27 Mar 2002 14:33:54 +1100</received><received>(majordomo@vger.kernel.org) by vger.kernel.org via listexpand
	id &lt;S312824AbSC0D2r&gt;; Tue, 26 Mar 2002 22:28:47 -0500</received><received>(majordomo@vger.kernel.org) by vger.kernel.org
	id &lt;S312974AbSC0D2h&gt;; Tue, 26 Mar 2002 22:28:37 -0500</received><received>from tone.orchestra.cse.unsw.EDU.AU ([129.94.242.28]:14992 "HELO
	tone.orchestra.cse.unsw.EDU.AU") by vger.kernel.org with SMTP
	id &lt;S312824AbSC0D2X&gt;; Tue, 26 Mar 2002 22:28:23 -0500</received><received>From notabene ([129.94.211.194] == dulcimer.orchestra.cse.unsw.EDU.AU)
	(for &lt;mfedyk@matchmail.com&gt;) (for &lt;linux-kernel@vger.kernel.org&gt;) By
	tone With Smtp ; Wed, 27 Mar 2002 14:27:53 +1100 </received><received>from neilb by notabene with local (Exim 3.34 #1 (Debian))
	id 16q41p-0004dQ-00; Wed, 27 Mar 2002 14:23:13 +1100</received><date>Wed, 27 Mar 2002 14:23:12 +1100 (EST)</date><mime-version>1.0</mime-version><content-type>text/plain; charset=us-ascii</content-type><content-transfer-encoding>7bit</content-transfer-encoding><message-id>15521.15136.643851.483671@notabene.cse.unsw.edu.au</message-id><in-reply-to>message from Mike Fedyk on Tuesday March 26</in-reply-to><x-mailer>VM 6.72 under Emacs 20.7.2</x-mailer><x-face>[Gw_3E*Gng}4rRrKRYotwlE?.2|**#s9D&lt;ml'fY1Vw+@XfR[fRCsUoP?K6bt3YD\ui5Fh?f
	LONpR';(ql)VM_TQ/&lt;l_^D3~B:z$\YC7gUCuC=sYm/80G=$tt"98mr8(l))QzVKCk$6~gldn~*FK9x
	8`;pM{3S8679sP+MbP,72&lt;3_PIH-$I&amp;iaiIb|hV1d%cYg))BmI)AZ</x-face><sender>linux-kernel-owner@vger.kernel.org</sender><precedence>bulk</precedence><x-mailing-list>linux-kernel@vger.kernel.org</x-mailing-list><x-spam-status>No, hits=-100.0 required=2.5 tests=A_FROM_IN_AUTO_WLIST version=2.01</x-spam-status><status>RO</status><x-status/><x-keywords/></headers><normalized-references><normalized-message-id>15521.15136.643851.483671@notabene.cse.unsw.edu.au</normalized-message-id><normalized-in-reply-to>messagefromMikeFedykonTuesdayMarch26</normalized-in-reply-to></normalized-references><body type="text/plain; charset=us-ascii"><para depth="0">On Tuesday March 26, <email>mfedyk@matchmail.com</email> wrote:
</para><quote depth="1"><quotepara depth="1">On Wed, Mar 27, 2002 at 01:07:00PM +1100, Neil Brown wrote:
</quotepara><quote depth="2"><quotepara depth="2">On Wednesday March 27, <email>afu@fugmann.dhs.org</email> wrote:
</quotepara><quote depth="3"><quotepara depth="3">Thanks.

</quotepara><quotepara depth="3">It seems that there is some more problems.
I have not verified the lookup (since I just booted right away with the patch),<br/>but
I have found that:

</quotepara><quotepara depth="3">Mar 26 23:56:58 gw kernel: nfsd: LOOKUP(3)   24: 03000001 03000900 00000002<br/>0000106d 0000106c 0000070d WMRootMenu
Mar 26 23:56:58 gw kernel: RPC request reserved 240 but used 244

</quotepara><quotepara depth="3">Mar 27 00:30:09 gw kernel: nfsd: CREATE(3)   24: 03000001 03000900 00000002<br/>00000003 00000002 00000000 test
Mar 27 00:30:09 gw kernel: RPC request reserved 272 but used 276

</quotepara><quotepara depth="3">Mar 27 00:30:21 gw kernel: nfsd: SYMLINK(3)  24: 03000001 03000900 00000002<br/>00000003 00000002 00000000 test1 -&gt; test
Mar 27 00:30:21 gw kernel: RPC request reserved 272 but used 276

</quotepara><quotepara depth="3">And there might be others.
</quotepara></quote><quotepara depth="2">
I bet you're using reisferfs ???

</quotepara><quotepara depth="2">It occasionaly uses filehandles longer than 32 bytes (the max for
NFSv2) and my calculations forgot that nfsv3 allows for 64 bytes.
So "9" (8 longs and a count) should be "17" (16 longs and a count).

</quotepara></quote><quotepara depth="1">Why aren't you using defines with comments in effect to the above?
</quotepara></quote><para depth="0">
No really good reason.
I think I felt that macros would be very noisy for relatively little
gain.
However I guess

</para><para depth="0">#define ST 1  /* status*/
#define FH 17 /* filehandle with length */
#define AT 22 /* attributes */
#define WC 7  /* WCC attribute prefix */

</para><para depth="0">might make things clearer without being too noisy....

</para><para depth="0">NeilBrown
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to <email>majordomo@vger.kernel.org</email>
More majordomo info at  <url>http://vger.kernel.org/majordomo-info.html</url>
Please read the FAQ at  <url>http://www.tux.org/lkml/</url>

</para></body></message>