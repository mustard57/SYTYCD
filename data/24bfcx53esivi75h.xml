<message message-id="1260960790.1229536020030.JavaMail.www-data@brutus" list="org.apache.directory.commits" id="24bfcx53esivi75h" type="checkins" date="2008-12-17T09:47:00-08:00" year="2008-01-01" year-month="2008-12-01" year-month-day="2008-12-17" thread-id="24bfcx53esivi75h"><headers><envelope-from-line>Wed Dec 17 09:47:28 2008</envelope-from-line><from personal="confluence@apache.org" address="confluence@apache.org">confluence@apache.org</from><to personal="commits@directory.apache.org" address="commits@directory.apache.org">commits@directory.apache.org</to><subject normal="[CONF] Apache Directory Server v1.5: 1.4.1 Configuration of ApacheDS with Spring (page edited)">[CONF] Apache Directory Server v1.5: 1.4.1 Configuration of ApacheDS with Spring (page edited)</subject><received>from srv-117d-be06.markmail.marklogic.com ([172.19.8.66])
          by mail-1.a.markmail.int (JAMES SMTP Server 2.3.1) with SMTP ID 426
          for &lt;allyson.ryan.wyatt@a.markmail.org&gt;;
          Wed, 17 Dec 2008 09:47:28 -0800 (GMT-08:00)</received><received>from mail.apache.org (slb-117n.markmail.marklogic.com [172.19.8.33])
	by mgw-2.public.markmail.int (Postfix) with SMTP id 4D66C3B300B8
	for &lt;allyson.ryan.wyatt@a.markmail.org&gt;; Wed, 17 Dec 2008 09:47:04 -0800 (PST)</received><received>(qmail 29880 invoked by uid 500); 17 Dec 2008 17:47:39 -0000</received><mailing-list>contact commits-help@directory.apache.org; run by ezmlm</mailing-list><precedence>bulk</precedence><list-help>&lt;mailto:commits-help@directory.apache.org&gt;</list-help><list-unsubscribe>&lt;mailto:commits-unsubscribe@directory.apache.org&gt;</list-unsubscribe><list-post>&lt;mailto:commits@directory.apache.org&gt;</list-post><list-id>&lt;commits.directory.apache.org&gt;</list-id><reply-to>dev@directory.apache.org</reply-to><delivered-to>mailing list commits@directory.apache.org</delivered-to><received>(qmail 29839 invoked by uid 99); 17 Dec 2008 17:47:39 -0000</received><received>from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 17 Dec 2008 09:47:39 -0800</received><x-asf-spam-status>No, hits=4.6 required=10.0
	tests=HTML_MESSAGE,MIME_HTML_ONLY,OBFUSCATING_COMMENT,RCVD_IN_DNSWL_MED,TRACKER_ID</x-asf-spam-status><x-spam-check-by>apache.org</x-spam-check-by><received>from [140.211.11.140] (HELO brutus.apache.org) (140.211.11.140)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 17 Dec 2008 17:47:23 +0000</received><received>from brutus (localhost [127.0.0.1])
	by brutus.apache.org (Postfix) with ESMTP id 0B92F234C41C
	for &lt;commits@directory.apache.org&gt;; Wed, 17 Dec 2008 09:47:00 -0800 (PST)</received><message-id>1260960790.1229536020030.JavaMail.www-data@brutus</message-id><date>Wed, 17 Dec 2008 09:47:00 -0800 (PST)</date><mime-version>1.0</mime-version><content-type>text/html; charset=UTF-8</content-type><content-transfer-encoding>quoted-printable</content-transfer-encoding><x-virus-checked>Checked by ClamAV on apache.org</x-virus-checked></headers><normalized-references><normalized-message-id>1260960790.1229536020030.JavaMail.www-data@brutus</normalized-message-id></normalized-references><body html2text="elinks" type="text/html; charset=utf-8"><para depth="0">Page Edited : [1]DIRxSRVx11 : [2]1.4.1 Configuration of ApacheDS with Spring

</para><para depth="0">1.4.1 Configuration of ApacheDS with Spring has been edited by [3]Emmanuel LÃ©charny
(Dec 17, 2008).

</para><para depth="0">[4](View changes)

</para><para depth="0">Content:

</para><para depth="0">  ^[5][IMG][6]1.4. Basic configuration  [7]1.4.2 Changing the server port for    [8][IMG]
  tasks                                LDAP

</para><para depth="0">                          Configuration of ApacheDS with Spring

</para><para depth="0">This section describes the overall structure of the server configuration, which uses
Spring.

</para><para depth="0">  * [9]ApacheDS and Spring
  * [10]Using Apache Directory Studio for configuration
  * [11]ApacheDS configurable parameters
  * [12]Resources

</para><para depth="0">ApacheDS and Spring

</para><para depth="0">There are several options to configure ApacheDS. For instance you can practically do
everything programmatically if you embed the server in a Java component.

</para><para depth="0">For this guide we assume a standard installation of ApacheDS run standalone, and the
default mechanism to configure this deployment option is (in almost all cases) changing
the file server.xml, which is located in the conf directory of your ApacheDS instance.
The file is composed of bean definitions, because configuration in ApacheDS 1.5 is done
with the help of the [13]Spring Framework^[14][IMG].

</para><para depth="0">Despite the fact that the default server.xml shipped with the product is somewhat long, a
quick look with the help of the [15]Spring IDE^[16][IMG] displays that the structure is
rather simple:

</para><para depth="0">Most configuration tasks can be accomplished by modifying the properties of existing bean
definitions, or (e.g. for a new partition) by adding new beans of certain types and
wiring them to the configuration.

</para><para depth="0">Note that the picture above does not show all properties available in the configuration.
Only those are visible for which the default server.xml contains a value. There are more,
and in case of absence the default value is chosen. Feel free to browse the file to get
an impression about further options - several other features controlled by properties are
commented out.

</para><para depth="0">Using Apache Directory Studio for configuration

</para><para depth="0">Future versions of [17]Directory Studio^[18][IMG] will support creation and manipulations
of these configurations files. Stay tuned.

</para><para depth="0">ApacheDS configurable parameters

</para><para depth="0">Apache Directory Server has many different configuration parameters. This page summarize
all the possible parameters, and what are the default values for all of them.

</para><para depth="0">  Interceptors

</para><para depth="0">We have currently 16 possible interceptors we can use in the server. It's important to
understand that some of them are mandatory, and other can be activated or disabled. The
interceptors order is also very important : most of them can't be moved up or down,
without severely impact the server behaviour.

</para><para depth="0">Here is the list of the mandatory interceptors, and the order in which they should
appears in the configuration file :

</para><para depth="0">          Interceptor           Mandatory Order
AciAuthorizationInterceptor     Yes       4
AuthenticationInterceptor       Yes       2
ChangeLogInterceptor            No        7
CollectiveAttributeInterceptor  Yes       13
DefaultAuthorizationInterceptor Yes       5
EventInterceptor                Yes       14
ExceptionInterceptor            Yes       6
KeyDerivationInterceptor        No        10
NormalizationInterceptor        Yes       1
OperationalAttributeInterceptor Yes       8
PasswordPolicyInterceptor       No        9
ReferralInterceptor             Yes       3
ReplicationInterceptor          No        16
SchemaInterceptor               Yes       11
SubentryInterceptor             Yes       12
TriggerInterceptor              No        15

</para><para depth="0">The following table represents the same interceptor in the order they must appear :

</para><para depth="0">          Interceptor           Mandatory
NormalizationInterceptor        Yes
AuthenticationInterceptor       Yes
ReferralInterceptor             Yes
AciAuthorizationInterceptor     Yes
DefaultAuthorizationInterceptor Yes
ExceptionInterceptor            Yes
ChangeLogInterceptor            No
OperationalAttributeInterceptor Yes
PasswordPolicyInterceptor       No
KeyDerivationInterceptor        No
SchemaInterceptor               Yes
SubentryInterceptor             Yes
CollectiveAttributeInterceptor  Yes
EventInterceptor                Yes
TriggerInterceptor              No
ReplicationInterceptor          No

</para><para depth="0">    AciAuthorizationInterceptor :

</para><para depth="0">No configuration. We can just activate the interceptor by adding it to the list of
interceptors :

</para><para depth="0">&lt;defaultDirectoryService ...
    ...
    &lt;interceptors&gt;
      ...
      &lt;aciAuthorizationInterceptor/&gt;
      ...

</para><para depth="0">    AuthenticationInterceptor :

</para><para depth="0">Set&lt;Authenticator&gt; : The list of supported Authenticators. Currently, we have Anonymous,
Simple and Strong authenticators. We can just list the associated beans in the server.xml
file. Here is a sample of such a configuration :

</para><para depth="0">&lt;defaultDirectoryService ...
    ...
    &lt;interceptors&gt;
      ...
      &lt;authenticationInterceptor&gt;
        &lt;s:property name="authenticators"&gt;
          &lt;s:set&gt;
            &lt;!-- Define a new Simple authenticator with a cache of 50 elements --&gt;
            &lt;s:bean id="simpleAuthenticator"
                    class="org.apache.directory.server.core.authn.SimpleAuthenticator"&gt;
              &lt;s:constructor-arg value="50"/&gt;
            &lt;/s:bean&gt;

</para><para depth="0">            &lt;!-- Define a Strong authenticator --&gt;
            &lt;s:bean id="strongAuthenticator"
                    class="org.apache.directory.server.core.authn.StrongAuthenticator"/&gt;
          &lt;/s:set&gt;
        &lt;/s:property&gt;
      &lt;/authenticationInterceptor&gt;
      ...

</para><para depth="0">The possible values are : AnonymousAuthenticator, SimpleAuthenticator and
StrongAuthenticator, out of which the SimpleAuthenticator has a possible parameter, the
cache size (an integer value)

</para><para depth="0">    CollectiveAttributeInterceptor

</para><para depth="0">No configuration. We can just activate the interceptor by adding it to the list of
interceptors :

</para><para depth="0">&lt;defaultDirectoryService ...
    ...
    &lt;interceptors&gt;
      ...
      &lt;collectiveAttributeInterceptor/&gt;
      ...

</para><para depth="0">    DefaultAuthorizationInterceptor

</para><para depth="0">No configuration. We can just activate the interceptor by adding it to the list of
interceptors :

</para><para depth="0">&lt;defaultDirectoryService ...
    ...
    &lt;interceptors&gt;
      ...
      &lt;defaultAuthorizationInterceptor/&gt;
      ...

</para><para depth="0">    ChangeLogInterceptor

</para><para depth="0">No configuration. We can just activate the interceptor by adding it to the list of
interceptors :

</para><para depth="0">&lt;defaultDirectoryService ...
    ...
    &lt;interceptors&gt;
      ...
      &lt;changeLogInterceptor/&gt;
      ...

</para><para depth="0">    EventInterceptor

</para><para depth="0">No configuration. We can just activate the interceptor by adding it to the list of
interceptors :

</para><para depth="0">&lt;defaultDirectoryService ...
    ...
    &lt;interceptors&gt;
      ...
      &lt;eventInterceptor/&gt;
      ...

</para><para depth="0">    ExceptionInterceptor

</para><para depth="0">No configuration. We can just activate the interceptor by adding it to the list of
interceptors :

</para><para depth="0">&lt;defaultDirectoryService ...
    ...
    &lt;interceptors&gt;
      ...
      &lt;exceptionInterceptor/&gt;
      ...

</para><para depth="0">    KeyDerivationInterceptor

</para><para depth="0">No configuration. We can just activate the interceptor by adding it to the list of
interceptors :

</para><para depth="0">&lt;defaultDirectoryService ...
    ...
    &lt;interceptors&gt;
      ...
      &lt;keyDerivationInterceptor/&gt;
      ...

</para><para depth="0">    NormalizationInterceptor

</para><para depth="0">No configuration. We can just activate the interceptor by adding it to the list of
interceptors :

</para><para depth="0">&lt;defaultDirectoryService ...
    ...
    &lt;interceptors&gt;
      ...
      &lt;normalizationInterceptor/&gt;
      ...

</para><para depth="0">    OperationalAttributeInterceptor

</para><para depth="0">No configuration. We can just activate the interceptor by adding it to the list of
interceptors :

</para><para depth="0">&lt;defaultDirectoryService ...
    ...
    &lt;interceptors&gt;
      ...
      &lt;operationalAttributeInterceptor/&gt;
      ...

</para><para depth="0">    PasswordPolicyInterceptor

</para><para depth="0">No configuration. We can just activate the interceptor by adding it to the list of
interceptors :

</para><para depth="0">&lt;defaultDirectoryService ...
    ...
    &lt;interceptors&gt;
      ...
      &lt;passwordPolicyInterceptor/&gt;
      ...

</para><para depth="0">    ReferralInterceptor

</para><para depth="0">No configuration. We can just activate the interceptor by adding it to the list of
interceptors :

</para><para depth="0">&lt;defaultDirectoryService ...
    ...
    &lt;interceptors&gt;
      ...
      &lt;referralInterceptor/&gt;
      ...

</para><para depth="0">    ReplicationInterceptor

</para><para depth="0">This interceptor manage the replication. It has many parameters, most of them being
defined in a specific clas : ReplicationConfiguration. Let's describe those parameters.

</para><para depth="0">Each instance has a name, which allows multiple instances of the server to be present on
the same machine, but with possible replication between them.

</para><para depth="0">The ReplicationConfiguration bean contains those parameters :

</para><para depth="0">       Name                 Type            Default value            Description
logMaxAge           int                   7                 Maximum days of change logs
                                                            stored
replicaId           String                none              ID of the replica
                                                            Replication data exchange
replicationInterval int                   5                 interval (seconds) between
                                                            two replicas
                                                            response timeout value
                                                            (seconds) for each sent
responseTimeout     int                   60                message
                                                            during the communication
                                                            between replicas.
serverPort          int                   7846              TCP/IP port number that the
                                                            interceptor listens to
csnFactory          CSNFactory            DefaultCSNFactory The CSNFactory for generating
                                                            CSNs
peerReplicas        Set&lt;String&gt;           none              The remote peer replica list
                                                            (a list of name)
store               DerbyReplicationStore none              The ReplicationStore which
                                                            stores the change log

</para><para depth="0">    SchemaInterceptor

</para><para depth="0">No configuration. We can just activate the interceptor by adding it to the list of
interceptors :

</para><para depth="0">&lt;defaultDirectoryService ...
    ...
    &lt;interceptors&gt;
      ...
      &lt;schemaInterceptor/&gt;
      ...

</para><para depth="0">    SubentryInterceptor

</para><para depth="0">No configuration. We can just activate the interceptor by adding it to the list of
interceptors :

</para><para depth="0">&lt;defaultDirectoryService ...
    ...
    &lt;interceptors&gt;
      ...
      &lt;subentryInterceptor/&gt;
      ...

</para><para depth="0">    TriggerInterceptor

</para><para depth="0">No configuration. We can just activate the interceptor by adding it to the list of
interceptors :

</para><para depth="0">&lt;defaultDirectoryService ...
    ...
    &lt;interceptors&gt;
      ...
      &lt;triggerInterceptor/&gt;
      ...

</para><para depth="0">  Partition

</para><para depth="0">    BTreePartition

</para><para depth="0">    Partition ???

</para><para depth="0">  Service

</para><para depth="0">    DefaultDirectoryService

</para><para depth="0">  JDBM

</para><para depth="0">    JdbmPartition

</para><para depth="0">    JdbmIndex

</para><para depth="0">  Protocols

</para><para depth="0">    ChangePasswordServer

</para><para depth="0">    DnsServer

</para><para depth="0">    KdcServer

</para><para depth="0">    LdapService

</para><para depth="0">    NtpServer

</para><para depth="0">    StandardThreadPool ???

</para><para depth="0">  LDAP Handlers

</para><para depth="0">    CramMd5MechanismHandler

</para><para depth="0">    DigestMd5MechanismHandler

</para><para depth="0">    GssapiMechanismHandler

</para><para depth="0">    NtlmMechanismHandler

</para><para depth="0">    PlainMechanismHandler

</para><para depth="0">    SimpleMechanismHandler

</para><para depth="0">    GracefulShutdownHandler

</para><para depth="0">    LaunchDiagnosticUiHandler

</para><para depth="0">    StartTlsHandler

</para><para depth="0">    StoredProcedureExtendedOperationHandler

</para><para depth="0">    ExtendedOperationHandler ???

</para><para depth="0">  ADS

</para><para depth="0">    ReplicationConfiguration

</para><para depth="0">    ApacheDSJdbmPartition

</para><para depth="0">Resources

</para><para depth="0">  * [19]Spring Framework 1.2.x Reference Documentation^[20][IMG]

</para><para depth="0"> Powered by [21]Atlassian Confluence (Version: 2.2.9 Build:#527 Sep 07, 2006) -
                            [22]Bug/feature request

</para><para depth="0">             [23]Unsubscribe or edit your notifications preferences

</para><para depth="0">References

</para><para depth="0">   Visible links
   1. <url>http://cwiki.apache.org/confluence/display/DIRxSRVx11</url>
   2. <url>http://cwiki.apache.org/confluence/display/DIRxSRVx11/1.4.1+Configuration+of+ApacheDS+with+Spring</url>
   3. <url>http://cwiki.apache.org/confluence/display/~elecharny</url>
   4. <url>http://cwiki.apache.org/confluence/pages/diffpagesbyversion.action?pageId=55545&amp;originalVersion=9&amp;revisedVersion=10</url>
   5. <url>http://cwiki.apache.org/confluence/display/DIRxSRVx11/1.4.+Basic+configuration+tasks</url>
   6. <url>http://cwiki.apache.org/confluence/display/DIRxSRVx11/1.4.+Basic+configuration+tasks</url>
   7. <url>http://cwiki.apache.org/confluence/display/DIRxSRVx11/1.4.2+Changing+the+server+port+for+LDAP</url>
   8. <url>http://cwiki.apache.org/confluence/display/DIRxSRVx11/1.4.2+Changing+the+server+port+for+LDAP</url>
   9. <url>http://cwiki.apache.org/confluence#1.4.1ConfigurationofApacheDSwithSpring-ApacheDSandSpring</url>
  10. <url>http://cwiki.apache.org/confluence#1.4.1ConfigurationofApacheDSwithSpring-UsingApacheDirectoryStudioforconfiguration</url>
  11. <url>http://cwiki.apache.org/confluence#1.4.1ConfigurationofApacheDSwithSpring-ApacheDSconfigurableparameters</url>
  12. <url>http://cwiki.apache.org/confluence#1.4.1ConfigurationofApacheDSwithSpring-Resources</url>
  13. www.springframework.org
	<url>http://www.springframework.org/</url>
  14. <url>http://www.springframework.org/</url>
  15. springide.org
	<url>http://springide.org/</url>
  16. <url>http://springide.org/</url>
  17. directory.apache.org
	<url>http://directory.apache.org/studio/</url>
  18. <url>http://directory.apache.org/studio/</url>
  19. www.springframework.org
	<url>http://static.springframework.org/spring/docs/1.2.x/reference/index.html</url>
  20. <url>http://static.springframework.org/spring/docs/1.2.x/reference/index.html</url>
  21. <url>http://www.atlassian.com/software/confluence/default.jsp?clicked=footer</url>
  22. <url>http://jira.atlassian.com/secure/BrowseProject.jspa?id=10470</url>
  23. <url>http://cwiki.apache.org/confluence/users/viewnotifications.action</url>
</para></body></message>