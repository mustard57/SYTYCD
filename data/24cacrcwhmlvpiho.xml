<message message-id="016c01c3b43e$3b71c670$c5a5fea9@COWHAMRLAP1" list="com.perforce.perforce-user" id="24cacrcwhmlvpiho" type="users" date="2003-11-26T16:56:25Z" year="2003-01-01" year-month="2003-11-01" year-month-day="2003-11-26" thread-id="aw5yzpysxazr2sg5"><headers><envelope-from-line>From robert@vaccaperna.co.uk  Wed Nov 26 08:56:25 2003</envelope-from-line><from personal="Robert Cowham" address="robert@vaccaperna.co.uk">Robert Cowham &lt;robert@vaccaperna.co.uk&gt;</from><subject normal="[p4] Displaying 'owner' information in a 'p4 branches' command">[p4] Displaying 'owner' information in a 'p4 branches' command</subject><date>Wed, 26 Nov 2003 16:56:25 -0000</date><in-reply-to>&lt;8285531D-202B-11D8-ACC4-000A95CD3562@ravenbrook.com&gt;</in-reply-to><message-id>016c01c3b43e$3b71c670$c5a5fea9@COWHAMRLAP1</message-id><content-type>text/plain; charset=iso-8859-1</content-type><mime-version>1.0</mime-version></headers><normalized-references><normalized-message-id>016c01c3b43e$3b71c670$c5a5fea9@COWHAMRLAP1</normalized-message-id><normalized-in-reply-to>8285531D-202B-11D8-ACC4-000A95CD3562@ravenbrook.com</normalized-in-reply-to></normalized-references><body type="text/plain; charset=iso-8859-1"><para depth="0">And with the new release (2003.2 currently in beta), you have marshalled
Ruby format available as well (via -R):

</para><para depth="0">C:\bruno_ws&gt;p4 -R branches | ruby -e "begin while o = Marshal.load($stdin);
o.each{|key,val| print \"#{key}=#{val}\n\"}
; end; rescue EOFError; end"

</para><para depth="0">Options=unlocked direct
Owner=
code=stat
Access=0
branch=b827
Update=946889777
Description=Source + doc branch for release 827.
Label s810 is the base (for source).
Using current doc.

</para><para depth="0">Options=unlocked direct
Owner=bruno
code=stat
Access=1068811937
branch=dev
Update=1068649311
Description=Created by bruno.

</para><para depth="0">Note the the Ruby code more nicely formatted (not all on one line) is:

</para><para depth="0">begin 
  while o = Marshal.load($stdin)
    o.each{|key,val| print "#{key}=#{val}\n"}
  end
rescue EOFError
end

</para><para depth="0">You can access the (update) time in readable format using:

</para><para depth="0">	print Time.at(o['Update'].to_i).to_s

</para><para depth="0">Giving:

</para><para depth="0">	Fri Nov 14 12:14:42 GMT Standard Time 2003

</para><para depth="0">Or similar

</para><para depth="0">Robert

</para><quote depth="1"><quotepara depth="1">-----Original Message-----
From: perforce-user-admin at perforce.com 
[mailto:perforce-user-admin at perforce.com] On Behalf Of David Jones
Sent: 26 November 2003 16:14
To: Matthew Rice; perforce-user at perforce.com
Cc: Biju George
Subject: Re: [p4] Displaying 'owner' information in a 'p4 
branches' command

</quotepara><quotepara depth="1">On Nov 26, 2003, at 14:45, Matthew Rice wrote:

</quotepara><quote depth="2"><quotepara depth="2">Biju George &lt;george_biju at yahoo.com&gt; writes:
</quotepara><quote depth="3"><quotepara depth="3">Or is there any other command (other than p4 branch
-o) that can be used for this purpose.

</quotepara><quotepara depth="3">I am writing a script to isolate branches owned by specific users 
that have
not been used for a while.  Hence this requirement.
</quotepara></quote><quotepara depth="2">
You seem to get this info with: p4 -G branches

</quotepara><quotepara depth="2">If you aren't using Python, you'll have to massage the 
output a little.

</quotepara><quotepara depth="2">As a bonus, though, you also get the Access time indicating 
that last 
time
that the branch spec was used in an integration.
</quotepara></quote><quotepara depth="1">
p4 -ztag branches

</quotepara><quotepara depth="1">Is perhaps more friendly to those not using python.

</quotepara><quotepara depth="1">Both -G and -ztag are in help undoc so not supported.  But I'm sure 
there are large numbers of scripts and tools that use both anyway.

</quotepara><quotepara depth="1">David Jones
Ravenbrook Limited

</quotepara><quotefooter type="list-management" hash="7918087291093012312" depth="1">_______________________________________________
perforce-user mailing list  -  perforce-user at perforce.com
<url>http://maillist.perforce.com/mailman/listinfo/perforce-user</url>

</quotefooter></quote></body></message>