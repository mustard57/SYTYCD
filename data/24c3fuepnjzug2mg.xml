<message message-id="4641643D.4040305@yahoo.com.au" list="org.kernel.vger.linux-kernel" id="24c3fuepnjzug2mg" type="development" date="2007-05-09T16:03:41+10:00" year="2007-01-01" year-month="2007-05-01" year-month-day="2007-05-08" thread-id="qj4p4mvu6k6a3q4z"><headers><envelope-from-line>From linux-kernel-owner+akpm=40zip.com.au-S933482AbXEIGEA@vger.kernel.org  Tue May  8 22:07:40 2007</envelope-from-line><from personal="Nick Piggin" address="nickpiggin@yahoo.com.au">Nick Piggin &lt;nickpiggin@yahoo.com.au&gt;</from><to personal="Pierre Ossman" address="drzeus-list@drzeus.cx">Pierre Ossman &lt;drzeus-list@drzeus.cx&gt;</to><cc personal="Linus Torvalds" address="torvalds@linux-foundation.org">Linus Torvalds &lt;torvalds@linux-foundation.org&gt;</cc><subject normal="[GIT PULL] MMC updates">Re: [GIT PULL] MMC updates</subject><return-path>linux-kernel-owner+akpm=40zip.com.au-S933482AbXEIGEA@vger.kernel.org</return-path><received>from localhost (bix [127.0.0.1])
	by localhost.localdomain (8.12.10/8.12.10) with ESMTP id l4957cUF022883
	for &lt;akpm@localhost&gt;; Tue, 8 May 2007 22:07:39 -0700</received><delivered-to>akpm@zipworld.com.au</delivered-to><received>from mail-zipworld.pacific.net.au [61.8.0.24]
	by localhost with POP3 (fetchmail-6.2.0)
	for akpm@localhost (single-drop); Tue, 08 May 2007 22:07:39 -0700 (PDT)</received><received>from mailin2.pacific.net.au (mailin2.pacific.net.au [61.8.0.81])
	by mailstore2.syd.pacific.net.au (Postfix) with ESMTP id 23C8B3C46
	for &lt;akpm@zipworld.com.au&gt;; Wed,  9 May 2007 16:04:04 +1000 (EST)</received><received>from vger.kernel.org (unknown [209.132.176.167])
	by mailin2.pacific.net.au (Postfix) with ESMTP id B90A4184DC0
	for &lt;akpm@zip.com.au&gt;; Wed,  9 May 2007 16:04:03 +1000 (EST)</received><received>(majordomo@vger.kernel.org) by vger.kernel.org via listexpand
	id S933482AbXEIGEA (ORCPT &lt;rfc822;akpm@zip.com.au&gt;);
	Wed, 9 May 2007 02:04:00 -0400</received><received>(majordomo@vger.kernel.org) by vger.kernel.org id S934620AbXEIGEA
	(ORCPT &lt;rfc822;linux-kernel-outgoing&gt;);
	Wed, 9 May 2007 02:04:00 -0400</received><received>from smtp103.mail.mud.yahoo.com ([209.191.85.213]:34794 "HELO
	smtp103.mail.mud.yahoo.com" rhost-flags-OK-OK-OK-OK)
	by vger.kernel.org with SMTP id S933482AbXEIGD7 (ORCPT
	&lt;rfc822;linux-kernel@vger.kernel.org&gt;);
	Wed, 9 May 2007 02:03:59 -0400</received><received>(qmail 35541 invoked from network); 9 May 2007 06:03:58 -0000</received><domainkey-signature>a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com.au;
  h=Received:X-YMail-OSG:Message-ID:Date:From:User-Agent:X-Accept-Language:MIME-Version:To:CC:Subject:References:In-Reply-To:Content-Type:Content-Transfer-Encoding;
  b=PKrM4Fkdx7hB0YyiqCqiyfAxJGDbYr9l4hAqda35lyDr9clMQMZVPjIj0/9eu6QVitPK3VMhLiHel04uqlQYZSvwqMaJPGHFayGBcAfkIQNPq3qzRf2PgTsRclF8qZ29gRqz9SijDupb+FnZoddnn619xCSt6QXXuYG6oKqV06c=  ;</domainkey-signature><received>from unknown (HELO ?192.168.0.1?) (nickpiggin@203.173.7.48 with plain)
  by smtp103.mail.mud.yahoo.com with SMTP; 9 May 2007 06:03:57 -0000</received><x-ymail-osg>RvD6WMsVM1mjwaEQUovpxOF0lvwXVRAqW3y3S8.Pu42fXDR8OfCKq.8lhGNbniTFG_f6pTnf_Wj_eCcddY3A3rG9IQfv_GQ4eDyq7D5Iu62EM4yGw_Z859ToYwM9MQ--</x-ymail-osg><message-id>4641643D.4040305@yahoo.com.au</message-id><date>Wed, 09 May 2007 16:03:41 +1000</date><user-agent>Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.7.12) Gecko/20051007 Debian/1.7.12-1</user-agent><x-accept-language>en</x-accept-language><mime-version>1.0</mime-version><references>&lt;4640E17E.7090909@drzeus.cx&gt; &lt;46416255.3060105@drzeus.cx&gt;</references><in-reply-to>&lt;46416255.3060105@drzeus.cx&gt;</in-reply-to><content-type>text/plain; charset=us-ascii; format=flowed</content-type><content-transfer-encoding>7bit</content-transfer-encoding><sender>linux-kernel-owner@vger.kernel.org</sender><precedence>bulk</precedence><x-mailing-list>linux-kernel@vger.kernel.org</x-mailing-list><x-spam-checker-version>SpamAssassin 3.0.2 (2004-11-16) on bix</x-spam-checker-version><x-spam-level/><x-spam-status>No, score=-1.6 required=2.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.2</x-spam-status><status>RO</status><x-status/><x-keywords/><x-uid>3928</x-uid></headers><normalized-references><normalized-message-id>4641643D.4040305@yahoo.com.au</normalized-message-id><normalized-in-reply-to>46416255.3060105@drzeus.cx</normalized-in-reply-to><normalized-reference>4640E17E.7090909@drzeus.cx</normalized-reference><normalized-reference>46416255.3060105@drzeus.cx</normalized-reference></normalized-references><body type="text/plain; charset=us-ascii; format=flowed"><para depth="0">Pierre Ossman wrote:
</para><quote depth="1"><quotepara depth="1">Pierre Ossman wrote:

</quotepara><quote depth="2"><quotepara depth="2">Linus, please pull from

</quotepara><quotepara depth="2">       git://git.kernel.org/pub/scm/linux/kernel/git/drzeus/mmc.git for-linus

</quotepara></quote><quotepara depth="1">fsck! I pushed the wrong branch :/

</quotepara><quotepara depth="1">This fix should have been in the last commit.

</quotepara><quotepara depth="1">Sorry,

</quotepara><quotepara depth="1">------------------------------------------------------------------------

</quotepara><quotepara depth="1">commit 3b9a6d78eb439016728c598a1373b50328f5e9fe
Author: Pierre Ossman &lt;<email>drzeus@drzeus.cx</email>&gt;
Date:   Wed May 9 07:53:28 2007 +0200

</quotepara><quotepara depth="1">    mmc: fix wrong call to spinlock

</quotepara><quotepara depth="1">    Fix silly typo in spinlock calls.

</quotepara><quotepara depth="1">    Signed-off-by: Pierre Ossman &lt;<email>drzeus@drzeus.cx</email>&gt;

</quotepara><quotepara depth="1">diff --git a/drivers/mmc/core/core.c b/drivers/mmc/core/core.c
index b6c1670..7385acf 100644
--- a/drivers/mmc/core/core.c
+++ b/drivers/mmc/core/core.c
@@ -501,9 +501,9 @@ void mmc_detect_change(struct mmc_host *host, unsigned long<br/>delay)
 {
 #ifdef CONFIG_MMC_DEBUG
 	unsigned long flags;
-	spin_lock_irqsave(host-&gt;lock, flags);
+	spin_lock_irqsave(&amp;host-&gt;lock, flags);
 	BUG_ON(host-&gt;removed);
-	spin_unlock_irqrestore(host-&gt;lock, flags);
+	spin_unlock_irqrestore(&amp;host-&gt;lock, flags);
 #endif
</quotepara></quote><para depth="0">
Do you actually need the lock there at all? What is it protecting?

</para><footer type="list-management" depth="0">-- 
SUSE Labs, Novell Inc.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to <email>majordomo@vger.kernel.org</email>
More majordomo info at  <url>http://vger.kernel.org/majordomo-info.html</url>
Please read the FAQ at  <url>http://www.tux.org/lkml/</url>

</footer></body></message>