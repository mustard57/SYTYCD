<message message-id="g2rc68e39171005010727y6c5569b3nf41f0ed9b136c72f@mail.gmail.com" list="org.apache.lucene.java-user" id="24c2pj5tzwtua7n2" type="users" date="2010-05-01T10:27:00-04:00" year="2010-01-01" year-month="2010-05-01" year-month-day="2010-05-01" thread-id="mosdskhnzitqmagn"><headers><envelope-from-line>Sat May 01 06:27:29 2010</envelope-from-line><from personal="Yonik Seeley" address="yonik@lucidimagination.com">Yonik Seeley &lt;yonik@lucidimagination.com&gt;</from><to personal="java-user@lucene.apache.org" address="java-user@lucene.apache.org">java-user@lucene.apache.org</to><subject normal="FieldCache memory estimation - term values are interned?">Re: FieldCache memory estimation - term values are interned?</subject><received>from srv-117d-be06.markmail.marklogic.com ([172.19.8.66])
          by mail-1.a.markmail.int (JAMES SMTP Server 2.3.1) with SMTP ID 494
          for &lt;erma.barker.martin@a.markmail.org&gt;;
          Sat, 1 May 2010 06:27:29 -0800 (GMT-08:00)</received><received>from mail.apache.org (slb-117n.markmail.marklogic.com [172.19.8.33])
	by mgw-2.public.markmail.int (Postfix) with SMTP id 206D47AD0001
	for &lt;erma.barker.martin@a.markmail.org&gt;; Sat,  1 May 2010 07:27:06 -0700 (PDT)</received><received>(qmail 76626 invoked by uid 500); 1 May 2010 14:27:28 -0000</received><mailing-list>contact java-user-help@lucene.apache.org; run by ezmlm</mailing-list><precedence>bulk</precedence><list-help>&lt;mailto:java-user-help@lucene.apache.org&gt;</list-help><list-unsubscribe>&lt;mailto:java-user-unsubscribe@lucene.apache.org&gt;</list-unsubscribe><list-post>&lt;mailto:java-user@lucene.apache.org&gt;</list-post><list-id>&lt;java-user.lucene.apache.org&gt;</list-id><reply-to>java-user@lucene.apache.org</reply-to><delivered-to>mailing list java-user@lucene.apache.org</delivered-to><received>(qmail 76618 invoked by uid 99); 1 May 2010 14:27:27 -0000</received><received>from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 01 May 2010 14:27:27 +0000</received><x-asf-spam-status>No, hits=-0.6 required=10.0
	tests=AWL,FREEMAIL_FROM,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL</x-asf-spam-status><x-spam-check-by>apache.org</x-spam-check-by><received-spf>pass (athena.apache.org: domain of yseeley@gmail.com designates 74.125.82.176 as permitted sender)</received-spf><received>from [74.125.82.176] (HELO mail-wy0-f176.google.com) (74.125.82.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 01 May 2010 14:27:22 +0000</received><received>by wyb33 with SMTP id 33so798793wyb.35
        for &lt;java-user@lucene.apache.org&gt;; Sat, 01 May 2010 07:27:01 -0700 (PDT)</received><dkim-signature>v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:sender:reply-to:received
         :in-reply-to:references:date:x-google-sender-auth:message-id:subject
         :from:to:content-type;
        bh=n1BrVLYSquZ0hiT3KfII/KUzhXG9LGv2wVjvLGlzw0k=;
        b=fg3DnNG9xIzAatE3h1ZaihLOwsKIoLx68t0HEcPCgsGTE7IbuGm6v9Y5Xj8QauxBMw
         yJ4+AwqrSfAXo/7CGGmYqWLPZ59FeWwtgSraauOW4nh8A9gc3G5LqEyikobXDs6+Fu8W
         QGZJqMr5xGLaPJt7hd9kA3yOKUwn7qusN4hhY=</dkim-signature><domainkey-signature>a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:sender:reply-to:in-reply-to:references:date
         :x-google-sender-auth:message-id:subject:from:to:content-type;
        b=IM0b8FLbN5vV5A4l+YwhFUcA4jcsan7JkhUmkHouvH2ztxJomzRQk7QIgMXOKiT8ed
         Ge6NLsZUJxWn3RQdjmp1zTPSvimSvmaStDfWmdeK95bnB7/d2cvES20LRYmLnBwURWzt
         kMc/oeSBWv4qhtA04iT9kT45Tut+i2uloz1HI=</domainkey-signature><mime-version>1.0</mime-version><received>by 10.216.86.195 with SMTP id w45mr4744032wee.47.1272724021011; Sat, 
	01 May 2010 07:27:01 -0700 (PDT)</received><sender>yseeley@gmail.com</sender><reply-to>yonik@lucidimagination.com</reply-to><received>by 10.216.22.140 with HTTP; Sat, 1 May 2010 07:27:00 -0700 (PDT)</received><in-reply-to>&lt;4BDB9D73.90902@r.email.ne.jp&gt;</in-reply-to><references>&lt;4BDB9D73.90902@r.email.ne.jp&gt;</references><date>Sat, 1 May 2010 10:27:00 -0400</date><x-google-sender-auth>f4c0ccd0c9c2f4d3</x-google-sender-auth><message-id>g2rc68e39171005010727y6c5569b3nf41f0ed9b136c72f@mail.gmail.com</message-id><content-type>text/plain; charset=ISO-8859-1</content-type></headers><normalized-references><normalized-message-id>g2rc68e39171005010727y6c5569b3nf41f0ed9b136c72f@mail.gmail.com</normalized-message-id><normalized-in-reply-to>4BDB9D73.90902@r.email.ne.jp</normalized-in-reply-to><normalized-reference>4BDB9D73.90902@r.email.ne.jp</normalized-reference></normalized-references><body type="text/plain; charset=iso-8859-1"><para depth="0">2010/4/30 Koji Sekiguchi &lt;<email>koji@r.email.ne.jp</email>&gt;:
</para><quote depth="1"><quotepara depth="1">Are Strings that are got via FieldCache.DEFAULT.getStrings( reader,
field ) interned?

</quotepara><quotepara depth="1">Since I have a requirement for having FieldCaches of some
fields in 250M docs index, I'd like to estimate memory
consumed by FieldCache.

</quotepara><quotepara depth="1">By looking at FieldCacheImpl source code, it seems that
field names are interned, but values are not?
</quotepara></quote><para depth="0">
Values are not interned, but in a single field cache entry (String[])
the same String object is used for all docs with that same value.

</para><para depth="0">But... I think StringIndex is more commonly used in both Lucene and
Solr than String[] (sorting, faceting, etc) so double check that it's
not StringIndex you should be looking at.

</para><para depth="0">-Yonik
Apache Lucene Eurocon 2010
18-21 May 2010 | Prague

</para><footer type="list-management" depth="0">---------------------------------------------------------------------
To unsubscribe, e-mail: <email>java-user-unsubscribe@lucene.apache.org</email>
For additional commands, e-mail: <email>java-user-help@lucene.apache.org</email>

</footer></body></message>