<message message-id="AANLkTine09ecenQPBBT1N=dhNESvok_WTQ2zMca6k2Ze@mail.gmail.com" list="com.googlegroups.android-developers" id="24anxqtxyl2g5ii7" type="development" date="2011-02-07T22:11:33-08:00" year="2011-01-01" year-month="2011-02-01" year-month-day="2011-02-07" thread-id="xgdg5s3vctu2f7oy"><headers><envelope-from-line>Mon Feb 07 22:12:23 2011</envelope-from-line><from personal="Dianne Hackborn" address="hackbod@android.com">Dianne Hackborn &lt;hackbod@android.com&gt;</from><to personal="android-developers@googlegroups.com" address="android-developers@googlegroups.com">android-developers@googlegroups.com</to><subject normal="[android-developers] Re: Task killer kills my application but android restarts my service, which i dont want">Re: [android-developers] Re: Task killer kills my application but android restarts my service, which i dont want</subject><received>from srv-117c-be06.markmail.marklogic.com ([172.19.8.46])
          by mail-1.a.markmail.int (JAMES SMTP Server 2.3.1) with SMTP ID 642
          for &lt;anna.craft.clayton@a.markmail.org&gt;;
          Mon, 7 Feb 2011 22:12:23 -0800 (GMT-08:00)</received><received>from mail-qy0-f188.google.com (slb-117n.markmail.marklogic.com [172.19.8.33])
	by mgw-1.public.markmail.int (Postfix) with ESMTP id 0A0E529081C7
	for &lt;anna.craft.clayton@a.markmail.org&gt;; Mon,  7 Feb 2011 22:11:59 -0800 (PST)</received><received>by qyk38 with SMTP id 38sf15437515qyk.15
        for &lt;anna.craft.clayton@a.markmail.org&gt;; Mon, 07 Feb 2011 22:12:22 -0800 (PST)</received><dkim-signature>v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=googlegroups.com; s=beta;
        h=domainkey-signature:x-beenthere:received-spf:mime-version
         :in-reply-to:references:from:date:message-id:subject:to
         :x-original-sender:x-original-authentication-results:reply-to
         :precedence:mailing-list:list-id:list-post:list-help:list-archive
         :sender:list-subscribe:list-unsubscribe:content-type;
        bh=G/vYeHLE92ytharW5Pvjl8m28JDp5u5z/KXa30tSZZc=;
        b=e7zHVWs6JEMmpe2EyKqxCZnzuONjOV6Z61v7qgVMoqgmeQe+VNLJKYrAUt4hd1mTQC
         RuM8ORcYX/lTUXQ6kFYe+jSvSvu5gP4F+7tjuMSx267SqR4ijNs9I0VioYigweBwcxyn
         eoPzOsl/qyS9AJBsTBWjXk1a1WXUUnbeywjc0=</dkim-signature><domainkey-signature>a=rsa-sha1; c=nofws;
        d=googlegroups.com; s=beta;
        h=x-beenthere:received-spf:mime-version:in-reply-to:references:from
         :date:message-id:subject:to:x-original-sender
         :x-original-authentication-results:reply-to:precedence:mailing-list
         :list-id:list-post:list-help:list-archive:sender:list-subscribe
         :list-unsubscribe:content-type;
        b=vAJB6fKb6kTbcubExE8IuS+bdSYW2xWv1YImfVHvC3t1Ldns9mbqVCnHb7Ge6/dudu
         jI/SoSYOvCIyli595XlLnue1JWTXP0GD56HDKgCiQU3hYzoMZ1P+GdtUf7IManoEq0BS
         gVjzd072wu24qAT0ShgQrpA95dQ3r28FBvtS4=</domainkey-signature><received>by 10.229.220.74 with SMTP id hx10mr502919qcb.42.1297145530361;
        Mon, 07 Feb 2011 22:12:10 -0800 (PST)</received><x-beenthere>android-developers@googlegroups.com</x-beenthere><received>by 10.229.195.134 with SMTP id ec6ls1778746qcb.2.p; Mon, 07 Feb 2011
 22:11:55 -0800 (PST)</received><received>by 10.229.231.205 with SMTP id jr13mr993099qcb.8.1297145515499;
        Mon, 07 Feb 2011 22:11:55 -0800 (PST)</received><received>by 10.229.231.205 with SMTP id jr13mr993098qcb.8.1297145515461;
        Mon, 07 Feb 2011 22:11:55 -0800 (PST)</received><received>from mail-vx0-f181.google.com ([209.85.220.181])
        by gmr-mx.google.com with ESMTPS id 19si891762qci.1.2011.02.07.22.11.55
        (version=TLSv1/SSLv3 cipher=RC4-MD5);
        Mon, 07 Feb 2011 22:11:55 -0800 (PST)</received><received-spf>neutral (google.com: 209.85.220.181 is neither permitted nor denied by best guess record for domain of hackbod@android.com) client-ip=209.85.220.181;</received-spf><received>by vxc38 with SMTP id 38so2357700vxc.26
        for &lt;android-developers@googlegroups.com&gt;; Mon, 07 Feb 2011 22:11:54 -0800 (PST)</received><received>by 10.220.98.210 with SMTP id r18mr4737439vcn.107.1297145513354;
 Mon, 07 Feb 2011 22:11:53 -0800 (PST)</received><mime-version>1.0</mime-version><received>by 10.220.40.211 with HTTP; Mon, 7 Feb 2011 22:11:33 -0800 (PST)</received><in-reply-to>&lt;3cf7b81d-8cd3-4dc5-a3b7-90b051fa9439@x5g2000prf.googlegroups.com&gt;</in-reply-to><references>&lt;5ca6c3bc-32b1-499c-99b4-c36b7a28ec4c@a28g2000prb.googlegroups.com&gt;
 &lt;AANLkTimMiVwEwDFbschas=00Q=be0Fw+=Wdw=PPDHMx+@mail.gmail.com&gt; &lt;3cf7b81d-8cd3-4dc5-a3b7-90b051fa9439@x5g2000prf.googlegroups.com&gt;</references><date>Mon, 7 Feb 2011 22:11:33 -0800</date><message-id>AANLkTine09ecenQPBBT1N=dhNESvok_WTQ2zMca6k2Ze@mail.gmail.com</message-id><x-original-sender>hackbod@android.com</x-original-sender><x-original-authentication-results>gmr-mx.google.com; spf=neutral (google.com:
 209.85.220.181 is neither permitted nor denied by best guess record for
 domain of hackbod@android.com) smtp.mail=hackbod@android.com</x-original-authentication-results><reply-to>android-developers@googlegroups.com</reply-to><precedence>list</precedence><mailing-list>list android-developers@googlegroups.com; contact android-developers+owners@googlegroups.com</mailing-list><list-id>&lt;android-developers.googlegroups.com&gt;</list-id><list-post>&lt;http://groups.google.com/group/android-developers/post?hl=en_US&gt;, &lt;mailto:android-developers@googlegroups.com&gt;</list-post><list-help>&lt;http://groups.google.com/support/?hl=en_US&gt;, &lt;mailto:android-developers+help@googlegroups.com&gt;</list-help><list-archive>&lt;http://groups.google.com/group/android-developers?hl=en_US&gt;</list-archive><sender>android-developers@googlegroups.com</sender><list-subscribe>&lt;http://groups.google.com/group/android-developers/subscribe?hl=en_US&gt;,
 &lt;mailto:android-developers+subscribe@googlegroups.com&gt;</list-subscribe><list-unsubscribe>&lt;http://groups.google.com/group/android-developers/subscribe?hl=en_US&gt;,
 &lt;mailto:android-developers+unsubscribe@googlegroups.com&gt;</list-unsubscribe><content-type>multipart/alternative; boundary=0016e6509b988ba7d4049bbf3984</content-type></headers><normalized-references><normalized-message-id>AANLkTine09ecenQPBBT1N=dhNESvok_WTQ2zMca6k2Ze@mail.gmail.com</normalized-message-id><normalized-in-reply-to>3cf7b81d-8cd3-4dc5-a3b7-90b051fa9439@x5g2000prf.googlegroups.com</normalized-in-reply-to><normalized-reference>5ca6c3bc-32b1-499c-99b4-c36b7a28ec4c@a28g2000prb.googlegroups.com</normalized-reference><normalized-reference>AANLkTimMiVwEwDFbschas=00Q=be0Fw+=Wdw=PPDHMx+@mail.gmail.com</normalized-reference><normalized-reference>3cf7b81d-8cd3-4dc5-a3b7-90b051fa9439@x5g2000prf.googlegroups.com</normalized-reference></normalized-references><body multipart="multipart/alternative; boundary=0016e6509b988ba7d4049bbf3984" type="text/plain; charset=ISO-8859-1"><para depth="0">As of 2.2 all a task manager can to is kill a process while it is in the
background, which could also happen to it from the OOM killer.  You just
need to handle this case correctly, as it will happen even without a task
killer

</para><para depth="0">I don't know what you are actually trying to do in order to say what "handle
correctly" means.

</para><para depth="0">On Mon, Feb 7, 2011 at 8:09 PM, JC &lt;<email>jay.chadderwala@gmail.com</email>&gt; wrote:

</para><quote depth="1"><quotepara depth="1">Thanks Hackbon,

</quotepara><quotepara depth="1">I am running on 2.2, task killer is able to kill the process and new
process/service is restarted.

</quotepara><quotepara depth="1">Have i used correct  flags in service while binding and starting
service ?

</quotepara><quotepara depth="1">Mainly my notification icon is not cleared my icon.

</quotepara><quotepara depth="1">Thanks,
JRC

</quotepara><quotepara depth="1">On Feb 7, 11:04 pm, Dianne Hackborn &lt;<email>hack...@android.com</email>&gt; wrote:
</quotepara><quote depth="2"><quotepara depth="2">Yes if another process is bound, the service will be restarted.

</quotepara><quotepara depth="2">As of 2.2 a task killer simply can't do what you are asking.  The "force
stop" button in Manage Applications will do this.

</quotepara><quotepara depth="2">On Mon, Feb 7, 2011 at 2:00 AM, JC &lt;<email>jay.chadderw...@gmail.com</email>&gt; wrote:
</quotepara><quote depth="3"><quotepara depth="3">Hello All,
</quotepara></quote><quotefooter type="noise" depth="2">
</quotefooter><quote depth="3"><quotepara depth="3">I have service running in background and notification is shown in GUI.
</quotepara></quote><quotefooter type="noise" depth="2">
</quotefooter><quote depth="3"><quotepara depth="3">When i do force close from application=&gt;manage application, my
service, application and icon in notification bar goes off.
</quotepara></quote><quotefooter type="noise" depth="2">
</quotefooter><quote depth="3"><quotepara depth="3">But when i kill my application via TaskKiller application, my service
stopped and then Android OS restarts service(i can see from logcat)
and icon in my notification area remains. while my background work (of
downloading image) is closed.
</quotepara></quote><quotefooter type="noise" depth="2">
</quotefooter><quote depth="3"><quotepara depth="3">I return START_STICKY (also tried with STArT_NOT_STICKY flag) from
OnStartCommand(), but no luck. My GUI activity, binds to service via
Context.BIND_AUTO_CREATE, is it because of that flag?
</quotepara></quote><quotefooter type="noise" depth="2">
</quotefooter><quote depth="3"><quotepara depth="3">What should i do if i want my application,service and notification
area icon to go off, when application is killed by task killer.
</quotepara></quote><quotefooter type="noise" depth="2">
</quotefooter><quote depth="3"><quotepara depth="3">I have searched through
</quotepara></quote><quotefooter type="noise" depth="2">
</quotefooter><quote depth="3"><quotepara depth="3">Thanks in advance.
JRC
</quotepara></quote><quotefooter type="noise" depth="2">
</quotefooter><quote depth="3"><quotefooter type="list-management" depth="3">--
You received this message because you are subscribed to the Google
Groups "Android Developers" group.
To post to this group, send email to
<email>android-developers@googlegroups.com</email>
To unsubscribe from this group, send email to
android-developers+<email>unsubscribe@googlegroups.com</email>
For more options, visit this group at
<url>http://groups.google.com/group/android-developers?hl=en</url>
</quotefooter></quote><quotefooter type="noise" depth="2">
</quotefooter><quotefooter type="signature" depth="2" hash="8300395064363208343">--
Dianne Hackborn
Android framework engineer
<email>hack...@android.com</email>

</quotefooter><quotepara depth="2">Note: please don't send private questions to me, as I don't have time to
provide private support, and so won't reply to such e-mails.  All such
questions should be posted on public forums, where I and others can see
and
answer them.
</quotepara></quote><quotefooter type="noise" depth="1">
</quotefooter><quotefooter type="list-management" depth="1">--
You received this message because you are subscribed to the Google
Groups "Android Developers" group.
To post to this group, send email to <email>android-developers@googlegroups.com</email>
To unsubscribe from this group, send email to
android-developers+<email>unsubscribe@googlegroups.com</email>
For more options, visit this group at
<url>http://groups.google.com/group/android-developers?hl=en</url>

</quotefooter></quote><footer type="signature" depth="0" hash="4099977370106535796">-- 
Dianne Hackborn
Android framework engineer
<email>hackbod@android.com</email>

</footer><para depth="0">Note: please don't send private questions to me, as I don't have time to
provide private support, and so won't reply to such e-mails.  All such
questions should be posted on public forums, where I and others can see and
answer them.

</para><footer type="list-management" depth="0">-- 
You received this message because you are subscribed to the Google
Groups "Android Developers" group.
To post to this group, send email to <email>android-developers@googlegroups.com</email>
To unsubscribe from this group, send email to
android-developers+<email>unsubscribe@googlegroups.com</email>
For more options, visit this group at
<url>http://groups.google.com/group/android-developers?hl=en</url>
</footer></body></message>