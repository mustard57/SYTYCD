<message message-id="44025FFB.4000102@everyone.net" list="org.openldap.openldap-software" id="24aoebuj2odg73up" type="general" date="2006-02-26T18:12:11-08:00" year="2006-01-01" year-month="2006-02-01" year-month-day="2006-02-26" thread-id="4e5pro3w26fsq7dq"><headers><envelope-from-line>From nntpsnarfer@fakefrom.com  Mon Jan  1 12:00:00 1990</envelope-from-line><from personal="Krishna Sivaramapuram" address="krishna@everyone.net">Krishna Sivaramapuram &lt;krishna@everyone.net&gt;</from><cc personal="openldap-software@OpenLDAP.org" address="openldap-software@OpenLDAP.org">openldap-software@OpenLDAP.org</cc><subject normal="Replication VS copying the master DB">Re: Replication VS copying the master DB</subject><path>news.gmane.org!not-for-mail</path><newsgroups>gmane.network.openldap.general</newsgroups><date>Sun, 26 Feb 2006 18:12:11 -0800</date><lines>36</lines><approved>news@gmane.org</approved><message-id>44025FFB.4000102@everyone.net</message-id><references>&lt;000201c6398d$7a7619d0$a002a8c0@windoze&gt; &lt;4400AAB2.1060807@everyone.net&gt; &lt;4401410C.8040602@symas.com&gt; &lt;200602261142.50428.dhawes@vt.edu&gt; &lt;440223CD.3080908@everyone.net&gt; &lt;44022818.6040404@symas.com&gt; &lt;44022A8B.7030503@everyone.net&gt; &lt;46CF37B54549E64D35FDF2E2@cadabra-sw.stanford.edu&gt; &lt;44025FCA.3060507@symas.com&gt;</references><nntp-posting-host>main.gmane.org</nntp-posting-host><mime-version>1.0</mime-version><content-type>text/plain; charset=ISO-8859-1; format=flowed</content-type><content-transfer-encoding>7bit</content-transfer-encoding><x-trace>sea.gmane.org 1141007881 12608 80.91.229.2 (27 Feb 2006 02:38:01 GMT)</x-trace><x-complaints-to>usenet@sea.gmane.org</x-complaints-to><nntp-posting-date>Mon, 27 Feb 2006 02:38:01 +0000 (UTC)</nntp-posting-date><original-x-from>owner-openldap-software@OpenLDAP.org Mon Feb 27 03:38:00 2006</original-x-from><return-path>owner-openldap-software@OpenLDAP.org</return-path><envelope-to>gno-openldap-software@gmane.org</envelope-to><original-received>from boole.openldap.org ([204.152.186.50])
	by ciao.gmane.org with esmtp (Exim 4.43)
	id 1FDYGs-0005rO-6z
	for gno-openldap-software@gmane.org; Mon, 27 Feb 2006 03:37:58 +0100</original-received><original-received>from boole.openldap.org (smmsp@localhost [IPv6:::1])
	by boole.openldap.org (8.13.3/8.13.3) with ESMTP id k1R2bMhE087640
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO);
	Mon, 27 Feb 2006 02:37:36 GMT
	(envelope-from owner-openldap-software@OpenLDAP.org)</original-received><original-received>from localhost (majordomo@localhost)
	by boole.openldap.org (8.13.3/8.13.3/Submit) with SMTP id k1R2aTMd087552;
	Mon, 27 Feb 2006 02:36:29 GMT
	(envelope-from owner-openldap-software@OpenLDAP.org)</original-received><x-authentication-warning>boole.openldap.org: majordomo owned process doing -bs</x-authentication-warning><original-received>by OpenLDAP.org (bulk_mailer v1.13); Mon, 27 Feb 2006 02:36:29 +0000</original-received><original-received>from boole.openldap.org (kurt@localhost [IPv6:::1])
	by boole.openldap.org (8.13.3/8.13.3) with ESMTP id k1R2aSCW087528
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for &lt;openldap-software@openldap.org&gt;; Mon, 27 Feb 2006 02:36:28 GMT
	(envelope-from kurt@boole.openldap.org)</original-received><original-received>(from kurt@localhost)
	by boole.openldap.org (8.13.3/8.13.3/Submit) id k1R2aSd8087527
	for openldap-software@openldap.org; Sun, 26 Feb 2006 18:36:28 -0800 (PST)
	(envelope-from kurt)</original-received><original-received>from omta14.mta.everyone.net (sitemail2.everyone.net [216.200.145.36])
	by boole.openldap.org (8.13.3/8.13.3) with ESMTP id k1R2D0aH086003
	for &lt;openldap-software@OpenLDAP.org&gt;; Mon, 27 Feb 2006 02:13:00 GMT
	(envelope-from krishna@everyone.net)</original-received><original-received>from dm18.mta.everyone.net (bigiplb-dsnat [172.16.0.19])
	by omta14.mta.everyone.net (Postfix) with ESMTP
	id 6C51D402F3; Sun, 26 Feb 2006 18:13:00 -0800 (PST)</original-received><x-eon-dm>dm18</x-eon-dm><original-received>by dm18.mta.everyone.net (EON-AUTHRELAY2 - d0b86402)
	id dm18.43f5ea23.12b49a; Sun, 26 Feb 2006 18:13:00 -0800 (PST)</original-received><x-eon-sig>AQJ2AZREAmAsQJf/ewIAAAAC,ee6505f24e5994f3a9e171f5604e9b03</x-eon-sig><user-agent>Mozilla Thunderbird 1.0.7 (Windows/20050923)</user-agent><x-accept-language>en-us, en</x-accept-language><original-to>Howard Chu &lt;hyc@symas.com&gt;</original-to><in-reply-to>&lt;44025FCA.3060507@symas.com&gt;</in-reply-to><original-sender>owner-openldap-software@OpenLDAP.org</original-sender><priority>non-urgent</priority><x-loop>OpenLDAP</x-loop><precedence>bulk</precedence><comment>openldap-software mailing list &lt;http://www.OpenLDAP.org/lists/&gt;</comment><list-archive>&lt;http://www.OpenLDAP.org/lists/openldap-software/&gt;</list-archive><list-help>&lt;mailto:openldap-software-request@OpenLDAP.org?body=help&gt;</list-help><list-id>openldap-software mailing list &lt;openldap-software@OpenLDAP.org&gt;</list-id><list-unsubscribe>&lt;mailto:openldap-software-request@OpenLDAP.org?body=unsubscribe&gt;</list-unsubscribe><xref>news.gmane.org gmane.network.openldap.general:33905</xref><archived-at>&lt;http://permalink.gmane.org/gmane.network.openldap.general/33905&gt;</archived-at></headers><normalized-references><normalized-message-id>44025FFB.4000102@everyone.net</normalized-message-id><normalized-in-reply-to>44025FCA.3060507@symas.com</normalized-in-reply-to><normalized-reference>000201c6398d$7a7619d0$a002a8c0@windoze</normalized-reference><normalized-reference>4400AAB2.1060807@everyone.net</normalized-reference><normalized-reference>4401410C.8040602@symas.com</normalized-reference><normalized-reference>200602261142.50428.dhawes@vt.edu</normalized-reference><normalized-reference>440223CD.3080908@everyone.net</normalized-reference><normalized-reference>44022818.6040404@symas.com</normalized-reference><normalized-reference>44022A8B.7030503@everyone.net</normalized-reference><normalized-reference>46CF37B54549E64D35FDF2E2@cadabra-sw.stanford.edu</normalized-reference><normalized-reference>44025FCA.3060507@symas.com</normalized-reference></normalized-references><body type="text/plain; charset=iso-8859-1; format=flowed"><para depth="0">I assume you are talking only about the transaction log file that is 
currently in use, correct? We have the DB_LOG_REMOVE setting on... So 
all the old log files are cleaned up.

</para><para depth="0">Krish

</para><para depth="0">Howard Chu wrote:

</para><quote depth="1"><quotepara depth="1">Quanah Gibson-Mount wrote:

</quotepara><quote depth="2"><quotepara depth="2">--On Sunday, February 26, 2006 2:24 PM -0800 Krishna Sivaramapuram 
&lt;<email>krishna@everyone.net</email>&gt; wrote:

</quotepara><quote depth="3"><quotepara depth="3">We're using Openldap 2.3.19 with BDB 4.3.29.

</quotepara><quotepara depth="3">I had stopped replication for a few days to figure out some problems in
our slave machine... Now I've a huge amount of data to replicate... 
I was
wondering if I should just copy the entire db from the master to the
slave. Is it recommended to copy the master DB to the slave? I know 
that
we can copy slave db files to another slave. But I haven't seen 
anything
that says we can copy the db files from the master to a slave. Is this
safe or should I just the replica catch up?
</quotepara></quote><quotepara depth="2">
There are no differences in the database format between the masters 
and slaves... If you have different indexing between them, you will 
have to reindex, etc.

</quotepara></quote><quotepara depth="1">You'll also have to copy all of the transaction log files.

</quotepara></quote></body></message>