<message message-id="CD9EB5274F79424B93A8B29F0B951F9301D0CDFA@CHAPDMSXMB03.ad.tiaa-cref.org" list="net.sourceforge.lists.cruisecontrol-devel" id="24awgkcs3grl45vp" type="development" date="2006-04-12T13:29:49-04:00" year="2006-01-01" year-month="2006-04-01" year-month-day="2006-04-12" thread-id="eve2eql3s6zmwqis"><headers><envelope-from-line>From nntpsnarfer@fakefrom.com  Mon Jan  1 12:00:00 1990</envelope-from-line><from personal="Burgess, Benjamin" address="BBurgess@tiaa-cref.org">"Burgess, Benjamin" &lt;BBurgess@tiaa-cref.org&gt;</from><subject normal="Order of bootstrap() and getModifications() in Project.build()">RE: Order of bootstrap() and getModifications() in Project.build()</subject><path>news.gmane.org!not-for-mail</path><newsgroups>gmane.comp.java.cruise-control.devel</newsgroups><date>Wed, 12 Apr 2006 13:29:49 -0400</date><lines>112</lines><approved>news@gmane.org</approved><message-id>CD9EB5274F79424B93A8B29F0B951F9301D0CDFA@CHAPDMSXMB03.ad.tiaa-cref.org</message-id><reply-to>cruisecontrol-devel@lists.sourceforge.net</reply-to><nntp-posting-host>main.gmane.org</nntp-posting-host><mime-version>1.0</mime-version><content-type>text/plain; charset="us-ascii"</content-type><content-transfer-encoding>quoted-printable</content-transfer-encoding><x-trace>sea.gmane.org 1144863118 16184 80.91.229.2 (12 Apr 2006 17:31:58 GMT)</x-trace><x-complaints-to>usenet@sea.gmane.org</x-complaints-to><nntp-posting-date>Wed, 12 Apr 2006 17:31:58 +0000 (UTC)</nntp-posting-date><original-x-from>cruisecontrol-devel-admin@lists.sourceforge.net Wed Apr 12 19:31:57 2006</original-x-from><return-path>cruisecontrol-devel-admin@lists.sourceforge.net</return-path><envelope-to>gcjcd-cruisecontrol-devel@m.gmane.org</envelope-to><original-received>from lists-outbound.sourceforge.net ([66.35.250.225])
	by ciao.gmane.org with esmtp (Exim 4.43)
	id 1FTjC8-0007Hk-ED
	for gcjcd-cruisecontrol-devel@m.gmane.org; Wed, 12 Apr 2006 19:31:56 +0200</original-received><original-received>from sc8-sf-list1-b.sourceforge.net (sc8-sf-list1-b.sourceforge.net [10.3.1.7])
	by sc8-sf-spam2.sourceforge.net (Postfix) with ESMTP
	id EB6E212532; Wed, 12 Apr 2006 10:31:22 -0700 (PDT)</original-received><original-received>from sc8-sf-mx2-b.sourceforge.net ([10.3.1.92] helo=mail.sourceforge.net)
	by sc8-sf-list1.sourceforge.net with esmtp (Exim 4.30)
	id 1FTjAs-0002AO-U2
	for cruisecontrol-devel@lists.sourceforge.net; Wed, 12 Apr 2006 10:30:38 -0700</original-received><original-received>from maplee.tiaa-cref.org ([143.165.201.19])
	by mail.sourceforge.net with esmtp (Exim 4.44)
	id 1FTjAM-0007JZ-Nn
	for cruisecontrol-devel@lists.sourceforge.net; Wed, 12 Apr 2006 10:30:38 -0700</original-received><x-mimeole>Produced By Microsoft Exchange V6.5.7226.0</x-mimeole><content-class>urn:content-classes:message</content-class><x-ms-has-attach/><x-ms-tnef-correlator/><thread-topic>[Cruisecontrol-devel] Order of bootstrap() and getModifications() in Project.build()</thread-topic><thread-index>AcZeUt3ecI5jhumiQOmcZvBWgR/UkAAAwbrA</thread-index><original-to>&lt;cruisecontrol-devel@lists.sourceforge.net&gt;</original-to><x-originalarrivaltime>12 Apr 2006 17:29:50.0928 (UTC) FILETIME=[B426D500:01C65E56]</x-originalarrivaltime><x-loop-check/><x-spam-score>0.0 (/)</x-spam-score><x-spam-report>Spam Filtering performed by sourceforge.net.
	See http://spamassassin.org/tag/ for more details.
	Report problems to http://sf.net/tracker/?func=add&amp;group_id=1&amp;atid=200001</x-spam-report><original-sender>cruisecontrol-devel-admin@lists.sourceforge.net</original-sender><errors-to>cruisecontrol-devel-admin@lists.sourceforge.net</errors-to><x-beenthere>cruisecontrol-devel@lists.sourceforge.net</x-beenthere><x-mailman-version>2.0.9-sf.net</x-mailman-version><precedence>bulk</precedence><list-unsubscribe>&lt;https://lists.sourceforge.net/lists/listinfo/cruisecontrol-devel&gt;,
	&lt;mailto:cruisecontrol-devel-request@lists.sourceforge.net?subject=unsubscribe&gt;</list-unsubscribe><list-id>&lt;cruisecontrol-devel.lists.sourceforge.net&gt;</list-id><list-post>&lt;mailto:cruisecontrol-devel@lists.sourceforge.net&gt;</list-post><list-help>&lt;mailto:cruisecontrol-devel-request@lists.sourceforge.net?subject=help&gt;</list-help><list-subscribe>&lt;https://lists.sourceforge.net/lists/listinfo/cruisecontrol-devel&gt;,
	&lt;mailto:cruisecontrol-devel-request@lists.sourceforge.net?subject=subscribe&gt;</list-subscribe><list-archive>&lt;http://sourceforge.net/mailarchive/forum.php?forum=cruisecontrol-devel&gt;</list-archive><x-original-date>Wed, 12 Apr 2006 13:29:49 -0400</x-original-date><xref>news.gmane.org gmane.comp.java.cruise-control.devel:8247</xref><archived-at>&lt;http://permalink.gmane.org/gmane.comp.java.cruise-control.devel/8247&gt;</archived-at></headers><normalized-references><normalized-message-id>CD9EB5274F79424B93A8B29F0B951F9301D0CDFA@CHAPDMSXMB03.ad.tiaa-cref.org</normalized-message-id><normalized-thread-index>AcZeUt3ecI5jhumiQOmcZvBWgR/UkA</normalized-thread-index></normalized-references><body type="text/plain; charset=&quot;us-ascii&quot;"><para depth="0">You should think even broader.  CC is not used just for updating code
and building it - it can serve many more purposes unrelated to building
code.

</para><para depth="0">CruiseControl is merely a scheduler - as specified intervals or times,
it does the following:

</para><para depth="0">1) Unconditionally runs all configured Bootstrappers (the definition of
bootstrapper is runs every time regardless of modifications)

</para><para depth="0">2) Checks for modifications

</para><para depth="0">If a modification occurred, then continue on, otherwise your done

</para><para depth="0">3) Run specified builder

</para><para depth="0">4) Run publishers

</para><para depth="0">Now for the most common use case of continuously building code, a
correct set up would look like this:

</para><para depth="0">1) a bootstrapper which always retrieves the latest version of your
wrapper script

</para><para depth="0">2) a check to your SCM if there has been changes

</para><para depth="0">3) call the wrapper script which will update the local code then call
that code's build script

</para><para depth="0">4) publish the results of the build

</para><para depth="0">It seems that what you are missing is a wrapper script which does the
update and then calls out to your build script.

</para><quote depth="1"><quotepara depth="1">-----Original Message-----
From: <email>cruisecontrol-devel-admin@lists.sourceforge.net</email>
[mailto:<email>cruisecontrol-devel-admin@lists.sourceforge.net</email>] On Behalf Of
danpat
Sent: Wednesday, April 12, 2006 1:06 PM
To: <email>cruisecontrol-devel@lists.sourceforge.net</email>
Subject: Re: [Cruisecontrol-devel] Order of bootstrap() and
getModifications() in Project.build()

</quotepara><quotepara depth="1">On Wed, 12 Apr 2006 09:47:51 -0700, "Jeffrey Fredrick"
&lt;<email>jeffrey.fredrick@gmail.com</email>&gt; wrote:
</quotepara><quote depth="2"><quotepara depth="2">bootstrapping is at this point isn't just "get files for later build"
but "what do you want to do on every time before the modification
check", a much broader question.

</quotepara><quotepara depth="2">what's the problem you want to solve?

</quotepara><quotepara depth="2">  1. don't update when I'm not going to build?
  2. pull on a date so modifications reported matches local files?
  3. other?
</quotepara></quote><quotepara depth="1">
  I figured I wasn't seeing the bigger picture.  The problems with the
  current setup I'm trying to solve are:

</quotepara><quotepara depth="1">    1) Don't contact the source repository unnecessarily
    2) Don't put workspace update commands in the build script (they
don't belong there)
    3) Don't have a race condition between bootstrapping and
modificationsets

</quotepara><quotepara depth="1">  Basically, all of these three things would be solved by updating
  the workspace after the modification check, and updating it to a
  time established by the just-finished modification set (in CVS, a
datestamp,
  in Subversion, a repository revision perhaps).

</quotepara><quotepara depth="1">  Given that the current bootstrappers are broader purpose than that,
perhaps
  a "workspaceupdater" that runs after the modification check might
solve
  the problem?

</quotepara><quotefooter type="signature" depth="1" hash="16973888331336461544">daniel

</quotefooter><quotepara depth="1">and join the prime developer group breaking into this new coding
territory!
<url>http://sel.as-us.falkag.net/sel?cmd=lnk&amp;kid=110944&amp;bid=241720&amp;dat=121642</url>
</quotepara><quotefooter type="list-management" depth="1">_______________________________________________
Cruisecontrol-devel mailing list
<email>Cruisecontrol-devel@lists.sourceforge.net</email>
<url>https://lists.sourceforge.net/lists/listinfo/cruisecontrol-devel</url>

</quotefooter><quotefooter type="legalese" depth="1">**************************************************************
This message, including any attachments, contains confidential information<br/>intended for a specific individual and purpose, and is protected by law.  If you<br/>are not the intended recipient, please contact sender immediately by reply<br/>e-mail and destroy all copies.  You are hereby notified that any disclosure,<br/>copying, or distribution of this message, or the taking of any action based on<br/>it, is strictly prohibited.
TIAA-CREF
**************************************************************

</quotefooter></quote></body></message>