<message message-id="3935A8DC.641A5CDC@kbd.com.au" list="net.php.lists.php-windows" id="24bhysebkchs3ent" type="general" date="2000-06-01T10:05:48+10:00" year="2000-01-01" year-month="2000-05-01" year-month-day="2000-05-31" thread-id="7kbclmwf6vxtc34x"><headers><envelope-from-line>From nntpsnarfer@fakefrom.com  Mon Jan  1 12:00:00 1990</envelope-from-line><from personal="Francis Smit" address="francis@kbd.com.au">Francis Smit &lt;francis@kbd.com.au&gt;</from><to personal="php-windows@lists.php.net" address="php-windows@lists.php.net">php-windows@lists.php.net</to><subject normal="[PHP-WINDOWS] PHP shell commands (exec, passthru and system) won't execute">Re: [PHP-WINDOWS]  PHP shell commands (exec, passthru and system) won't  execute</subject><newsgroups>php.windows</newsgroups><path>news.php.net</path><xref>news.php.net php.windows:160</xref><return-path>francis@kbd.com.au</return-path><mailing-list>contact php-windows-help@lists.php.net; run by ezmlm</mailing-list><delivered-to>mailing list php-windows@lists.php.net</delivered-to><received>(qmail 30635 invoked from network); 1 Jun 2000 00:05:30 -0000</received><received>from unknown (HELO lazenca.kbd.com.au) (203.27.92.39)
  by acdc.p.sourceforge.net with SMTP; 1 Jun 2000 00:05:30 -0000</received><received>(qmail 28449 invoked from network); 31 May 2000 23:57:07 -0000</received><received>from int-102.syd.kbd.com.au (HELO kbd.com.au) (61.8.16.102)
  by kbd.com.au with SMTP; 31 May 2000 23:57:07 -0000</received><message-id>3935A8DC.641A5CDC@kbd.com.au</message-id><date>Thu, 01 Jun 2000 10:05:48 +1000</date><x-mailer>Mozilla 4.7 [en-gb] (WinNT; U)</x-mailer><x-accept-language>en-GB</x-accept-language><mime-version>1.0</mime-version><references>&lt;NEBBIGACBAALENGLPMIBKEJBCCAA.graz@multicastisp.com&gt;</references><content-type>text/plain; charset=us-ascii</content-type><content-transfer-encoding>7bit</content-transfer-encoding></headers><normalized-references><normalized-message-id>3935A8DC.641A5CDC@kbd.com.au</normalized-message-id><normalized-reference>NEBBIGACBAALENGLPMIBKEJBCCAA.graz@multicastisp.com</normalized-reference></normalized-references><body type="text/plain; charset=us-ascii"><para depth="0">
Mike Graziano wrote:

</para><quote depth="1"><quotepara depth="1">To all,

</quotepara><quotepara depth="1">I posted this question once before on the general PHP list; however, now
that the list has been segmented into different groups, I thought I'd try
once again.

</quotepara><quotepara depth="1">I am a PHP newbie and am having trouble getting PHP shell commands (exec,
passthru and system) to execute.  Even something as simple as

</quotepara><quotepara depth="1">&lt;?
   system("dir c:\\");
?&gt;

</quotepara><quotepara depth="1">won't execute on a Webserver running NT Server 4.0 and IIS 4.0.  The message
that comes back is

</quotepara><quotepara depth="1">Warning: Unable to fork [dir c:\] in C:\Inetpub\wwwroot\mjg\test1.php on
line 2

</quotepara><quotepara depth="1">This very same script ran on a Linux Webserver.  Permissions have been set
very liberally so I don't think this is the issue.  Other PHP scripts that
do not contain shell commands do execute.

</quotepara><quotepara depth="1">One suggestion was to try either

</quotepara><quotepara depth="1">system("command /c dir c:\\");

</quotepara><quotepara depth="1">or

</quotepara><quotepara depth="1">system("cmd /c dir c:\\");

</quotepara><quotepara depth="1">Neither of these were successful and resulted in similar error.

</quotepara><quotepara depth="1">Does any one have any ideas?

</quotepara><quotepara depth="1">Thx in advance,
</quotepara></quote><para depth="0">
Try the full path and name thing
i.e. my sys has "%SystemRoot%\system32\cmd.exe" in the
link/shortcut in my menu try that though I think the full
thing i.e. system("C:\\winnt\\system32\\cmd.exe dir C:\\")
on my sys.

</para><para depth="0">--
Francis Smit

</para><para depth="0">Knowledge By Design/OzTel
Suite 201, 683 George st
Sydney 2000 NSW
<url>http://www.kbd.com.au</url>

</para><para depth="0">mailto:<email>francis@kbd.com.au</email>

</para><para depth="0">Tel: +61 2 9212 1399
Fax: +61 2 9212 5727
</para><para depth="0">___________________________________
m$: How can we stuff you up today?

</para></body></message>