<message message-id="16943243.117291244127162088.JavaMail.haus-jira@codehaus01.managed.contegix.com" list="org.codehaus.grails.scm" id="24bjvezxohx6qkgr" type="bugs" date="2009-06-04T09:52:42-05:00" year="2009-01-01" year-month="2009-06-01" year-month-day="2009-06-04" thread-id="24bjvezxohx6qkgr"><headers><envelope-from-line>Fri Jun 05 17:59:40 2009</envelope-from-line><from personal="Marcus Better (JIRA)" address="jira@codehaus.org">"Marcus Better (JIRA)" &lt;jira@codehaus.org&gt;</from><to personal="scm@grails.codehaus.org" address="scm@grails.codehaus.org">scm@grails.codehaus.org</to><subject normal="[grails-scm] [jira] Created: (GRAILSPLUGINS-1224) AuthBase sets bogus HTTP headers">[grails-scm] [jira] Created: (GRAILSPLUGINS-1224) AuthBase sets bogus HTTP headers</subject><received>from srv-117d-be06.markmail.marklogic.com ([172.19.8.66])
          by mail-1.a.markmail.int (JAMES SMTP Server 2.3.1) with SMTP ID 389
          for &lt;alisa.haley.gates@a.markmail.org&gt;;
          Fri, 5 Jun 2009 17:29:24 -0800 (GMT-08:00)</received><received>from mail.codehaus.org (slb-117n.markmail.marklogic.com [172.19.8.33])
	by mgw-2.public.markmail.int (Postfix) with ESMTP id 25EC77AE0E7B
	for &lt;alisa.haley.gates@a.markmail.org&gt;; Thu,  4 Jun 2009 07:52:27 -0700 (PDT)</received><received>(qmail 28484 invoked by uid 89); 4 Jun 2009 14:52:44 -0000</received><mailing-list>contact scm-help@grails.codehaus.org; run by ezmlm</mailing-list><precedence>bulk</precedence><list-post>&lt;http://xircles.codehaus.org/manage_email&gt;</list-post><list-help>&lt;http://xircles.codehaus.org/manage_email&gt;</list-help><list-unsubscribe>&lt;http://xircles.codehaus.org/manage_email&gt;</list-unsubscribe><list-subscribe>&lt;http://xircles.codehaus.org/manage_email&gt;</list-subscribe><list-id>&lt;scm.grails.codehaus.org&gt;</list-id><reply-to>dev@grails.codehaus.org</reply-to><delivered-to>mailing list scm@grails.codehaus.org</delivered-to><received>(qmail 28475 invoked by uid 89); 4 Jun 2009 14:52:41 -0000</received><message-id>16943243.117291244127162088.JavaMail.haus-jira@codehaus01.managed.contegix.com</message-id><date>Thu, 4 Jun 2009 09:52:42 -0500 (CDT)</date><mime-version>1.0</mime-version><content-type>text/plain; charset=ISO-8859-1</content-type><content-transfer-encoding>7bit</content-transfer-encoding><x-jira-fingerprint>4e90ceb663894a42f12c0e28abbab431</x-jira-fingerprint></headers><normalized-references><normalized-message-id>16943243.117291244127162088.JavaMail.haus-jira@codehaus01.managed.contegix.com</normalized-message-id></normalized-references><body type="text/plain; charset=iso-8859-1"><para depth="0">AuthBase sets bogus HTTP headers
</para><para depth="0">--------------------------------

</para><para depth="0">                 Key: GRAILSPLUGINS-1224
                 URL: <url>http://jira.codehaus.org/browse/GRAILSPLUGINS-1224</url>
             Project: Grails Plugins
          Issue Type: Bug
          Components: Grails-Acegi
    Affects Versions: Grails-Acegi 0.5.1
            Reporter: Marcus Better
            Assignee: T.Yamamoto
            Priority: Minor

</para><para depth="0">The AuthBase controller sets a bunch of HTTP headers to disable caching:

</para><para depth="0">{code}
response.setHeader('Cache-Control','no-cache') // HTTP 1.1
response.setDateHeader('max-age', 0)
response.setIntHeader ('Expires', -1) //prevents caching at the proxy server
response.addHeader('cache-Control', 'private') //IE5.x only
{code}

</para><para depth="0">Of these, the "max-age" header seems completely bogus, a web search did not turn<br/>up any references that anyone actually uses this.

</para><para depth="0">The Expires value is technically invalid according to HTTP/1.1 (RFC2616 ), but<br/>clients are required to interpret it correctly (as already expired). However I<br/>don't think it makes sense here: a secured resource does not necessary expire<br/>immediately.

</para><para depth="0">The second cache-Control header, first of all, is not specific to IE 5.x but is<br/>a valid HTTP header. Actually it is a sensible value that could be used instead<br/>of the more brutal no-cache. If both are used they can be put in a single header<br/>field (comma-separated).

</para><footer type="signature" depth="0" hash="16324229706277820687">-- 
This message is automatically generated by JIRA.
-
If you think it was sent incorrectly contact one of the administrators:<br/><url>http://jira.codehaus.org/secure/Administrators.jspa</url>
-
For more information on JIRA, see: <url>http://www.atlassian.com/software/jira</url>

</footer><footer type="list-management" depth="0">&lt;hr/&gt;
&lt;p&gt;
To unsubscribe from this list please visit:
&lt;/p&gt;
&lt;p&gt;
    &lt;a<br/>href="<url>http://xircles.codehaus.org/manage_email</url>"&gt;<url>http://xircles.codehaus.org/manage_email</url>&lt;/a&gt;

</footer></body></message>