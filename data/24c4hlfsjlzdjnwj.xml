<message message-id="20000728190147.G4417@athens.aocn.com" list="org.perl.perl-qa" id="24c4hlfsjlzdjnwj" type="general" date="2000-07-28T19:01:47-04:00" year="2000-01-01" year-month="2000-07-01" year-month-day="2000-07-28" thread-id="24c4hlfsjlzdjnwj"><headers><envelope-from-line>From nntpsnarfer@fakefrom.com  Mon Jan  1 12:00:00 1990</envelope-from-line><from personal="Michael G Schwern" address="schwern@pobox.com">Michael G Schwern &lt;schwern@pobox.com&gt;</from><to personal="Barrie Slaymaker" address="barries@slaysys.com">Barrie Slaymaker &lt;barries@slaysys.com&gt;</to><cc personal="perl-qa@perl.org" address="perl-qa@perl.org">perl-qa@perl.org</cc><subject normal="RFC: Embedded Tests and =test">Re: RFC:  Embedded Tests and =test</subject><newsgroups>perl.qa</newsgroups><path>nntp.perl.org</path><xref>nntp.perl.org perl.qa:70</xref><return-path>schwern@athens.arena-i.com</return-path><mailing-list>contact perl-qa-help@perl.org; run by ezmlm</mailing-list><delivered-to>mailing list perl-qa@perl.org</delivered-to><received>(qmail 22976 invoked from network); 28 Jul 2000 23:01:48 -0000</received><received>from athens.arena-i.com (166.84.148.130)
  by tmtowtdi.perl.org with SMTP; 28 Jul 2000 23:01:48 -0000</received><received>by athens.arena-i.com (Postfix, from userid 1000)
	id 6A64E3844; Fri, 28 Jul 2000 19:01:47 -0400 (EDT)</received><date>Fri, 28 Jul 2000 19:01:47 -0400</date><message-id>20000728190147.G4417@athens.aocn.com</message-id><references>&lt;20000726165416.H1854@athens.aocn.com&gt; &lt;398088BB.1EB414F8@slaysys.com&gt;</references><mime-version>1.0</mime-version><content-type>text/plain; charset=us-ascii</content-type><content-disposition>inline</content-disposition><user-agent>Mutt/1.1.3i</user-agent><in-reply-to>&lt;398088BB.1EB414F8@slaysys.com&gt;; from barries@slaysys.com on Thu, Jul 27, 2000 at 03:08:43PM -0400</in-reply-to><sender>schwern@athens.arena-i.com</sender></headers><normalized-references><normalized-message-id>20000728190147.G4417@athens.aocn.com</normalized-message-id><normalized-in-reply-to>&lt;398088BB.1EB414F8@slaysys.com&gt;;frombarries@slaysys.comonThu,Jul27,2000at03:08:43PM-0400</normalized-in-reply-to><normalized-reference>20000726165416.H1854@athens.aocn.com</normalized-reference><normalized-reference>398088BB.1EB414F8@slaysys.com</normalized-reference></normalized-references><body type="text/plain; charset=us-ascii"><para depth="0">On Thu, Jul 27, 2000 at 03:08:43PM -0400, Barrie Slaymaker wrote:
</para><quote depth="1"><quotepara depth="1">Michael G Schwern wrote:
</quotepara><quote depth="2"><quotepara depth="2">Regression tests should be embedded in the code and documentation near what
it is they're testing.
</quotepara></quote><quotepara depth="1">
s/embedded/embeddable/ and I'm there.  I don't think you can necessarily
embed tests right near the code you want to test, and some tests
don't necessarily belong to a particular module or piece of code.
</quotepara></quote><para depth="0">
Oh, don't worry.  I have no intention of getting rid of the .t files.
I guess I have to be really careful about how i word those one
sentence synopsises.

</para><quote depth="1"><quotepara depth="1">Some thoughts:

</quotepara><quotepara depth="1">This isn't POD, and it would confuse all the POD parsers out there.  How
about extending Test::Harness to scan for /^sub TEST_\d+/ and running them
in order?  A 
</quotepara></quote><para depth="0">
Several problems.

</para><para depth="0">Perl will have to compile all the test routines all the time.  This
both slows startup and eats memory.  This pretty much kills the
proposal. :(

</para><para depth="0">I don't see how the "sub TEST" thing improves except to keep POD pure
documentation.  '=for testing' works just fine for this.  As does
'=begin testing/=end testing'.  (You're right about '=test', so we
might want to drop that.)

</para><para depth="0">Writing out a whole subroutine for each test is too much work.  I
really want these to be tests on the order of a line or three.  I'd
like code authors to simply toss them in on a whim, similar to an
assert().  Larger tests can be accomidatd with '=begin/=end testing'
and also the traditional .t files.

</para><footer type="signature" hash="5981062797280963161" depth="0">-- 

</footer><footer type="signature" hash="708781823235187646" depth="0">Michael G Schwern      <url>http://www.pobox.com/~schwern/</url>      <email>schwern@pobox.com</email>
Just Another Stupid Consultant                      Perl6 Kwalitee Ashuranse
i gave them some paste
do that funky dance, white boy
i laughed my ass off
        -- Fmh

</footer></body></message>