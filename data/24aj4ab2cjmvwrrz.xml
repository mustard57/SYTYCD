<message message-id="1296647449.30945.1418537651@webmail.messagingengine.com" list="org.kernel.vger.util-linux-ng" id="24aj4ab2cjmvwrrz" type="development" date="2011-02-02T03:50:35.883964-08:00" year="2011-01-01" year-month="2011-02-01" year-month-day="2011-02-02" thread-id="24aj4ab2cjmvwrrz"><headers><envelope-from-line>Wed Feb 02 03:50:58 2011</envelope-from-line><from personal="Benno Schulenberg" address="bensberg@justemail.net">Benno Schulenberg &lt;bensberg@justemail.net&gt;</from><to personal="Util-Linux" address="util-linux@vger.kernel.org">Util-Linux &lt;util-linux@vger.kernel.org&gt;</to><subject normal="[patches] tiny improvements to some messages and man pages">[patches] tiny improvements to some messages and man pages</subject><received>from srv-117d-be06.markmail.marklogic.com ([172.19.8.66])
          by mail-1.a.markmail.int (JAMES SMTP Server 2.3.1) with SMTP ID 452
          for &lt;manuel.mccall.mcgee@a.markmail.org&gt;;
          Wed, 2 Feb 2011 03:50:58 -0800 (GMT-08:00)</received><received>from vger.kernel.org (slb-117n.markmail.marklogic.com [172.19.8.33])
	by mgw-2.public.markmail.int (Postfix) with ESMTP id 684013B3027B
	for &lt;manuel.mccall.mcgee@a.markmail.org&gt;; Wed,  2 Feb 2011 03:50:35 -0800 (PST)</received><received>(majordomo@vger.kernel.org) by vger.kernel.org via listexpand
	id S1753971Ab1BBLux (ORCPT
	&lt;rfc822;manuel.mccall.mcgee@a.markmail.org&gt;);
	Wed, 2 Feb 2011 06:50:53 -0500</received><received>from out1.smtp.messagingengine.com ([66.111.4.25]:54352 "EHLO
	out1.smtp.messagingengine.com" rhost-flags-OK-OK-OK-OK)
	by vger.kernel.org with ESMTP id S1753933Ab1BBLuv (ORCPT
	&lt;rfc822;util-linux@vger.kernel.org&gt;); Wed, 2 Feb 2011 06:50:51 -0500</received><received>from compute1.internal (compute1.nyi.mail.srv.osa [10.202.2.41])
	by gateway1.messagingengine.com (Postfix) with ESMTP id A09FA209E1
	for &lt;util-linux@vger.kernel.org&gt;; Wed,  2 Feb 2011 06:50:49 -0500 (EST)</received><received>from web1.messagingengine.com ([10.202.2.211])
  by compute1.internal (MEProxy); Wed, 02 Feb 2011 06:50:49 -0500</received><dkim-signature>v=1; a=rsa-sha1; c=relaxed/relaxed; d=messagingengine.com; h=message-id:from:to:mime-version:content-transfer-encoding:content-type:subject:date; s=smtpout; bh=at99D7M9BzlLbVUkamtr9z07PIQ=; b=Q5+rdJOkTyY/nXntWrbrZFkObOiOEqA3tUeLzhFwseGYBupIhASXw05rmUd2Pg3a0cl++LvGrgEiBFgAtiIPWn1F/F8rmEYehGvwE/ZPzWdjqsuhkP9+HElmM+9LiW86rdSngCkRZqSEMv0sp+OzmTgQEwFTDfvLG1xKJdWxE2I=</dkim-signature><received>by web1.messagingengine.com (Postfix, from userid 99)
	id 755E83C093B; Wed,  2 Feb 2011 06:50:49 -0500 (EST)</received><message-id>1296647449.30945.1418537651@webmail.messagingengine.com</message-id><x-sasl-enc>HOWcUmKaRJKuFdoF4FUxT0h0kY9zGasCFXHAk0IBhLhq 1296647449</x-sasl-enc><mime-version>1.0</mime-version><content-transfer-encoding>7bit</content-transfer-encoding><content-type>multipart/mixed; boundary="_----------=_1296647449309450"</content-type><x-mailer>MessagingEngine.com Webmail Interface</x-mailer><date>Wed, 02 Feb 2011 12:50:49 +0100</date><sender>util-linux-owner@vger.kernel.org</sender><precedence>bulk</precedence><list-id>&lt;util-linux.vger.kernel.org&gt;</list-id><x-mailing-list>util-linux@vger.kernel.org</x-mailing-list></headers><attachments><attachment type="text/x-patch" file="0001-textual-improve-the-wording-of-some-error-and-usage-.patch" size="6184" uri="/24aj4ab2cjmvwrrz/attach00/0001-textual-improve-the-wording-of-some-error-and-usage-.patch" extension="patch"><page page="1"><attachpara>From bcdd810755b3c39ad6dd11ab3be4129fb95c62b8 Mon Sep 17 00:00:00 2001
From: Benno Schulenberg &lt;bensberg@justemail.net&gt;
Date: Mon, 31 Jan 2011 22:35:44 +0100
Subject: [PATCH 1/5] textual: improve the wording of some error and usage messages

Signed-off-by: Benno Schulenberg &lt;bensberg@justemail.net&gt;
---
 login-utils/chsh.c           |    6 +++---
 login-utils/ttymsg.c         |    3 ++-
 misc-utils/findmnt.c         |    2 +-
 partx/partx.c                |    6 +++---
 shlibs/mount/samples/mount.c |    2 +-
 sys-utils/lscpu.c            |    8 ++++----
 6 files changed, 14 insertions(+), 13 deletions(-)

diff --git a/login-utils/chsh.c b/login-utils/chsh.c
index 778c457..93a45c0 100644
--- a/login-utils/chsh.c
+++ b/login-utils/chsh.c
@@ -88,9 +88,9 @@ static boolean get_shell_list (char *shell);
 static void __attribute__((__noreturn__)) usage (FILE *fp)
 {
     fprintf (fp,
-	     _("Usage: %s [ -s shell ] [ --list-shells ] "
-	       "[ --help ] [ --version ]\n"
-	       "       [ username ]\n"), whoami);
+	     _("Usage: %1$s [-s shell] [username]\n"
+	       "   or: %1$s (--list-shells | --help | --version)\n"),
+	     whoami);
 
     exit(fp == stderr ? EXIT_FAILURE : EXIT_SUCCESS);
 }
diff --git a/login-utils/ttymsg.c b/login-utils/ttymsg.c
index 92282c1..a4df59e 100644
--- a/login-utils/ttymsg.c
+++ b/login-utils/ttymsg.c
@@ -171,7 +171,8 @@ ttymsg(struct iovec *iov, int iovcnt, char *line, int tmout) {
 		if (forked)
 			_exit(1);
 		if (strlen(strerror(errno)) &gt; 1000)
-			(void) sprintf(errbuf, _("%s: BAD ERROR"), device);
+			(void) sprintf(errbuf, _("%s: BAD ERROR, message is "
+						 "far too long"), device);
 		else {
 			errsv = errno;
 			(void) sprintf(errbuf, "%s: %s", device,
diff --git a/misc-utils/findmnt.c b/misc-utils/findmnt.c
index f81a0c8..e7027f4 100644
--- a/misc-utils/findmnt.c
+++ b/misc-utils/findmnt.c
@@ -384,7 +384,7 @@ static struct libmnt_table *parse_tabfile(const char *path)
 
 	if (rc) {
 		mnt_free_table(tb);
-		warn(_("can't read: %s"), path);
+		warn(_("can't read %s"), path);
 		return NULL;
 	}
 	return tb;
diff --git a/partx/partx.c b/partx/partx.c
index efb627f..a2764eb 100644
--- a/partx/partx.c
+++ b/partx/partx.c
@@ -594,7 +594,7 @@ static void __attribute__((__noreturn__)) usage(FILE *out)
 
 	fprintf(out, _(
 		"\nUsage:\n"
-		" %s [-a|-d|-s] [--nr &lt;N:M&gt; | &lt;device&gt;] &lt;wholedisk&gt;\n"),
+		" %s [-a|-d|-s] [--nr &lt;N:M&gt; | &lt;partition&gt;] &lt;device&gt;\n"),
 		program_invocation_short_name);
 
 	fprintf(out, _(
@@ -608,8 +608,8 @@ static void __attribute__((__noreturn__)) usage(FILE *out)
 		" -g, --noheadings     don't print headings for --show\n"
 		" -r, --raw            use raw format output\n"
 		" -t, --type &lt;TYPE&gt;    specify the partition type (dos, bsd, solaris, etc.)\n"
-		" -n, --nr &lt;M:N&gt;       specify the range of partitions (--nr 2:4)\n"
-		" -o, --output &lt;LIST&gt;  output column\n"
+		" -n, --nr &lt;M:N&gt;       specify the range of partitions (e.g. --nr 2:4)\n"
+		" -o, --output &lt;LIST&gt;  define which output columns to use\n"
 		" -h, --help           print this help\n\n"));
 
 	fprintf(out, _("\nAvailable columns (for --show):\n"));
diff --git a/shlibs/mount/samples/mount.c b/shlibs/mount/samples/mount.c
index 5e87d88..f36cf53 100644
--- a/shlibs/mount/samples/mount.c
+++ b/shlibs/mount/samples/mount.c
@@ -306,7 +306,7 @@ int main(int argc, char **argv)
 		case 'L':
 		case 'U':
 			if (source)
-				errx(EX_USAGE, _("only one &lt;source&gt; could be specified"));
+				errx(EX_USAGE, _("only one &lt;source&gt; may be specified"));
 			if (asprintf(&amp;srcbuf, "%s=\"%s\"",
 				     c == 'L' ? "LABEL" : "UUID", optarg) &lt;= 0)
 				err(EX_SYSERR, _("failed to allocate source buffer"));
diff --git a/sys-utils/lscpu.c b/sys-utils/lscpu.c
index 66f6126..2220938 100644
--- a/sys-utils/lscpu.c
+++ b/sys-utils/lscpu.c
@@ -917,10 +917,10 @@ void usage(int rc)
 			program_invocation_short_name);
 
 	puts(_(	"CPU architecture information helper\n\n"
-		"  -h, --help     usage information\n"
-		"  -p, --parse    print out in parsable instead of printable format.\n"
-		"  -s, --sysroot  use the directory as a new system root.\n"
-		"  -x, --hex      print haxadecimal masks rather than lists of CPU(s)\n"));
+		"  -h, --help         print this help\n"
+		"  -p, --parse        print out a parsable instead of a readable format\n"
+		"  -s, --sysroot DIR  use directory DIR as system root\n"
+		"  -x, --hex          print hexadecimal masks rather than lists of CPUs\n"));
 
 	exit(rc);
 }
-- 
1.6.3.3

</attachpara></page></attachment><attachment type="text/x-patch" file="0002-partx-improve-clarity-of-some-messages-gettextize-tw.patch" size="5664" uri="/24aj4ab2cjmvwrrz/attach01/0002-partx-improve-clarity-of-some-messages-gettextize-tw.patch" extension="patch"><page page="1"><attachpara>From 6b38b9ed48ef60389fbd9bc200b7cc61bb5c1ee8 Mon Sep 17 00:00:00 2001
From: Benno Schulenberg &lt;bensberg@justemail.net&gt;
Date: Tue, 1 Feb 2011 11:41:29 +0100
Subject: [PATCH 2/5] partx: improve clarity of some messages, gettextize two missed ones

Signed-off-by: Benno Schulenberg &lt;bensberg@justemail.net&gt;
---
 partx/partx.c |   27 +++++++++++++--------------
 1 files changed, 13 insertions(+), 14 deletions(-)

diff --git a/partx/partx.c b/partx/partx.c
index a2764eb..a30be7c 100644
--- a/partx/partx.c
+++ b/partx/partx.c
@@ -141,7 +141,7 @@ static int get_partno_from_device(char *partition, dev_t devno)
 	assert(partition);
 
 	if (devno) {
-		/* the device exits, read the partition number from /sys
+		/* the device exists, read the partition number from /sys
 		 * TODO: move this to stuff to lib/sysfs.c */
 		char path[PATH_MAX];
 		FILE *f;
@@ -262,7 +262,7 @@ static int del_parts(int fd, const char *device, dev_t devno,
 			lower = n + lower + 1;
 	}
 	if (lower &gt; upper) {
-		warnx(_("defined range &lt;%d:%d&gt; "
+		warnx(_("specified range &lt;%d:%d&gt; "
 			"does not make sense"), lower, upper);
 		return -1;
 	}
@@ -275,7 +275,7 @@ static int del_parts(int fd, const char *device, dev_t devno,
 		}
 		rc = -1;
 		if (verbose)
-			warn(_("%s: delete partition #%d failed"), device, i);
+			warn(_("%s: deleting partition #%d failed"), device, i);
 		if (!errfirst)
 			errlast = errfirst = i;
 		else if (errlast + 1 == i)
@@ -326,8 +326,8 @@ static int add_parts(int fd, const char *device,
 
 		if (blkid_partition_is_extended(par))
 			/*
-			 * Let's follow Linux kernel and reduce
-			 * DOS extended partition to 1 or 2 sectors
+			 * Let's follow the Linux kernel and reduce
+			 * DOS extended partition to 1 or 2 sectors.
 			 */
 			size = min(size, (uintmax_t) 2);
 
@@ -338,7 +338,7 @@ static int add_parts(int fd, const char *device,
 		}
 		rc = -1;
 		if (verbose)
-			warn(_("%s: add partition #%d failed"), device, n);
+			warn(_("%s: adding partition #%d failed"), device, n);
 		if (!errfirst)
 			errlast = errfirst = n;
 		else if (errlast + 1 == n)
@@ -375,7 +375,7 @@ static int list_parts(blkid_partlist ls, int lower, int upper)
 		start = blkid_partition_get_start(par);
 		size =  blkid_partition_get_size(par);
 
-		printf("#%2d: %9ju-%9ju (%9ju sectors, %6ju MB)\n",
+		printf(_("#%2d: %9ju-%9ju (%9ju sectors, %6ju MB)\n"),
 		       n, start, start + size -1,
 		       size, (size &lt;&lt; 9) / 1000000);
 	}
@@ -562,7 +562,7 @@ static blkid_partlist get_partlist(blkid_probe pr,
 		if (blkid_probe_filter_partitions_type(pr,
 				BLKID_FLTR_ONLYIN, name)) {
 			warnx(_("failed to initialize blkid "
-					"filter for '%s'"), type);
+				"filter for '%s'"), type);
 			return NULL;
 		}
 	}
@@ -575,9 +575,8 @@ static blkid_partlist get_partlist(blkid_probe pr,
 
 	tab = blkid_partlist_get_table(ls);
 	if (verbose &amp;&amp; tab)
-		printf(_("%s: partition table '%s' detected\n"),
-				device,
-				blkid_parttable_get_type(tab));
+		printf(_("%s: partition table type '%s' detected\n"),
+		       device, blkid_parttable_get_type(tab));
 
 	if (!blkid_partlist_numof_partitions(ls)) {
 		warnx(_("%s: %s partition table does not contains "
@@ -625,7 +624,7 @@ static void __attribute__((__noreturn__)) usage(FILE *out)
 static void __attribute__((__noreturn__))
 errx_mutually_exclusive(const char *opts)
 {
-	errx(EXIT_FAILURE, "%s %s", opts, _("options are mutually exclusive"));
+	errx(EXIT_FAILURE, _("the options %s are mutually exclusive"), opts);
 }
 
 int main(int argc, char **argv)
@@ -794,7 +793,7 @@ int main(int argc, char **argv)
 	}
 
 	if (verbose)
-		printf("device: %s, whole-disk: %s, lower: %d, upper: %d\n",
+		printf(_("partition: %s, device: %s, lower: %d, upper: %d\n"),
 				device, wholedisk, lower, upper);
 
 	if (what == ACT_ADD || what == ACT_DELETE) {
@@ -826,7 +825,7 @@ int main(int argc, char **argv)
 			if (upper &lt; 0)
 				upper = n + upper + 1;
 			if (lower &gt; upper) {
-				warnx(_("defined range &lt;%d:%d&gt; "
+				warnx(_("specified range &lt;%d:%d&gt; "
 					"does not make sense"), lower, upper);
 				rc = -1, what = 0;
 			}
-- 
1.6.3.3

</attachpara></page></attachment><attachment type="text/x-patch" file="0003-partx-normalize-the-punctuation-of-man-page-and-impr.patch" size="8950" uri="/24aj4ab2cjmvwrrz/attach02/0003-partx-normalize-the-punctuation-of-man-page-and-impr.patch" extension="patch"><page page="1"><attachpara>From c18ddfa02f8cb907fa76c228e0742dc6218f3d56 Mon Sep 17 00:00:00 2001
From: Benno Schulenberg &lt;bensberg@justemail.net&gt;
Date: Tue, 1 Feb 2011 12:11:47 +0100
Subject: [PATCH 3/5] partx: normalize the punctuation of man page, and improve grammar here and there

Signed-off-by: Benno Schulenberg &lt;bensberg@justemail.net&gt;
---
 partx/partx.8 |   79 +++++++++++++++++++++++++++++----------------------------
 1 files changed, 40 insertions(+), 39 deletions(-)

diff --git a/partx/partx.8 b/partx/partx.8
index 7af977f..5760ace 100644
--- a/partx/partx.8
+++ b/partx/partx.8
@@ -3,10 +3,10 @@
 .\" Copyright 2007 Red Hat, Inc.
 .\" Copyright 2010 Davidlohr Bueso &lt;dave@gnu.org&gt;
 .\" May be distributed under the GNU General Public License
-.TH PARTX 8 "28 Oct 2010"
+.TH PARTX 8 "1 Feb 2011"
 .SH NAME
 partx \-
-tell the linux kernel about presence and numbering of on-disk partitions.
+tell the Linux kernel about the presence and numbering of on-disk partitions
 .SH SYNOPSIS
 .B partx
 .RB [ \-a | \-d | \-s ]
@@ -25,88 +25,89 @@ tell the linux kernel about presence and numbering of on-disk partitions.
 .RI [ disk ]
 
 .SH DESCRIPTION
-Given a device or disk-image, try to parse the partition table, and list the
-contents. Optionally add or remove partitions.
+Given a device or disk-image, \fBpartx\fP tries to parse the partition table and
+list its contents.  It optionally adds or removes partitions.
 
 The
 .I disk
 argument is optional when a 
 .I partition 
-argument is provided. It's possible to force scanning on partition (for example
-to list nested subpartitions), then the string "-" has to be used, for example:
+argument is provided.  To force scanning a partition as if it were a whole disk
+(for example to list nested subpartitions), use the argument "-".  For example:
 
 .RS
 .br
 .B partx \-\-show \- /dev/sda3
 .RE
 
-This will use sda3 as a whole-disk rather than a partition.
+This will see sda3 as a whole-disk rather than a partition.
 
-.B This is not an fdisk
-\- adding and removing partitions
-is not a change of the disk, but just telling the kernel
-about presence and numbering of on-disk partitions.
+.B This is not an fdisk program
+\-\- adding and removing partitions
+does not change the disk, it just tells the kernel
+about the presence and numbering of on-disk partitions.
 
 .SH OPTIONS
 .IP "\fB\-a, \-\-add\fP"
-add specified partitions or read disk and add all partitions
+Add the specified partitions, or read the disk and add all partitions.
 .IP "\fB\-b, \-\-bytes\fP"
-Print the SIZE column in bytes rather than in human readable format.
+Print the SIZE column in bytes rather than in human-readable format.
 .IP "\fB\-d, \-\-delete\fP"
-delete specified or all partitions
-.IP "\fB\-l, \-\-list\fP"
-list partitions. Note that the all numbers are in 512-byte sectors. This output
-format is DEPRECATED in favour of \fB\-\-show\fP. Don't use it in newly written
-scripts.
+Delete the specified partitions or all partitions.
 .IP "\fB\-g, \-\-noheadings\fP"
 Do not print a header line.
+.IP "\fB\-l, \-\-list\fP"
+List the partitions.  Note that all numbers are in 512-byte sectors.  This output
+format is DEPRECATED in favour of \fB\-\-show\fP.  Don't use it in newly written
+scripts.
 .IP "\fB\-o, \-\-output \fIlist\fP"
-Define output columns for \fB\-\-show\fP and  \fB\-\-raw\fP output. If output format is
-not specified then \fB\-\-show\fP is enable by default. Use \fB\-\-help\fP to 
-get list of all supported columns.
+Define the output columns to use for \fB\-\-show\fP and  \fB\-\-raw\fP output.
+If no output arrangement is specified, then a default set is used.
+Use \fB\-\-help\fP to  get list of all supported columns.
 .IP "\fB\-r, \-\-raw\fP"
-Use raw output format.
+Use the raw output format.
 .IP "\fB\-s, \-\-show\fP"
-list partitions. All numbers (except SIZE) are in 512-byte sectors. The output
-columns could be (re)defined by \fB\-\-output\fP option.
+List the partitions.  All numbers (except SIZE) are in 512-byte sectors.  The output
+columns can be rearranged with the \fB\-\-output\fP option.
 .IP "\fB\-t, \-\-type \fItype\fP"
-Specify the partition table type -- dos, bsd, solaris, unixware or gpt.
+Specify the partition table type -- aix, bsd, dos, gpt, mac, minix, sgi, solaris_x86,
+sun, ultrix or unixware.
 .IP "\fB\-n, \-\-nr \fIM:N\fP"
-Specify the range of partitions. For backward compatibility is also supported
-range definition in &lt;M-N&gt; format. The range could be specified by negative 
-numbers, for example "--nr :-1" means last partition, and "--nr -2:-1" means 
-last two partition. Supported range specifications:
+Specify the range of partitions.  For backward compatibility also the format
+&lt;M-N&gt; is supported.  The range may contain negative 
+numbers, for example "--nr :-1" means the last partition, and "--nr -2:-1" means 
+the last two partitions.  Supported range specifications are:
 .RS
 .TP
 .B &lt;M&gt;
-Specify only one partition (e.g. --nr 3).
+Specifies just one partition (e.g. --nr 3).
 .TP
 .B &lt;M:&gt;
-Specify lower limit only (e.g. --nr 2:).
+Specifies lower limit only (e.g. --nr 2:).
 .TP
 .B &lt;:N&gt;
-Specify upper limit only (e.g. --nr :4).
+Specifies upper limit only (e.g. --nr :4).
 .TP
 .B &lt;M:N&gt;
 or
 .B &lt;M-N&gt;
-Specify lower and upper limits (e.g. --nr 2:4).
+Specifies lower and upper limits (e.g. --nr 2:4).
 .RE
 .SH EXAMPLES
 .IP "\fBpartx \-\-show /dev/sdb3\fP"
 .IP "\fBpartx \-\-show --nr 3 /dev/sdb\fP"
 .IP "\fBpartx \-\-show /dev/sdb3 /dev/sdb\fP"
-List partition 3 of /dev/sdb.
+All three commands list partition 3 of /dev/sdb.
 .IP "\fBpartx \-\-show \- /dev/sdb3\fP"
-List all subpartitions on /dev/sdb3 (the device is used as whole-disk).
+Lists all subpartitions on /dev/sdb3 (the device is used as whole-disk).
 .IP "\fBpartx \-o START -g --nr 3 /dev/sdb\fP"
-Print the start sector of partition 5 on /dev/sda without header.
+Prints the start sector of partition 5 on /dev/sda without header.
 .IP "\fBpartx \-o SECTORS,SIZE /dev/sda5 /dev/sda\fP"
-List the length in sectors and human readable size of partition 5 on /dev/sda.
+Lists the length in sectors and human-readable size of partition 5 on /dev/sda.
 .IP "\fBpartx \-\-add --nr 3:5 /dev/sdd\fP"
-Add all available partitions from 3 to 5 (inclusive) on /dev/sdd.
+Adds all available partitions from 3 to 5 (inclusive) on /dev/sdd.
 .IP "\fBpartx \-d --nr :-1 /dev/sdd\fP"
-Removes last partition on /dev/sdd.
+Removes the last partition on /dev/sdd.
 
 .SH SEE ALSO
 .BR addpart (8),
-- 
1.6.3.3

</attachpara></page></attachment><attachment type="text/x-patch" file="0004-lsblk-small-grammar-touches-to-the-man-page.patch" size="4766" uri="/24aj4ab2cjmvwrrz/attach03/0004-lsblk-small-grammar-touches-to-the-man-page.patch" extension="patch"><page page="1"><attachpara>From b37e9de86e157a9b14376b5deb5c5faf21875ce5 Mon Sep 17 00:00:00 2001
From: Benno Schulenberg &lt;bensberg@justemail.net&gt;
Date: Tue, 1 Feb 2011 21:55:54 +0100
Subject: [PATCH 4/5] lsblk: small grammar touches to the man page

Signed-off-by: Benno Schulenberg &lt;bensberg@justemail.net&gt;
---
 misc-utils/lsblk.8 |   35 ++++++++++++++++++-----------------
 1 files changed, 18 insertions(+), 17 deletions(-)

diff --git a/misc-utils/lsblk.8 b/misc-utils/lsblk.8
index 2f9c17f..b7d3396 100644
--- a/misc-utils/lsblk.8
+++ b/misc-utils/lsblk.8
@@ -11,50 +11,51 @@ lsblk \- list block devices
 .IR device...
 .SH DESCRIPTION
 .B lsblk
-will list information about all or selected block devices. The
+lists information about all or the specified block devices. The
 .B lsblk
-command reads
+command reads the
 .I sysfs
 filesystem to gather information.
 .PP
-The command prints all block devices (except RAM disks) in the tree-like format
-by default. See
+The command prints all block devices (except RAM disks) in a tree-like format
+by default.  Use
 .B "lsblk --help"
-to get list of all available columns.
+to get a list of all available columns.
 .SH OPTIONS
 .IP "\fB\-a, \-\-all\fP"
 List all block devices.
 .IP "\fB\-b, \-\-bytes\fP"
-Print the SIZE column in bytes rather than in human readable format.
+Print the SIZE column in bytes rather than in human-readable format.
 .IP "\fB\-d, \-\-nodeps\fP"
-Don't print device holders or slaves. For example "lsblk --nodeps /dev/sda" prints
+Don't print device holders or slaves.  For example "lsblk --nodeps /dev/sda" prints
 information about the sda device only.
 .IP "\fB\-e, \-\-exclude \fIlist\fP
-Exclude devices by comma delimited list of major device numbers. Note that RAM
-disks (major=1) are excluded by default.
+Exclude the devices specified by a comma-delimited list of major device numbers.
+Note that RAM disks (major=1) are excluded by default.
 .IP "\fB\-f, \-\-fs\fP
-Output info about filesystems. This option is equivalent to -o NAME,FSTYPE,LABEL,MOUNTPOINT.
-The authoritative information about filesystems and raids are provided by
+Output info about filesystems.  This option is equivalent to "-o NAME,FSTYPE,LABEL,MOUNTPOINT".
+The authoritative information about filesystems and raids is provided by the
 .BR blkid (8)
 command.
 .IP "\fB\-h, \-\-help\fP"
-Print help and exit.
+Print a help text and exit.
 .IP "\fB\-i, \-\-ascii\fP"
 Use ascii characters for tree formatting.
 .IP "\fB\-m, \-\-perms\fP
-Output info about device owner, group and mode. This option is equivalent to -o NAME,SIZE,OWNER,GROUP,MODE.
+Output info about device owner, group and mode.  This option is equivalent to "-o NAME,SIZE,OWNER,GROUP,MODE".
 .IP "\fB\-l, \-\-list\fP"
 Use the list output format.
 .IP "\fB\-n, \-\-noheadings\fP"
 Do not print a header line.
 .IP "\fB\-o, \-\-output \fIlist\fP"
-Define output columns.  Use
+Specify which output columns to print.  Use
 .B "--help"
-to get list of all supported columns.
+to get a list of all supported columns.
 .IP "\fB\-r, \-\-raw\fP"
-Use raw output format.
+Use the raw output format.
 .IP "\fB\-t, \-\-topology\fP"
-Output info about block device topology. This option is equivalent to -o NAME,ALIGNMENT,MIN-IO,OPT-IO,PHY-SEC,LOG-SEC,ROTA,SCHED.
+Output info about block device topology.
+This option is equivalent to "-o NAME,ALIGNMENT,MIN-IO,OPT-IO,PHY-SEC,LOG-SEC,ROTA,SCHED".
 .SH AUTHORS
 .nf
 Milan Broz &lt;mbroz@redhat.com&gt;
-- 
1.6.3.3

</attachpara></page></attachment><attachment type="text/x-patch" file="0005-lscpu-add-description-of-sysroot-option-to-man-page-.patch" size="3362" uri="/24aj4ab2cjmvwrrz/attach04/0005-lscpu-add-description-of-sysroot-option-to-man-page-.patch" extension="patch"><page page="1"><attachpara>From 89ae529097f8560ba56f7ea45af29c8544c1e415 Mon Sep 17 00:00:00 2001
From: Benno Schulenberg &lt;bensberg@justemail.net&gt;
Date: Wed, 2 Feb 2011 12:06:24 +0100
Subject: [PATCH 5/5] lscpu: add description of --sysroot option to man page, plus grammar touches

Signed-off-by: Benno Schulenberg &lt;bensberg@justemail.net&gt;
---
 sys-utils/lscpu.1 |   25 ++++++++++++++++---------
 1 files changed, 16 insertions(+), 9 deletions(-)

diff --git a/sys-utils/lscpu.1 b/sys-utils/lscpu.1
index 5818db9..ba00538 100644
--- a/sys-utils/lscpu.1
+++ b/sys-utils/lscpu.1
@@ -1,36 +1,43 @@
 .\" Process this file with
 .\" groff -man -Tascii lscpu.1
 .\"
-.TH LSCPU 1 "JULY 2008" Linux "User Manuals"
+.TH LSCPU 1 "February 2011" Linux "User Manuals"
 .SH NAME
 lscpu \- CPU architecture information helper
 .SH SYNOPSIS
 .B lscpu
-.RB [ \-hp ]
+.RB [ \-hpx ]
+.RB [ \-s
+.IR directory ] 
 .SH DESCRIPTION
 .B lscpu
 gathers CPU architecture information like number of CPUs, threads,
 cores, sockets, NUMA nodes, information about CPU caches, CPU family,
 model, bogoMIPS, byte order and stepping from sysfs and /proc/cpuinfo, and prints it in
-human-readable format. It supports both online and offline CPUs. Alternatively, it can print out in parsable
-format including how different caches are shared by different CPUs,
-which can also be fed to other programs.
+a human-readable format.  It supports both online and offline CPUs.
+It can also print out in a parsable format,
+including how different caches are shared by different CPUs,
+which can be fed to other programs.
 .SH OPTIONS
 .TP
 .BR \-h , " \-\-help"
 Print a help message.
 .TP
 .BR \-p , " \-\-parse"
-Print out in parsable instead of printable format.
+Print out in parsable instead of human-readable format.
+.TP
+.BR \-s , " \-\-sysroot " \fIdirectory\fP
+Use the specified \fIdirectory\fP as system root.  This allows you to inspect
+a snapshot from a different system.
 .TP
 .BR \-x , " \-\-hex"
-Use hexadecimal masks for CPU(s) sets (e.g. 0x3). The default is print the sets
-in the list format (e.g. 0,1).
+Use hexadecimal masks for CPU sets (e.g. 0x3).  The default is to print the sets
+in list format (e.g. 0,1).
 .SH BUGS
 The basic overview about CPU family, model, etc. is always based on the first
 CPU only.
 
-Sometimes in Xen Dom0 kernel reports wrong data.
+Sometimes in Xen Dom0 the kernel reports wrong data.
 .SH AUTHOR
 .nf
 Cai Qian &lt;qcai@redhat.com&gt;
-- 
1.6.3.3

</attachpara></page></attachment></attachments><normalized-references><normalized-message-id>1296647449.30945.1418537651@webmail.messagingengine.com</normalized-message-id></normalized-references><body><para depth="0">
Hi,

</para><para depth="0">Attached five patches improve several message strings and man pages.
Please apply the first two only after release of 2.19 (if there will be
no rc4).  The last three (man page patches) can be applied now.

</para><para depth="0">One detail: the first patch changes "&lt;device&gt;" to "&lt;partition&gt;" in the
synopsis of the partx command, not just because it seems clearer to me
but also to be consistent with the error message that says that option
"--nr and &lt;partition&gt; are mutually exclusive".

</para><para depth="0">(Please CC, not subscribed.)

</para><para depth="0">Regards,

</para><para depth="0">Benno

</para><para depth="0">-- 
<url>http://www.fastmail.fm</url> - Or how I learned to stop worrying and
                          love email again

</para><para depth="0">From bcdd810755b3c39ad6dd11ab3be4129fb95c62b8 Mon Sep 17 00:00:00 2001
From: Benno Schulenberg &lt;<email>bensberg@justemail.net</email>&gt;
Date: Mon, 31 Jan 2011 22:35:44 +0100
Subject: [PATCH 1/5] textual: improve the wording of some error and usage<br/>messages

</para><para depth="0">Signed-off-by: Benno Schulenberg &lt;<email>bensberg@justemail.net</email>&gt;
</para><para depth="0">---
 login-utils/chsh.c           |    6 +++---
 login-utils/ttymsg.c         |    3 ++-
 misc-utils/findmnt.c         |    2 +-
 partx/partx.c                |    6 +++---
 shlibs/mount/samples/mount.c |    2 +-
 sys-utils/lscpu.c            |    8 ++++----
 6 files changed, 14 insertions(+), 13 deletions(-)

</para><para depth="0">diff --git a/login-utils/chsh.c b/login-utils/chsh.c
index 778c457..93a45c0 100644
--- a/login-utils/chsh.c
+++ b/login-utils/chsh.c
@@ -88,9 +88,9 @@ static boolean get_shell_list (char *shell);
 static void __attribute__((__noreturn__)) usage (FILE *fp)
 {
     fprintf (fp,
-	     _("Usage: %s [ -s shell ] [ --list-shells ] "
-	       "[ --help ] [ --version ]\n"
-	       "       [ username ]\n"), whoami);
+	     _("Usage: %1$s [-s shell] [username]\n"
+	       "   or: %1$s (--list-shells | --help | --version)\n"),
+	     whoami);

</para><para depth="0">     exit(fp == stderr ? EXIT_FAILURE : EXIT_SUCCESS);
 }
diff --git a/login-utils/ttymsg.c b/login-utils/ttymsg.c
index 92282c1..a4df59e 100644
--- a/login-utils/ttymsg.c
+++ b/login-utils/ttymsg.c
@@ -171,7 +171,8 @@ ttymsg(struct iovec *iov, int iovcnt, char *line, int tmout)<br/>{
 		if (forked)
 			_exit(1);
 		if (strlen(strerror(errno)) &gt; 1000)
-			(void) sprintf(errbuf, _("%s: BAD ERROR"), device);
+			(void) sprintf(errbuf, _("%s: BAD ERROR, message is "
+						 "far too long"), device);
 		else {
 			errsv = errno;
 			(void) sprintf(errbuf, "%s: %s", device,
diff --git a/misc-utils/findmnt.c b/misc-utils/findmnt.c
index f81a0c8..e7027f4 100644
--- a/misc-utils/findmnt.c
+++ b/misc-utils/findmnt.c
@@ -384,7 +384,7 @@ static struct libmnt_table *parse_tabfile(const char *path)

</para><para depth="0"> 	if (rc) {
 		mnt_free_table(tb);
-		warn(_("can't read: %s"), path);
+		warn(_("can't read %s"), path);
 		return NULL;
 	}
 	return tb;
diff --git a/partx/partx.c b/partx/partx.c
index efb627f..a2764eb 100644
--- a/partx/partx.c
+++ b/partx/partx.c
@@ -594,7 +594,7 @@ static void __attribute__((__noreturn__)) usage(FILE *out)

</para><para depth="0"> 	fprintf(out, _(
 		"\nUsage:\n"
-		" %s [-a|-d|-s] [--nr &lt;N:M&gt; | &lt;device&gt;] &lt;wholedisk&gt;\n"),
+		" %s [-a|-d|-s] [--nr &lt;N:M&gt; | &lt;partition&gt;] &lt;device&gt;\n"),
 		program_invocation_short_name);

</para><para depth="0"> 	fprintf(out, _(
@@ -608,8 +608,8 @@ static void __attribute__((__noreturn__)) usage(FILE *out)
 		" -g, --noheadings     don't print headings for --show\n"
 		" -r, --raw            use raw format output\n"
 		" -t, --type &lt;TYPE&gt;    specify the partition type (dos, bsd, solaris,<br/>etc.)\n"
-		" -n, --nr &lt;M:N&gt;       specify the range of partitions (--nr 2:4)\n"
-		" -o, --output &lt;LIST&gt;  output column\n"
+		" -n, --nr &lt;M:N&gt;       specify the range of partitions (e.g. --nr 2:4)\n"
+		" -o, --output &lt;LIST&gt;  define which output columns to use\n"
 		" -h, --help           print this help\n\n"));

</para><para depth="0"> 	fprintf(out, _("\nAvailable columns (for --show):\n"));
diff --git a/shlibs/mount/samples/mount.c b/shlibs/mount/samples/mount.c
index 5e87d88..f36cf53 100644
--- a/shlibs/mount/samples/mount.c
+++ b/shlibs/mount/samples/mount.c
@@ -306,7 +306,7 @@ int main(int argc, char **argv)
 		case 'L':
 		case 'U':
 			if (source)
-				errx(EX_USAGE, _("only one &lt;source&gt; could be specified"));
+				errx(EX_USAGE, _("only one &lt;source&gt; may be specified"));
 			if (asprintf(&amp;srcbuf, "%s=\"%s\"",
 				     c == 'L' ? "LABEL" : "UUID", optarg) &lt;= 0)
 				err(EX_SYSERR, _("failed to allocate source buffer"));
diff --git a/sys-utils/lscpu.c b/sys-utils/lscpu.c
index 66f6126..2220938 100644
--- a/sys-utils/lscpu.c
+++ b/sys-utils/lscpu.c
@@ -917,10 +917,10 @@ void usage(int rc)
 			program_invocation_short_name);

</para><para depth="0"> 	puts(_(	"CPU architecture information helper\n\n"
-		"  -h, --help     usage information\n"
-		"  -p, --parse    print out in parsable instead of printable format.\n"
-		"  -s, --sysroot  use the directory as a new system root.\n"
-		"  -x, --hex      print haxadecimal masks rather than lists of CPU(s)\n"));
+		"  -h, --help         print this help\n"
+		"  -p, --parse        print out a parsable instead of a readable format\n"
+		"  -s, --sysroot DIR  use directory DIR as system root\n"
+		"  -x, --hex          print hexadecimal masks rather than lists of CPUs\n"));

</para><para depth="0"> 	exit(rc);
 }
</para><para depth="0">-- 
1.6.3.3

</para><para depth="0">From 6b38b9ed48ef60389fbd9bc200b7cc61bb5c1ee8 Mon Sep 17 00:00:00 2001
From: Benno Schulenberg &lt;<email>bensberg@justemail.net</email>&gt;
Date: Tue, 1 Feb 2011 11:41:29 +0100
Subject: [PATCH 2/5] partx: improve clarity of some messages, gettextize two<br/>missed ones

</para><para depth="0">Signed-off-by: Benno Schulenberg &lt;<email>bensberg@justemail.net</email>&gt;
</para><para depth="0">---
 partx/partx.c |   27 +++++++++++++--------------
 1 files changed, 13 insertions(+), 14 deletions(-)

</para><para depth="0">diff --git a/partx/partx.c b/partx/partx.c
index a2764eb..a30be7c 100644
--- a/partx/partx.c
+++ b/partx/partx.c
@@ -141,7 +141,7 @@ static int get_partno_from_device(char *partition, dev_t<br/>devno)
 	assert(partition);

</para><para depth="0"> 	if (devno) {
-		/* the device exits, read the partition number from /sys
+		/* the device exists, read the partition number from /sys
 		 * TODO: move this to stuff to lib/sysfs.c */
 		char path[PATH_MAX];
 		FILE *f;
@@ -262,7 +262,7 @@ static int del_parts(int fd, const char *device, dev_t<br/>devno,
 			lower = n + lower + 1;
 	}
 	if (lower &gt; upper) {
-		warnx(_("defined range &lt;%d:%d&gt; "
+		warnx(_("specified range &lt;%d:%d&gt; "
 			"does not make sense"), lower, upper);
 		return -1;
 	}
@@ -275,7 +275,7 @@ static int del_parts(int fd, const char *device, dev_t<br/>devno,
 		}
 		rc = -1;
 		if (verbose)
-			warn(_("%s: delete partition #%d failed"), device, i);
+			warn(_("%s: deleting partition #%d failed"), device, i);
 		if (!errfirst)
 			errlast = errfirst = i;
 		else if (errlast + 1 == i)
@@ -326,8 +326,8 @@ static int add_parts(int fd, const char *device,

</para><para depth="0"> 		if (blkid_partition_is_extended(par))
 			/*
-			 * Let's follow Linux kernel and reduce
-			 * DOS extended partition to 1 or 2 sectors
+			 * Let's follow the Linux kernel and reduce
+			 * DOS extended partition to 1 or 2 sectors.
 			 */
 			size = min(size, (uintmax_t) 2);

</para><para depth="0">@@ -338,7 +338,7 @@ static int add_parts(int fd, const char *device,
 		}
 		rc = -1;
 		if (verbose)
-			warn(_("%s: add partition #%d failed"), device, n);
+			warn(_("%s: adding partition #%d failed"), device, n);
 		if (!errfirst)
 			errlast = errfirst = n;
 		else if (errlast + 1 == n)
@@ -375,7 +375,7 @@ static int list_parts(blkid_partlist ls, int lower, int<br/>upper)
 		start = blkid_partition_get_start(par);
 		size =  blkid_partition_get_size(par);

</para><para depth="0">-		printf("#%2d: %9ju-%9ju (%9ju sectors, %6ju MB)\n",
+		printf(_("#%2d: %9ju-%9ju (%9ju sectors, %6ju MB)\n"),
 		       n, start, start + size -1,
 		       size, (size &lt;&lt; 9) / 1000000);
 	}
@@ -562,7 +562,7 @@ static blkid_partlist get_partlist(blkid_probe pr,
 		if (blkid_probe_filter_partitions_type(pr,
 				BLKID_FLTR_ONLYIN, name)) {
 			warnx(_("failed to initialize blkid "
-					"filter for '%s'"), type);
+				"filter for '%s'"), type);
 			return NULL;
 		}
 	}
@@ -575,9 +575,8 @@ static blkid_partlist get_partlist(blkid_probe pr,

</para><para depth="0"> 	tab = blkid_partlist_get_table(ls);
 	if (verbose &amp;&amp; tab)
-		printf(_("%s: partition table '%s' detected\n"),
-				device,
-				blkid_parttable_get_type(tab));
+		printf(_("%s: partition table type '%s' detected\n"),
+		       device, blkid_parttable_get_type(tab));

</para><para depth="0"> 	if (!blkid_partlist_numof_partitions(ls)) {
 		warnx(_("%s: %s partition table does not contains "
@@ -625,7 +624,7 @@ static void __attribute__((__noreturn__)) usage(FILE *out)
 static void __attribute__((__noreturn__))
 errx_mutually_exclusive(const char *opts)
 {
-	errx(EXIT_FAILURE, "%s %s", opts, _("options are mutually exclusive"));
+	errx(EXIT_FAILURE, _("the options %s are mutually exclusive"), opts);
 }

</para><para depth="0"> int main(int argc, char **argv)
@@ -794,7 +793,7 @@ int main(int argc, char **argv)
 	}

</para><para depth="0"> 	if (verbose)
-		printf("device: %s, whole-disk: %s, lower: %d, upper: %d\n",
+		printf(_("partition: %s, device: %s, lower: %d, upper: %d\n"),
 				device, wholedisk, lower, upper);

</para><para depth="0"> 	if (what == ACT_ADD || what == ACT_DELETE) {
@@ -826,7 +825,7 @@ int main(int argc, char **argv)
 			if (upper &lt; 0)
 				upper = n + upper + 1;
 			if (lower &gt; upper) {
-				warnx(_("defined range &lt;%d:%d&gt; "
+				warnx(_("specified range &lt;%d:%d&gt; "
 					"does not make sense"), lower, upper);
 				rc = -1, what = 0;
 			}
</para><para depth="0">-- 
1.6.3.3

</para><para depth="0">From c18ddfa02f8cb907fa76c228e0742dc6218f3d56 Mon Sep 17 00:00:00 2001
From: Benno Schulenberg &lt;<email>bensberg@justemail.net</email>&gt;
Date: Tue, 1 Feb 2011 12:11:47 +0100
Subject: [PATCH 3/5] partx: normalize the punctuation of man page, and improve<br/>grammar here and there

</para><para depth="0">Signed-off-by: Benno Schulenberg &lt;<email>bensberg@justemail.net</email>&gt;
</para><para depth="0">---
 partx/partx.8 |   79 +++++++++++++++++++++++++++++----------------------------
 1 files changed, 40 insertions(+), 39 deletions(-)

</para><para depth="0">diff --git a/partx/partx.8 b/partx/partx.8
index 7af977f..5760ace 100644
--- a/partx/partx.8
+++ b/partx/partx.8
@@ -3,10 +3,10 @@
 .\" Copyright 2007 Red Hat, Inc.
 .\" Copyright 2010 Davidlohr Bueso &lt;<email>dave@gnu.org</email>&gt;
 .\" May be distributed under the GNU General Public License
-.TH PARTX 8 "28 Oct 2010"
+.TH PARTX 8 "1 Feb 2011"
 .SH NAME
 partx \-
-tell the linux kernel about presence and numbering of on-disk partitions.
+tell the Linux kernel about the presence and numbering of on-disk partitions
 .SH SYNOPSIS
 .B partx
 .RB [ \-a | \-d | \-s ]
@@ -25,88 +25,89 @@ tell the linux kernel about presence and numbering of<br/>on-disk partitions.
 .RI [ disk ]

</para><para depth="0"> .SH DESCRIPTION
-Given a device or disk-image, try to parse the partition table, and list the
-contents. Optionally add or remove partitions.
+Given a device or disk-image, \fBpartx\fP tries to parse the partition table<br/>and
+list its contents.  It optionally adds or removes partitions.

</para><para depth="0"> The
 .I disk
 argument is optional when a 
 .I partition 
-argument is provided. It's possible to force scanning on partition (for example
-to list nested subpartitions), then the string "-" has to be used, for example:
+argument is provided.  To force scanning a partition as if it were a whole disk
+(for example to list nested subpartitions), use the argument "-".  For example:

</para><para depth="0"> .RS
 .br
 .B partx \-\-show \- /dev/sda3
 .RE

</para><para depth="0">-This will use sda3 as a whole-disk rather than a partition.
+This will see sda3 as a whole-disk rather than a partition.

</para><para depth="0">-.B This is not an fdisk
-\- adding and removing partitions
-is not a change of the disk, but just telling the kernel
-about presence and numbering of on-disk partitions.
+.B This is not an fdisk program
+\-\- adding and removing partitions
+does not change the disk, it just tells the kernel
+about the presence and numbering of on-disk partitions.

</para><para depth="0"> .SH OPTIONS
 .IP "\fB\-a, \-\-add\fP"
-add specified partitions or read disk and add all partitions
+Add the specified partitions, or read the disk and add all partitions.
 .IP "\fB\-b, \-\-bytes\fP"
-Print the SIZE column in bytes rather than in human readable format.
+Print the SIZE column in bytes rather than in human-readable format.
 .IP "\fB\-d, \-\-delete\fP"
-delete specified or all partitions
-.IP "\fB\-l, \-\-list\fP"
-list partitions. Note that the all numbers are in 512-byte sectors. This output
-format is DEPRECATED in favour of \fB\-\-show\fP. Don't use it in newly written
-scripts.
+Delete the specified partitions or all partitions.
 .IP "\fB\-g, \-\-noheadings\fP"
 Do not print a header line.
+.IP "\fB\-l, \-\-list\fP"
+List the partitions.  Note that all numbers are in 512-byte sectors.  This<br/>output
+format is DEPRECATED in favour of \fB\-\-show\fP.  Don't use it in newly<br/>written
+scripts.
 .IP "\fB\-o, \-\-output \fIlist\fP"
-Define output columns for \fB\-\-show\fP and  \fB\-\-raw\fP output. If output<br/>format is
-not specified then \fB\-\-show\fP is enable by default. Use \fB\-\-help\fP to 
-get list of all supported columns.
+Define the output columns to use for \fB\-\-show\fP and  \fB\-\-raw\fP output.
+If no output arrangement is specified, then a default set is used.
+Use \fB\-\-help\fP to  get list of all supported columns.
 .IP "\fB\-r, \-\-raw\fP"
-Use raw output format.
+Use the raw output format.
 .IP "\fB\-s, \-\-show\fP"
-list partitions. All numbers (except SIZE) are in 512-byte sectors. The output
-columns could be (re)defined by \fB\-\-output\fP option.
+List the partitions.  All numbers (except SIZE) are in 512-byte sectors.  The<br/>output
+columns can be rearranged with the \fB\-\-output\fP option.
 .IP "\fB\-t, \-\-type \fItype\fP"
-Specify the partition table type -- dos, bsd, solaris, unixware or gpt.
+Specify the partition table type -- aix, bsd, dos, gpt, mac, minix, sgi,<br/>solaris_x86,
+sun, ultrix or unixware.
 .IP "\fB\-n, \-\-nr \fIM:N\fP"
-Specify the range of partitions. For backward compatibility is also supported
-range definition in &lt;M-N&gt; format. The range could be specified by negative 
-numbers, for example "--nr :-1" means last partition, and "--nr -2:-1" means 
-last two partition. Supported range specifications:
+Specify the range of partitions.  For backward compatibility also the format
+&lt;M-N&gt; is supported.  The range may contain negative 
+numbers, for example "--nr :-1" means the last partition, and "--nr -2:-1"<br/>means 
+the last two partitions.  Supported range specifications are:
 .RS
 .TP
 .B &lt;M&gt;
-Specify only one partition (e.g. --nr 3).
+Specifies just one partition (e.g. --nr 3).
 .TP
 .B &lt;M:&gt;
-Specify lower limit only (e.g. --nr 2:).
+Specifies lower limit only (e.g. --nr 2:).
 .TP
 .B &lt;:N&gt;
-Specify upper limit only (e.g. --nr :4).
+Specifies upper limit only (e.g. --nr :4).
 .TP
 .B &lt;M:N&gt;
 or
 .B &lt;M-N&gt;
-Specify lower and upper limits (e.g. --nr 2:4).
+Specifies lower and upper limits (e.g. --nr 2:4).
 .RE
 .SH EXAMPLES
 .IP "\fBpartx \-\-show /dev/sdb3\fP"
 .IP "\fBpartx \-\-show --nr 3 /dev/sdb\fP"
 .IP "\fBpartx \-\-show /dev/sdb3 /dev/sdb\fP"
-List partition 3 of /dev/sdb.
+All three commands list partition 3 of /dev/sdb.
 .IP "\fBpartx \-\-show \- /dev/sdb3\fP"
-List all subpartitions on /dev/sdb3 (the device is used as whole-disk).
+Lists all subpartitions on /dev/sdb3 (the device is used as whole-disk).
 .IP "\fBpartx \-o START -g --nr 3 /dev/sdb\fP"
-Print the start sector of partition 5 on /dev/sda without header.
+Prints the start sector of partition 5 on /dev/sda without header.
 .IP "\fBpartx \-o SECTORS,SIZE /dev/sda5 /dev/sda\fP"
-List the length in sectors and human readable size of partition 5 on /dev/sda.
+Lists the length in sectors and human-readable size of partition 5 on /dev/sda.
 .IP "\fBpartx \-\-add --nr 3:5 /dev/sdd\fP"
-Add all available partitions from 3 to 5 (inclusive) on /dev/sdd.
+Adds all available partitions from 3 to 5 (inclusive) on /dev/sdd.
 .IP "\fBpartx \-d --nr :-1 /dev/sdd\fP"
-Removes last partition on /dev/sdd.
+Removes the last partition on /dev/sdd.

</para><para depth="0"> .SH SEE ALSO
 .BR addpart (8),
</para><para depth="0">-- 
1.6.3.3

</para><para depth="0">From b37e9de86e157a9b14376b5deb5c5faf21875ce5 Mon Sep 17 00:00:00 2001
From: Benno Schulenberg &lt;<email>bensberg@justemail.net</email>&gt;
Date: Tue, 1 Feb 2011 21:55:54 +0100
Subject: [PATCH 4/5] lsblk: small grammar touches to the man page

</para><para depth="0">Signed-off-by: Benno Schulenberg &lt;<email>bensberg@justemail.net</email>&gt;
</para><para depth="0">---
 misc-utils/lsblk.8 |   35 ++++++++++++++++++-----------------
 1 files changed, 18 insertions(+), 17 deletions(-)

</para><para depth="0">diff --git a/misc-utils/lsblk.8 b/misc-utils/lsblk.8
index 2f9c17f..b7d3396 100644
--- a/misc-utils/lsblk.8
+++ b/misc-utils/lsblk.8
@@ -11,50 +11,51 @@ lsblk \- list block devices
 .IR device...
 .SH DESCRIPTION
 .B lsblk
-will list information about all or selected block devices. The
+lists information about all or the specified block devices. The
 .B lsblk
-command reads
+command reads the
 .I sysfs
 filesystem to gather information.
 .PP
-The command prints all block devices (except RAM disks) in the tree-like format
-by default. See
+The command prints all block devices (except RAM disks) in a tree-like format
+by default.  Use
 .B "lsblk --help"
-to get list of all available columns.
+to get a list of all available columns.
 .SH OPTIONS
 .IP "\fB\-a, \-\-all\fP"
 List all block devices.
 .IP "\fB\-b, \-\-bytes\fP"
-Print the SIZE column in bytes rather than in human readable format.
+Print the SIZE column in bytes rather than in human-readable format.
 .IP "\fB\-d, \-\-nodeps\fP"
-Don't print device holders or slaves. For example "lsblk --nodeps /dev/sda"<br/>prints
+Don't print device holders or slaves.  For example "lsblk --nodeps /dev/sda"<br/>prints
 information about the sda device only.
 .IP "\fB\-e, \-\-exclude \fIlist\fP
-Exclude devices by comma delimited list of major device numbers. Note that RAM
-disks (major=1) are excluded by default.
+Exclude the devices specified by a comma-delimited list of major device<br/>numbers.
+Note that RAM disks (major=1) are excluded by default.
 .IP "\fB\-f, \-\-fs\fP
-Output info about filesystems. This option is equivalent to -o<br/>NAME,FSTYPE,LABEL,MOUNTPOINT.
-The authoritative information about filesystems and raids are provided by
+Output info about filesystems.  This option is equivalent to "-o<br/>NAME,FSTYPE,LABEL,MOUNTPOINT".
+The authoritative information about filesystems and raids is provided by the
 .BR blkid (8)
 command.
 .IP "\fB\-h, \-\-help\fP"
-Print help and exit.
+Print a help text and exit.
 .IP "\fB\-i, \-\-ascii\fP"
 Use ascii characters for tree formatting.
 .IP "\fB\-m, \-\-perms\fP
-Output info about device owner, group and mode. This option is equivalent to -o<br/>NAME,SIZE,OWNER,GROUP,MODE.
+Output info about device owner, group and mode.  This option is equivalent to<br/>"-o NAME,SIZE,OWNER,GROUP,MODE".
 .IP "\fB\-l, \-\-list\fP"
 Use the list output format.
 .IP "\fB\-n, \-\-noheadings\fP"
 Do not print a header line.
 .IP "\fB\-o, \-\-output \fIlist\fP"
-Define output columns.  Use
+Specify which output columns to print.  Use
 .B "--help"
-to get list of all supported columns.
+to get a list of all supported columns.
 .IP "\fB\-r, \-\-raw\fP"
-Use raw output format.
+Use the raw output format.
 .IP "\fB\-t, \-\-topology\fP"
-Output info about block device topology. This option is equivalent to -o<br/>NAME,ALIGNMENT,MIN-IO,OPT-IO,PHY-SEC,LOG-SEC,ROTA,SCHED.
+Output info about block device topology.
+This option is equivalent to "-o<br/>NAME,ALIGNMENT,MIN-IO,OPT-IO,PHY-SEC,LOG-SEC,ROTA,SCHED".
 .SH AUTHORS
 .nf
 Milan Broz &lt;<email>mbroz@redhat.com</email>&gt;
</para><para depth="0">-- 
1.6.3.3

</para><para depth="0">From 89ae529097f8560ba56f7ea45af29c8544c1e415 Mon Sep 17 00:00:00 2001
From: Benno Schulenberg &lt;<email>bensberg@justemail.net</email>&gt;
Date: Wed, 2 Feb 2011 12:06:24 +0100
Subject: [PATCH 5/5] lscpu: add description of --sysroot option to man page,<br/>plus grammar touches

</para><para depth="0">Signed-off-by: Benno Schulenberg &lt;<email>bensberg@justemail.net</email>&gt;
</para><para depth="0">---
 sys-utils/lscpu.1 |   25 ++++++++++++++++---------
 1 files changed, 16 insertions(+), 9 deletions(-)

</para><para depth="0">diff --git a/sys-utils/lscpu.1 b/sys-utils/lscpu.1
index 5818db9..ba00538 100644
--- a/sys-utils/lscpu.1
+++ b/sys-utils/lscpu.1
@@ -1,36 +1,43 @@
 .\" Process this file with
 .\" groff -man -Tascii lscpu.1
 .\"
-.TH LSCPU 1 "JULY 2008" Linux "User Manuals"
+.TH LSCPU 1 "February 2011" Linux "User Manuals"
 .SH NAME
 lscpu \- CPU architecture information helper
 .SH SYNOPSIS
 .B lscpu
-.RB [ \-hp ]
+.RB [ \-hpx ]
+.RB [ \-s
+.IR directory ] 
 .SH DESCRIPTION
 .B lscpu
 gathers CPU architecture information like number of CPUs, threads,
 cores, sockets, NUMA nodes, information about CPU caches, CPU family,
 model, bogoMIPS, byte order and stepping from sysfs and /proc/cpuinfo, and<br/>prints it in
-human-readable format. It supports both online and offline CPUs. Alternatively,<br/>it can print out in parsable
-format including how different caches are shared by different CPUs,
-which can also be fed to other programs.
+a human-readable format.  It supports both online and offline CPUs.
+It can also print out in a parsable format,
+including how different caches are shared by different CPUs,
+which can be fed to other programs.
 .SH OPTIONS
 .TP
 .BR \-h , " \-\-help"
 Print a help message.
 .TP
 .BR \-p , " \-\-parse"
-Print out in parsable instead of printable format.
+Print out in parsable instead of human-readable format.
+.TP
+.BR \-s , " \-\-sysroot " \fIdirectory\fP
+Use the specified \fIdirectory\fP as system root.  This allows you to inspect
+a snapshot from a different system.
 .TP
 .BR \-x , " \-\-hex"
-Use hexadecimal masks for CPU(s) sets (e.g. 0x3). The default is print the sets
-in the list format (e.g. 0,1).
+Use hexadecimal masks for CPU sets (e.g. 0x3).  The default is to print the<br/>sets
+in list format (e.g. 0,1).
 .SH BUGS
 The basic overview about CPU family, model, etc. is always based on the first
 CPU only.

</para><para depth="0">-Sometimes in Xen Dom0 kernel reports wrong data.
+Sometimes in Xen Dom0 the kernel reports wrong data.
 .SH AUTHOR
 .nf
 Cai Qian &lt;<email>qcai@redhat.com</email>&gt;
</para><footer type="signature" depth="0" hash="834083587726508248">-- 
1.6.3.3

</footer></body></message>